/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
var NUGGET;
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/sass/style.scss":
/*!*****************************!*\
  !*** ./src/sass/style.scss ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://NUGGET/./src/sass/style.scss?");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/native.js":
/*!******************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/native.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  randomUUID\n});\n\n//# sourceURL=webpack://NUGGET/./node_modules/uuid/dist/esm-browser/native.js?");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/regex.js":
/*!*****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/regex.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i);\n\n//# sourceURL=webpack://NUGGET/./node_modules/uuid/dist/esm-browser/regex.js?");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/rng.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/rng.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ rng)\n/* harmony export */ });\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nfunction rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}\n\n//# sourceURL=webpack://NUGGET/./node_modules/uuid/dist/esm-browser/rng.js?");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/stringify.js":
/*!*********************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/stringify.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"unsafeStringify\": () => (/* binding */ unsafeStringify)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"./node_modules/uuid/dist/esm-browser/validate.js\");\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nfunction unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (stringify);\n\n//# sourceURL=webpack://NUGGET/./node_modules/uuid/dist/esm-browser/stringify.js?");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v4.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v4.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _native_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./native.js */ \"./node_modules/uuid/dist/esm-browser/native.js\");\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rng.js */ \"./node_modules/uuid/dist/esm-browser/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stringify.js */ \"./node_modules/uuid/dist/esm-browser/stringify.js\");\n\n\n\n\nfunction v4(options, buf, offset) {\n  if (_native_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomUUID && !buf && !options) {\n    return _native_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_2__.unsafeStringify)(rnds);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v4);\n\n//# sourceURL=webpack://NUGGET/./node_modules/uuid/dist/esm-browser/v4.js?");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/validate.js":
/*!********************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/validate.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _regex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regex.js */ \"./node_modules/uuid/dist/esm-browser/regex.js\");\n\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && _regex_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].test(uuid);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (validate);\n\n//# sourceURL=webpack://NUGGET/./node_modules/uuid/dist/esm-browser/validate.js?");

/***/ }),

/***/ "./src/components/animation/animationPanel.js":
/*!****************************************************!*\
  !*** ./src/components/animation/animationPanel.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AnimationPanel\": () => (/* binding */ AnimationPanel),\n/* harmony export */   \"AnimationPanelItem\": () => (/* binding */ AnimationPanelItem)\n/* harmony export */ });\n\nclass AnimationPanel extends HTMLElement { \n    constructor() {\n        super();\n        this.elementId = this.getAttribute('element-id')\n\n        this.isShow = false\n\n    }\n\n    render(){\n        const innerElements = this.innerHTML\n        const template = this.template();\n\n        this.innerHTML = template;\n        this.hide()\n        this.style.display = \"inline-block\"\n        this.classList.add(\"position-relative\", \"w-100\", \"bg-dark\")\n        this.querySelector(\"div\").innerHTML = innerElements\n    }\n\n    updateItem() {\n        const innerElements = this.querySelector(\"div\").innerHTML\n        this.clearItem()\n\n        const template = this.template();\n\n        this.innerHTML = template;\n        this.querySelector(\"div\").innerHTML = innerElements\n\n    }\n\n    move(left) {\n        this.style.left = `${left}px`\n    }\n\n    clearItem() {\n        this.innerHTML = ''\n\n    }\n\n    show() {\n        this.classList.remove(\"d-none\")\n        this.isShow = true\n        this.updateItem()\n    }\n\n    hide() {\n        this.classList.add(\"d-none\")\n        this.isShow = false\n    }\n\n    template() {\n        return `<div class=\"bg-dark\">  </div>`\n    }\n\n    \n\n\n    connectedCallback() {\n        this.render();\n\n\n    }\n\n    disconnectedCallback(){\n\n    }\n}\n\n\nclass AnimationPanelItem extends HTMLElement { \n    constructor() {\n        super();\n\n        this.animationType = this.getAttribute('animation-type')\n        this.elementId = this.getAttribute('element-id')\n\n        this.timeline = document.querySelector(\"element-timeline\").timeline\n\n\n    }\n\n    render(){\n        if (this.checkAnimationType() == false) {\n            return 0\n        }\n\n        // if (this.timeline[this.elementId].animation.isActivate == false) {\n        //     return 0\n        // }\n\n        this.style.width = `100%`\n        this.style.height = `1.5rem`\n        this.style.display = `inline-block`\n\n        this.classList.add(\"position-relative\", \"d-flex\", \"align-items-center\")\n        \n        this.clearPoints()\n        this.insertPointFromTimeline()\n    }\n\n    // NOTE: 포인트 타입 지정안되어이ㅛ음\n    insertPointFromTimeline() {\n        const timelineRange = Number(document.querySelector(\"element-timeline-range\").value)\n        const timeMagnification = timelineRange / 4\n        \n        let points = this.timeline[this.elementId].animation[this.animationType].points[0]\n\n        for (let index = 0; index < points.length; index++) {\n            let x = points[index][0] * timeMagnification\n            this.addPoint(x)\n        }\n    }\n\n    clearPoints() {\n        this.innerHTML = ''\n    }\n\n    addPoint(left) {\n        this.insertAdjacentHTML(\"beforeend\", `<div class=\"text-light position-absolute keyframe-diamond\" style=\"left: ${left}px;\">panel item </div>`)\n    }\n\n    checkAnimationType() {\n        let availableAnimationType = [\"position\", \"opacity\"] // scale, rotation\n        return availableAnimationType.includes(this.animationType)\n    }\n\n\n    showMenuDropdown({ x, y }) {\n        \n        document.querySelector(\"#menuRightClick\").innerHTML = `<menu-dropdown-body top=\"${y}\" left=\"${x}\">\n            <menu-dropdown-item onclick=\"document.querySelector('element-timeline').showKeyframeEditor('${this.elementId}', '${this.animationType}')\" item-name=\"키프레임 편집\"></menu-dropdown-item>\n        </menu-dropdown-body>`\n    }\n\n\n    handleMouseup(e) {\n        this.rightclick(e)\n    }\n\n    rightclick(e) {\n        const isRightClick = (e.which == 3) || (e.button == 2)\n\n        if(!isRightClick) {\n            return 0\n        }\n\n        this.showMenuDropdown({\n            x: e.clientX,\n            y: e.clientY\n        })\n    }\n\n\n    connectedCallback() {\n        this.render();\n        this.addEventListener('mouseup', this.handleMouseup.bind(this));\n    }\n\n    disconnectedCallback(){\n        this.removeEventListener('mouseup', this.handleMouseup);\n\n    }\n}\n\n\n\n//# sourceURL=webpack://NUGGET/./src/components/animation/animationPanel.js?");

/***/ }),

/***/ "./src/components/asset/assetBrowser.js":
/*!**********************************************!*\
  !*** ./src/components/asset/assetBrowser.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AssetBrowser\": () => (/* binding */ AssetBrowser)\n/* harmony export */ });\nclass AssetBrowser extends HTMLElement { \n    constructor() {\n        super();\n\n        this.directory = ''\n    }\n\n    render(){\n        const template = this.template();\n        this.innerHTML = template;\n    }\n\n    template() {\n        return `<div class=\"d-flex flex-row p-0 mt-2\">\n        <button ref=\"arrowup\" class=\"btn btn-transparent btn-sm\"><span class=\"material-symbols-outlined icon-sm\"> arrow_upward </span> </button>\n        <input ref=\"text\" type=\"text\" class=\"form-control\" aria-describedby=\"basic-addon1\" value=\"\" disabled>\n        </div>`\n    }\n\n    updateDirectoryInput(path) {\n        let directoryInput = this.querySelector(\"div\").querySelector(\"input[ref='text']\")\n        directoryInput.value = path\n    }\n\n    clickPrevDirectoryButton() {\n        this.directory = document.querySelector(\"asset-list\").nowDirectory\n        if (this.directory == '') {\n            return 0\n        }\n\n        let splitNowDirectory = this.directory.split('/')\n        let splitPrevDirectory = splitNowDirectory.slice(-splitNowDirectory.length, -1)\n\n        ipc.requestAllDir(splitPrevDirectory.join('/'))\n    }\n\n\n    connectedCallback() {\n        this.render();\n\n        let prevDirectoryButton = this.querySelector(\"div\").querySelector(\"button[ref='arrowup']\")\n        prevDirectoryButton.addEventListener('click', this.clickPrevDirectoryButton.bind(this));\n    }\n\n    disconnectedCallback(){\n        let prevDirectoryButton = this.querySelector(\"div\").querySelector(\"button[ref='arrowup']\")\n        prevDirectoryButton.removeEventListener('click', this.clickPrevDirectoryButton);\n    }\n\n}\n\n\n\n\n//# sourceURL=webpack://NUGGET/./src/components/asset/assetBrowser.js?");

/***/ }),

/***/ "./src/components/asset/assetList.js":
/*!*******************************************!*\
  !*** ./src/components/asset/assetList.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AssetFile\": () => (/* binding */ AssetFile),\n/* harmony export */   \"AssetFolder\": () => (/* binding */ AssetFolder),\n/* harmony export */   \"AssetList\": () => (/* binding */ AssetList)\n/* harmony export */ });\n\n\nclass AssetList extends HTMLElement { \n    constructor() {\n        super();\n        this.blobThumbnail = {}\n        this.nowDirectory = ''\n\n    }\n\n    render(){\n        const template = this.template();\n        this.innerHTML = template;\n    }\n\n    template() {\n        return `<div class=\"row px-2\"> <p class=\"text-light mt-2 text-center\">프로젝트 폴더를 지정한 후 표시됩니다.</p> <button class=\"btn btn-sm btn-default text-light\" onclick=\"NUGGET.directory.select()\">프로젝트 폴더 지정</button> </div>`\n    }\n\n    getFile(filename){\n        let splitedFilename = filename.split('.')\n        let splitedFilenameLength = splitedFilename.length\n        let fileType = splitedFilenameLength <= 2 ? '' : splitedFilename[splitedFilenameLength-1]\n\n        let listBody = this.querySelector(\"div\")\n        listBody.insertAdjacentHTML(\"beforeend\", `<asset-file asset-name=\"${filename}\"></asset-file>`)\n    }\n\n    getFolder(foldername){\n        let splitedFoldername = foldername.split('.')\n        let splitedFoldernameLength = splitedFoldername.length\n        let fileType = splitedFoldernameLength <= 2 ? '' : splitedFilename[splitedFoldernameLength-1]\n\n        let listBody = this.querySelector(\"div\")\n        listBody.insertAdjacentHTML(\"beforeend\", `<asset-folder asset-name=\"${foldername}\"></asset-folder>`)\n    }\n    \n    clearList() {\n        this.querySelector(\"div\").innerHTML = '';\n    }\n\n    connectedCallback() {\n        this.render();\n    }\n}\n\n\nclass AssetFile extends HTMLElement { \n    constructor() {\n        super();\n\n        this.classList.add(\"col-4\", \"d-flex\", \"flex-column\", \"bd-highlight\", \"overflow-hidden\", \"mt-1\", \"asset\")\n        this.filename = this.getAttribute('asset-name')\n        this.directory = document.querySelector(\"asset-list\").nowDirectory\n    }\n\n    async render(){\n        const fileType = NUGGET.mime.lookup(this.filename).type\n        const fileUrl = `file://${this.directory}/${this.filename}`\n        const assetList = document.querySelector(\"asset-list\")\n\n        let template;\n        if (fileType == 'image') {\n            template = this.templateImage(fileUrl);\n        } else if (fileType == 'video') {\n\n            if (assetList.blobThumbnail.hasOwnProperty(fileUrl)) {\n                let savedThumbnailUrl = assetList.blobThumbnail[fileUrl]                \n                template = this.templateVideoThumbnail(savedThumbnailUrl);\n            } else {\n                let thumbnailUrl = await this.captureVideoThumbnail(fileUrl)\n                assetList.blobThumbnail[fileUrl] = thumbnailUrl\n                template = this.templateVideoThumbnail(thumbnailUrl);\n            }\n\n        } else {\n            template = this.template(fileType);\n        }\n\n        \n        this.innerHTML = template;\n\n    }\n\n    template(filetype = 'unknown') {\n        const fileIcon = {\n            'video': 'video_file',\n            \"audio\": \"audio_file\",\n            \"unknown\": \"draft\"\n        }\n        return `<span class=\"material-symbols-outlined icon-lg align-self-center\"> ${fileIcon[filetype]} </span>\n        <b class=\"align-self-center text-ellipsis-scroll text-light text-center\">${this.filename}</b>`\n    }\n\n    templateImage(url) {\n        return `<img src=\"${url}\" alt=\"\" class=\"align-self-center asset-preview\">\n        <b class=\"align-self-center text-ellipsis-scroll text-light text-center\">${this.filename}</b>`\n    }\n\n    templateVideoThumbnail(blobUrl) {\n        return `\n        <div class=\"position-relative align-self-center\">\n        <img src=\"${blobUrl}\" alt=\"\" class=\"align-self-center asset-preview w-100\">\n        <span class=\"material-symbols-outlined position-absolute icon-center \">\n        play_arrow\n        </span>\n        </div>\n        \n        <b class=\"align-self-center text-ellipsis-scroll text-light text-center\">${this.filename}</b>`\n    }\n\n    handleClick() {\n        NUGGET.asset.add(`${this.directory}/${this.filename}`)\n        //this.patchToControl(`${this.directory}/${this.filename}`, `${this.directory}`)\n    }\n\n    async captureVideoThumbnail(url) {\n\n        const thumbnailUrl = await new Promise((resolve, reject) => {\n            fetch(`${url}`)\n            .then(res => {\n                return res.blob()\n            })\n            .then(blob => {\n                const blobUrl = URL.createObjectURL(blob);\n                const videoElement = document.createElement('video')\n        \n                videoElement.src = blobUrl\n                videoElement.preload = 'metadata'\n    \n                videoElement.onloadedmetadata = async () => {\n                    const thumbnailCanvas = document.createElement('canvas')\n\n                    videoElement.addEventListener('seeked', () => {\n                        let width = videoElement.videoWidth\n                        let height = videoElement.videoHeight\n                        thumbnailCanvas.width = width;\n                        thumbnailCanvas.height = height;\n                    \n                        let ctx = thumbnailCanvas.getContext('2d');\n                        ctx.drawImage(videoElement, 0, 0, thumbnailCanvas.width, thumbnailCanvas.height);\n                    \n                        thumbnailCanvas.toBlob((blob) => {\n                            const newImg = document.createElement('img');\n                            const url = URL.createObjectURL(blob);\n                          \n                            newImg.onload = () => {\n                                URL.revokeObjectURL(url);\n                            };\n                          \n                            resolve(url)\n                        });\n                        \n                    });\n                    \n                    videoElement.currentTime = 1;\n            \n                    // let image = thumbnailCanvas.toDataURL('image/jpeg');\n                    // resolve(image)\n\n                }\n            })\n\n        })\n\n        return thumbnailUrl\n\n    }\n\n\n    async connectedCallback() {\n        await this.render();\n        this.addEventListener('click', this.handleClick.bind(this));\n    }\n\n    disconnectedCallback(){\n        this.removeEventListener('click', this.handleClick);\n    }\n}\n\nclass AssetFolder extends HTMLElement { \n    constructor() {\n        super();\n\n        this.classList.add(\"col-4\", \"d-flex\", \"flex-column\", \"bd-highlight\", \"overflow-hidden\", \"mt-1\", \"asset\")\n        this.foldername = this.getAttribute('asset-name')\n        this.directory = document.querySelector(\"asset-list\").nowDirectory\n    }\n\n    render(){\n        const template = this.template();\n        this.innerHTML = template;\n    }\n\n    template() {\n        return `<span class=\"material-symbols-outlined icon-lg align-self-center\"> folder </span>\n        <b class=\"align-self-center text-ellipsis text-light text-center\">${this.foldername}</b>`\n    }\n\n    handleClick() {\n        ipc.requestAllDir(`${this.directory}/${this.foldername}`)\n    }\n\n\n    connectedCallback() {\n        this.render();\n        this.addEventListener('click', this.handleClick.bind(this));\n    }\n\n    disconnectedCallback(){\n        this.removeEventListener('click', this.handleClick);\n    }\n}\n\n\n\n\n//# sourceURL=webpack://NUGGET/./src/components/asset/assetList.js?");

/***/ }),

/***/ "./src/components/asset/assetUploader.js":
/*!***********************************************!*\
  !*** ./src/components/asset/assetUploader.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AssetDropUploader\": () => (/* binding */ AssetDropUploader)\n/* harmony export */ });\nclass AssetDropUploader extends HTMLElement { \n    constructor() {\n        super();\n\n    }\n\n    render(){\n        const template = this.template();\n\n        this.classList.add(\"bg-dark\", \"position-absolute\", \"d-none\")\n        this.style.left = '0px'\n        this.style.top = '0px'\n        this.style.width = '100%'\n        this.style.height = '100%'\n        this.style.zIndex = \"10000\"\n        this.style.opacity = '80%'\n        this.style.paddingTop = '46vh'\n\n        this.innerHTML = template;\n    }\n\n    template() {\n        return `\n        <div class=\"row justify-content-center align-items-start\">\n            <b class=\"col-12 align-self-center text-light position-fixed text-center\">\n                여기에 파일을 드롭해주세요\n            </b>\n        </div>`\n    }\n\n\n\n\n    handleDragEnter() {\n        this.classList.remove(\"d-none\")\n    }\n\n    handleDragOver(e) {\n        e.preventDefault();\n\n        this.classList.remove(\"d-none\")\n    }\n\n    handleDragLeave() {\n        this.classList.add(\"d-none\")\n    }\n\n    handleDrop(e) {\n\n        e.preventDefault();\n        try {\n\n            let filePath = e.dataTransfer.files[0].path\n            NUGGET.asset.add(filePath)\n            this.classList.add(\"d-none\")\n        } catch (error) {\n\n            setTimeout(() => {\n                this.classList.add(\"d-none\")\n\n            }, 800);\n        }\n\n    }\n\n\n\n    connectedCallback() {\n        this.render();\n\n        document.addEventListener('dragenter', this.handleDragEnter.bind(this))\n        document.addEventListener('dragover', this.handleDragOver.bind(this))\n        this.addEventListener('dragleave', this.handleDragLeave.bind(this))\n        this.addEventListener('drop', this.handleDrop.bind(this))\n\n    }\n\n    disconnectedCallback(){\n\n    }\n\n}\n\n\n\n\n//# sourceURL=webpack://NUGGET/./src/components/asset/assetUploader.js?");

/***/ }),

/***/ "./src/components/element/elementBar.js":
/*!**********************************************!*\
  !*** ./src/components/element/elementBar.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ElementBar\": () => (/* binding */ ElementBar)\n/* harmony export */ });\n/* harmony import */ var _utils_element_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/element.js */ \"./src/utils/element.js\");\n\n\nclass ElementBar extends HTMLElement { \n    constructor() {\n        super();\n\n        //this.directory = ''\n\n        this.elementTimeline = document.querySelector(\"element-timeline\")\n        this.elementControl = document.querySelector(\"element-control\")\n\n        this.timeline = document.querySelector(\"element-timeline\").timeline\n\n        this.elementId = this.getAttribute('element-id')\n        this.elementBarType = this.getAttribute('element-type') || 'static'\n        this.elementFileType = this.timeline[this.elementId].filetype\n\n        \n        this.width = this.millisecondsToPx(this.timeline[this.elementId].duration)\n        this.startTime = this.millisecondsToPx(this.timeline[this.elementId].startTime)\n\n\n\n        this.isDrag = false\n        this.isResize = false\n        this.resizeLocation = 'left'\n        this.initialDuration = 1000\n\n        this.initialPosition = {x: 0, y: 0}\n\n        let splitedFilepath = this.timeline[this.elementId].localpath.split('/')\n        this.filepath = splitedFilepath[splitedFilepath.length-1]\n\n        this.resizeEventHandler;\n        this.dragEventHandler;\n\n    }\n\n    render(){\n        let template;\n        if (this.elementBarType == 'static') {\n            template = this.templateStatic();\n        } else {\n            template = this.templateDynamic();\n        }\n        const backgroundColor = this.getRandomColor()\n\n        this.classList.add(\"element-bar\", 'd-block', 'd-flex', 'align-items-center')\n        this.setAttribute(\"style\", `width: ${this.width}px; left: ${this.startTime}px; background-color: ${backgroundColor};`)\n        this.setAttribute(\"value\", this.elementId)\n\n        this.innerHTML = template;\n\n        this.setTrimBar()\n    }\n\n    setTrimBar() {\n        if (this.elementBarType == 'dynamic') {\n            let trimStart = this.millisecondsToPx(this.timeline[this.elementId].trim.startTime)\n            let trimEnd = this.millisecondsToPx(this.timeline[this.elementId].trim.endTime)\n\n            // let resizeRangeTargetLeft = this.querySelector(\".element-bar-hiddenspace-left\")\n            // let resizeRangeTargetRight = this.querySelector(\".element-bar-hiddenspace-right\")\n\n            // resizeRangeTargetLeft.style.width = `${trimStart}px`\n            // resizeRangeTargetRight.style.width = `${trimEnd}px`\n\n            this.setTrimStart(trimStart)\n            this.setTrimEnd(trimEnd)\n            this.elementControl.changeTimelineRange()\n\n        }\n    }\n\n    templateStatic() {\n\n        return `\n        ${this.templateTypeLogo({ type: this.timeline[this.elementId].filetype })}\n        <span ref=\"name\">${this.filepath}</span>\n        \n        <div class=\"element-bar-resize-left position-absolute\" onmousedown=\"this.parentNode.resizeMousedown(this, 'left')\"></div>\n        <div class=\"element-bar-resize-right position-absolute\" onmousedown=\"this.parentNode.resizeMousedown(this, 'right')\"></div>\n        `\n    }\n\n    templateDynamic() {\n\n        return `\n        ${this.templateTypeLogo({ type: this.timeline[this.elementId].filetype })}\n        <span ref=\"name\">${this.filepath}</span>\n        <div class=\"element-bar-hiddenspace-left position-absolute\">\n            <div class=\"element-bar-resize-hiddenspace-left position-absolute\" onmousedown=\"this.parentNode.parentNode.resizeRangeMousedown(this, 'left')\">\n            </div>\n        </div>\n        <div class=\"element-bar-hiddenspace-right position-absolute\">\n            <div class=\"element-bar-resize-hiddenspace-right position-absolute\" onmousedown=\"this.parentNode.parentNode.resizeRangeMousedown(this, 'right')\">\n            </div>\n        </div>\n        `\n    }\n\n    templateTypeLogo({ type }) {\n        let logos = {\n            \"image\": `<span class=\"material-symbols-outlined\">image</span>`,\n            \"video\": `<span class=\"material-symbols-outlined\">movie</span>`,\n            \"audio\": `<span class=\"material-symbols-outlined\">music_note</span>`,\n            \"text\": `<span class=\"material-symbols-outlined\">description</span>`\n        }\n\n        return logos[type]\n    }\n\n    getRandomArbitrary(min, max) {\n        return Math.round(Math.random() * (max - min) + min);\n    }\n\n\n    getRandomColor() {\n        //let color = \"#\" + Math.round(Math.random() * 0xffffff).toString(16) + '51'\n        let rgbMinColor = {r: 45, g: 23, b: 56}\n        let rgbMaxColor = {r: 167, g: 139, b: 180}\n\n        let rgb = {\n            r: this.getRandomArbitrary(rgbMinColor.r, rgbMaxColor.r),\n            g: this.getRandomArbitrary(rgbMinColor.g, rgbMaxColor.g),\n            b: this.getRandomArbitrary(rgbMinColor.b, rgbMaxColor.b)\n        }\n\n        let rgbColor = `rgb(${rgb.r},${rgb.g},${rgb.b})`\n        return rgbColor\n    }\n\n    animationPanelMove(left) {\n        if (this.elementBarType == 'dynamic') {\n            return 0\n        }\n        document.querySelector(`animation-panel[element-id=\"${this.elementId}\"]`).move(left)\n    }\n\n    drag(e) {\n        if (this.isDrag) {\n            let x = e.pageX - this.initialPosition.x\n            let y = e.pageY - this.initialPosition.y\n    \n            this.style.left = `${x}px`\n            this.animationPanelMove(x)\n            this.timeline[this.elementId].startTime = this.pxToMilliseconds(x)\n\n            this.dragEditGuide()\n        }\n    }\n\n    dragEditGuide() {\n        let startX = this.elementBarType == 'static' ? Number(this.style.left.split('px')[0]) : Number(this.style.left.split('px')[0])\n        let endX = this.elementBarType == 'static' ? Number(this.style.left.split('px')[0]) + Number(this.style.width.split('px')[0]) : Number(this.style.left.split('px')[0]) + this.millisecondsToPx(this.timeline[this.elementId].trim.endTime)\n\n        let elementBarPosition = {\n            startX: startX,\n            endX: endX\n        }\n\n\n\n        for (const elementId in this.timeline) {\n            if (Object.hasOwnProperty.call(this.timeline, elementId)) {\n                if (elementId == this.elementId) {\n                    continue\n                }\n\n                const element = this.timeline[elementId];\n                const elementType = _utils_element_js__WEBPACK_IMPORTED_MODULE_0__.elementUtils.getElementType(element.filetype)\n                this.guide({ element: element, filetype: elementType, elementBarPosition: elementBarPosition })\n            }\n        }\n    }\n\n    guide({ element, filetype, elementBarPosition }) {\n        let startX = this.millisecondsToPx(element.startTime)\n        let endX = this.millisecondsToPx(element.startTime + element.duration)\n        let checkRange = 10\n\n\n\n        // if (elementBarPosition.startX > startX - checkRange && elementBarPosition.startX < startX + checkRange) {\n        //     let px = this.elementBarType == 'static' ? startX : startX - this.millisecondsToPx(this.timeline[this.elementId].trim.startTime)\n        //     this.style.left = `${px}px`\n        //     this.timeline[this.elementId].startTime = this.pxToMilliseconds(px)\n        // }\n\n        if (elementBarPosition.startX > startX - checkRange && elementBarPosition.startX < startX + checkRange) {\n            let px = this.elementBarType == 'static' ? startX : startX\n            this.style.left = `${px}px`\n            this.timeline[this.elementId].startTime = this.pxToMilliseconds(px)\n        }\n\n        if (elementBarPosition.startX > endX - checkRange && elementBarPosition.startX < endX + checkRange) {\n            let px = this.elementBarType == 'static' ? endX : endX\n            this.style.left = `${px}px`\n            this.timeline[this.elementId].startTime = this.pxToMilliseconds(px)\n        }\n    }\n\n\n\n\n    dragMousedown(e) {\n        this.addEventListener('mousemove', this.drag);\n\n        this.isDrag = true\n        this.initialPosition.x = e.pageX - Number(this.style.left.split(\"px\")[0])\n        this.initialPosition.y = e.pageY\n\n        this.dragEventHandler = this.drag.bind(this)\n        document.addEventListener('mousemove', this.dragEventHandler);\n    }\n\n    dragMouseup() {\n        document.removeEventListener('mousemove', this.dragEventHandler);\n        this.isDrag = false\n    }\n\n    setWidth(width) {\n        this.style.width = `${width}px`\n    }\n\n    setLeft(left) {\n        this.style.left = `${left}px`\n    }\n\n    setTrimStart(px) {\n        let resizeRangeTargetLeft = this.querySelector(\".element-bar-hiddenspace-left\")\n        resizeRangeTargetLeft.style.width = `${px}px`\n    }\n\n    setTrimEnd(px) {\n        let duration = this.millisecondsToPx(this.timeline[this.elementId].duration)\n        let startTrimWidth = this.millisecondsToPx(this.timeline[this.elementId].trim.startTime)\n        if (duration - startTrimWidth < px) {\n            return 0\n        }\n        let resizeRangeTargetRight = this.querySelector(\".element-bar-hiddenspace-right\")\n        resizeRangeTargetRight.style.width = `${px}px`\n    }\n\n\n    millisecondsToPx(ms) {\n        const timelineRange = Number(document.querySelector(\"element-timeline-range\").value)\n        const timeMagnification = timelineRange / 4\n        const convertPixel = ms / 5 * timeMagnification\n        return Number(convertPixel.toFixed(0))\n    }\n\n    pxToMilliseconds(px) {\n        const timelineRange = Number(document.querySelector(\"element-timeline-range\").value)\n        const timeMagnification = timelineRange / 4\n        const convertMs = px * 5 / timeMagnification\n        return Number(convertMs.toFixed(0))\n    }\n\n    resize(e) {\n        this.unselectThisElement()\n        this.isDrag = false\n\n        let x = e.pageX - this.initialPosition.x\n        let y = e.pageY - this.initialPosition.y\n\n        let duration = this.initialDuration \n        let timelineScrollLeft = document.querySelector(\"element-timeline\").scrollLeft\n\n        if (this.resizeLocation == 'left') {\n            this.setLeft(x)\n            this.setWidth(duration-x)\n            this.timeline[this.elementId].startTime = this.pxToMilliseconds(x)\n            this.timeline[this.elementId].duration = this.pxToMilliseconds(Number(this.style.width.split('px')[0]))\n            this.animationPanelMove(x)\n\n        } else {\n            //this.style.left = `${x-duration}px`\n            this.setWidth(timelineScrollLeft+e.pageX-Number(this.style.left.split('px')[0]))\n            \n            //this.timeline[this.elementId].startTime = this.initialPosition.x\n            this.timeline[this.elementId].duration = this.pxToMilliseconds(Number(this.style.width.split('px')[0]))\n        }\n    }\n\n\n    resizeRange(e) {\n        this.isDrag = false\n\n        let x = e.pageX - this.initialPosition.x\n\n        let duration = this.initialDuration \n        let originDuration = Number(this.style.width.split('px')[0])\n\n        let resizeRangeTargetLeft = this.querySelector(\".element-bar-hiddenspace-left\")\n        let resizeRangeTargetRight = this.querySelector(\".element-bar-hiddenspace-right\")\n        let timelineElement = document.querySelector(\"element-timeline\")\n\n        let windowWidth = window.innerWidth\n        let timelineBodyWidth = timelineElement.scrollWidth\n        let targetWidth = Number(this.style.width.split('px')[0])\n        let targetLeft = Number(this.style.left.split('px')[0])\n        let targetRight = windowWidth-originDuration-targetLeft < 0 ? timelineBodyWidth - (targetLeft + targetWidth) : 0\n\n        let scrollLeft = timelineElement.scrollLeft\n        let scrollRight = timelineBodyWidth-windowWidth-scrollLeft\n        let marginLeftTargetToWidth = windowWidth-originDuration-targetLeft > 0 ? windowWidth-originDuration-targetLeft - 10 : 0\n\n        if (this.resizeLocation == 'left') {\n            this.setTrimStart(this.initialPosition.x +x+scrollLeft-targetLeft)\n            this.timeline[this.elementId].trim.startTime = this.pxToMilliseconds(Number(resizeRangeTargetLeft.style.width.split('px')[0]))\n        } else {\n            let px = (targetLeft + targetWidth) - e.pageX - scrollLeft // (scrollRight+windowWidth-x-this.initialPosition.x)-marginLeftTargetToWidth-targetRight\n            let resizeRangeTargetRight = this.querySelector(\".element-bar-hiddenspace-right\")\n            resizeRangeTargetRight.style.width = `${px}px`\n\n            this.timeline[this.elementId].trim.endTime = Number(this.pxToMilliseconds(duration-px).toFixed(0))\n        }\n    }\n\n    resizeMousedown(e, location) {\n        this.isResize = true\n        this.resizeLocation = location\n        this.isDrag = false\n        this.initialPosition.x = location == 'left' ? \n            Number(this.style.left.split(\"px\")[0]) : \n            Number(this.style.left.split(\"px\")[0])\n        this.initialPosition.y = e.pageY\n        this.initialDuration = this.millisecondsToPx(this.timeline[this.elementId].duration) + Number(this.style.left.split(\"px\")[0])\n\n        this.resizeEventHandler = this.resize.bind(this)\n        document.addEventListener('mousemove', this.resizeEventHandler);\n\n    }\n\n    resizeRangeMousedown(e, location) {\n        this.isResize = true\n        this.resizeLocation = location\n        this.resizeRangeLeft = Number(this.querySelector(\".element-bar-hiddenspace-left\").style.width.split('px')[0])\n        this.resizeRangeRight = Number(this.querySelector(\".element-bar-hiddenspace-right\").style.width.split('px')[0])\n\n        this.isDrag = false\n        this.initialPosition.x = Number(this.style.left.split(\"px\")[0])\n        this.initialDuration = this.millisecondsToPx(this.timeline[this.elementId].duration)\n\n        this.resizeEventHandler = this.resizeRange.bind(this)\n        document.addEventListener('mousemove', this.resizeEventHandler);\n\n    }\n\n    resizeMouseup() {\n        document.removeEventListener('mousemove', this.resizeEventHandler);\n\n        this.isResize = false\n    }\n\n    changeOutlineColor(action = 'add') {\n        if (action == 'add') {\n            this.classList.add(\"border-inner-light\")\n        } else if (action == 'remove') {\n            this.classList.remove(\"border-inner-light\")\n        }\n    }\n\n    selectThisElement() {\n        const elementControl = document.querySelector('element-control')\n        if (elementControl.selectElementsId.includes(this.elementId)) {\n            return 0\n        }\n        elementControl.selectElementsId.push(this.elementId)\n        this.changeOutlineColor('add')\n    }\n\n    unselectThisElement() {\n        const elementControl = document.querySelector('element-control')\n        elementControl.selectElementsId = elementControl.selectElementsId.filter((item) => {\n            return item !== this.elementId;\n        });\n\n        this.changeOutlineColor('remove')\n    }\n\n    animationPanelDropdownTemplate() {\n        // NOTE: 영상 애니메이션은 아직 지원 안함\n        if (this.elementBarType == \"dynamic\" || this.elementFileType == 'text') {\n            return ''\n        }\n        let isShowPanel = this.isShowAnimationPanel()\n        let itemName = isShowPanel == true ? \"애니메이션 패널 닫기\" : \"애니메이션 패널 열기\"\n        let itemOnclickEvent = isShowPanel == true ? `document.querySelector(\"animation-panel[element-id='${this.elementId}']\").hide()` : `document.querySelector(\"animation-panel[element-id='${this.elementId}']\").show()`\n\n        let template = `<menu-dropdown-item onclick=${itemOnclickEvent} item-name=\"${itemName}\"></menu-dropdown-item>`\n        return template\n    }\n\n    isShowAnimationPanel() {\n        return document.querySelector(`animation-panel[element-id='${this.elementId}']`).isShow\n    }\n\n\n    showMenuDropdown({ x, y }) {\n        let animationPanel = this.animationPanelDropdownTemplate()\n        document.querySelector(\"#menuRightClick\").innerHTML = `\n            <menu-dropdown-body top=\"${y}\" left=\"${x}\">\n            ${animationPanel}\n\n            <menu-dropdown-item onclick=\"document.querySelector('element-timeline').removeSeletedElements()\" item-name=\"삭제\"> </menu-dropdown-item>\n        </menu-dropdown-body>`\n    }\n\n\n\n    showSideOption() {\n        const optionGroup = document.querySelector(\"option-group\")\n        optionGroup.showOption({ filetype: this.elementFileType, elementId: this.elementId })\n    }\n\n    rightclick(e) {\n        const isRightClick = (e.which == 3) || (e.button == 2)\n\n        if(!isRightClick) {\n            return 0\n        }\n\n        this.showMenuDropdown({\n            x: e.clientX,\n            y: e.clientY\n        })\n        //document.querySelector('element-timeline').removeSeletedElements()\n    }\n\n\n    handleMousedown(e) {\n        this.selectThisElement()\n        this.dragMousedown(e)\n        this.showSideOption()\n    }\n\n    handleMouseup(e) {\n        this.rightclick(e)\n        this.selectThisElement()\n    }\n\n    connectedCallback() {\n        this.render();\n\n        this.addEventListener('mousedown', this.handleMousedown.bind(this));\n        this.addEventListener('mouseup', this.handleMouseup.bind(this));\n\n        //this.addEventListener('mousedown', this.dragMousedown.bind(this));\n        // this.addEventListener('mouseup', this.rightclick.bind(this));\n        // this.addEventListener('mouseup', this.click.bind(this));\n\n        document.addEventListener('mouseup', this.dragMouseup.bind(this));\n        document.addEventListener('mouseup', this.resizeMouseup.bind(this));\n\n    }\n\n    disconnectedCallback(){\n        this.removeEventListener('mousedown', this.handleMousedown);\n        this.removeEventListener('mouseup', this.handleMouseup);\n\n        document.removeEventListener('mouseup', this.dragMouseup);\n        document.removeEventListener('mouseup', this.resizeMouseup);\n    }\n}\n\n\n\n//# sourceURL=webpack://NUGGET/./src/components/element/elementBar.js?");

/***/ }),

/***/ "./src/components/element/elementControl.js":
/*!**************************************************!*\
  !*** ./src/components/element/elementControl.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DragAlignmentGuide\": () => (/* binding */ DragAlignmentGuide),\n/* harmony export */   \"ElementControl\": () => (/* binding */ ElementControl),\n/* harmony export */   \"ElementControlAsset\": () => (/* binding */ ElementControlAsset)\n/* harmony export */ });\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ \"./node_modules/uuid/dist/esm-browser/v4.js\");\n\n\nclass ElementControl extends HTMLElement { \n    constructor() {\n        super();\n\n        this.elementTimeline;\n        this.timeline;\n        this.timelineCursor;\n\n        window.addEventListener('DOMContentLoaded', () => {\n            this.elementTimeline = document.querySelector(\"element-timeline\");\n            this.timeline = document.querySelector(\"element-timeline\").timeline;\n            this.timelineCursor = document.querySelector(\"element-timeline-cursor\");\n            this.changeTimelineRange()\n\n        });\n\n        this.scroller = undefined\n        this.resizeTimeout = undefined;\n        this.resizeInterval = undefined;\n\n        this.isResizeStart = false;\n        this.previousPreviewSize = {\n            w: 1920,\n            h: 1080\n        }\n\n        this.isPaused = true\n        this.isPlay = {}\n\n        \n        this.activeElementId = ''\n        this.selectElementsId = []\n\n        this.existActiveElement = false\n\n        this.progress = 0\n        this.progressTime = 0\n        this.previewRatio = 1920/1920\n\n        this.resizeEvent()\n    \n    }\n\n\n    async resizeEvent() {\n        this.resizePreview()\n        clearTimeout(this.resizeTimeout)\n\n        if (this.isResizeStart == false) {\n            this.isResizeStart = true\n            this.resizeInterval = setInterval(() => {\n        \n                this.matchAllElementsSizeToPreview()\n\n\n            }, 50);\n        }\n\n        this.resizeTimeout = setTimeout(() => {\n            clearInterval(this.resizeInterval)\n            this.isResizeStart = false\n        }, 300);\n\n    }\n\n    resizePreview() {\n        let innerWidth = document.getElementById(\"split_col_2\").offsetWidth\n        let splitTopHeight = document.getElementById(\"split_top\").offsetHeight\n        let splitBottomHeight = document.getElementById(\"split_bottom\").offsetHeight\n        let videoBoxHeight = document.getElementById(\"videobox\").offsetHeight\n        let videoHeight = document.getElementById(\"video\").offsetHeight\n\n        let elementTimelineHeight = document.querySelector(\"element-timeline\").offsetHeight\n\n        let horizontalResizeWidth = Math.round(innerWidth*0.95);\n        let horizontalResizeHeight = Math.round((horizontalResizeWidth*9)/16);\n\n        let verticalResizeHeight = (window.innerHeight - (splitBottomHeight + 20) - (videoBoxHeight - videoHeight))*0.92\n        let verticalResizeWidth = verticalResizeHeight * (16 / 9)\n\n        let width = horizontalResizeWidth > verticalResizeWidth ? verticalResizeWidth : horizontalResizeWidth\n        let height = horizontalResizeHeight > verticalResizeHeight ? verticalResizeHeight : horizontalResizeHeight\n\n\n        preview.width = width\n        preview.height = height\n        preview.style.width = `${width}px`\n        preview.style.height = `${height}px`\n        video.style.width = `${width}px`\n        video.style.height = `${height}px`\n\n        this.previewRatio = 1920/width\n\n    }\n\n    matchAllElementsSizeToPreview(gapFromPreviousRatio) {\n\n        for (const elementId in this.timeline) {\n            if (Object.hasOwnProperty.call(this.timeline, elementId)) {\n                let targetElement = document.querySelector(`#element-${elementId}`)\n\n                let elementHeight = Number(this.timeline[elementId].height) / this.previewRatio\n                let elementWidth = Number(this.timeline[elementId].width) / this.previewRatio\n                let elementTop = Number(this.timeline[elementId].location.y) / this.previewRatio\n                let elementLeft = Number(this.timeline[elementId].location.x) / this.previewRatio\n\n                if (this.timeline[elementId].filetype != 'text') {\n                    targetElement.resizeStyle({\n                        x: elementLeft,\n                        y: elementTop,\n                        w: elementWidth,\n                        h: elementHeight\n                    })\n                } else if (this.timeline[elementId].filetype == 'text') {\n                    let elementTextSize = Number(this.timeline[elementId].fontsize) / this.previewRatio\n\n                    targetElement.resizeStyle({\n                        x: elementLeft,\n                        y: elementTop,\n                        w: elementWidth,\n                        h: elementHeight\n                    })\n\n                    targetElement.resizeFont({\n                        px: elementTextSize\n                    })\n                }   \n            }\n        }\n    }\n\n    removeElementById(elementId) {\n        this.querySelector(`element-control-asset[element-id=\"${elementId}\"]`).remove()\n        this.timeline = document.querySelector(\"element-timeline\").timeline;\n\n    }\n\n    removeAllElementAsset() {\n        const assetLists = this.querySelectorAll(\"element-control-asset\")\n        assetLists.forEach(element => {\n            element.remove()\n        });\n        this.timeline = document.querySelector(\"element-timeline\").timeline;\n    }\n\n    fitElementSizeOnPreview(width, height) {\n        let preview = {\n            w: Number(document.querySelector(\"#video\").style.width.split(\"px\")[0]),\n            h: Number(document.querySelector(\"#video\").style.height.split(\"px\")[0])\n        }\n\n        let originRatio = width/height\n        let resizeHeight = height < preview.h ? height : preview.h\n        let resizeWidth = resizeHeight * originRatio\n\n        return {\n            width: resizeWidth,\n            height: resizeHeight\n        }\n    }\n\n    addImage(blob, path) {\n        const elementId = this.generateUUID()\n        const img = document.createElement('img');\n\n        img.src = blob\n        img.onload = () => {\n\n            let resize = this.fitElementSizeOnPreview(img.width, img.height)\n            let width = resize.width\n            let height = resize.height // /division\n\n            this.timeline[elementId] = {\n                blob: blob,\n                startTime: 0,\n                duration: 1000,\n                location: {x: 0, y: 0},\n                rotation: 0,\n                width: width,\n                height: height,\n                localpath: path,\n                filetype: 'image',\n                animation: {\n                    position: {\n                        isActivate: false,\n                        points: [[], []],\n                        allpoints: [[], []]\n                    },\n                    opacity: {\n                        isActivate: false,\n                        points: [[]],\n                        allpoints: [[]]\n                    },\n                }\n\n            }\n\n            this.showImage(elementId)\n            this.elementTimeline.addElementBar(elementId)\n\n        }\n    }\n\n\n    addVideo(blob, path) {\n        const elementId = this.generateUUID()\n        const video = document.createElement('video')\n        const toastMetadata = bootstrap.Toast.getInstance(document.getElementById('loadMetadataToast'))\n        toastMetadata.show()\n\n        \n\n        video.src = blob\n        video.preload = 'metadata'\n\n        video.onloadedmetadata = () => {\n\n            let width = video.videoWidth\n            let height = video.videoHeight\n            let duration = video.duration * 1000\n\n            window.electronAPI.req.ffmpeg.getMetadata(blob, path)\n            \n            window.electronAPI.res.ffmpeg.getMetadata( (evt, blobdata, metadata) => {\n                if (blobdata != blob) {\n                    return 0\n                }\n                let isExist = false\n\n                setTimeout(() => {\n                    toastMetadata.hide()\n                }, 1000)\n\n                metadata.streams.forEach(element => {\n                    if (element.codec_type == \"audio\") {\n                        isExist = true\n                    }\n                });\n\n\n                this.timeline[elementId] = {\n                    blob: blob,\n                    startTime: 0,\n                    duration: duration,\n                    location: {x: 0, y: 0},\n                    trim: {startTime: 0, endTime: duration},\n                    rotation: 0,\n                    width: width,\n                    height: height,\n                    localpath: path,\n                    isExistAudio: isExist,\n                    filetype: 'video',\n                    codec: { video: \"default\", audio: \"default\" }\n                }\n    \n                \n                this.showVideo(elementId)\n                this.elementTimeline.addElementBar(elementId)\n            })\n\n\n            // ffmpeg.ffprobe(path, (err, metadata) => {\n\n            // })\n    \n\n\n\n        }\n    }\n\n    addText() {\n        const elementId = this.generateUUID()\n\n        this.timeline[elementId] = {\n            startTime: 0,\n            duration: 1000,\n            text: \"텍스트\",\n            textcolor: \"#ffffff\",\n            fontsize: 52,\n            fontpath: \"default\",\n            fontname: \"notosanskr\",\n            fontweight: \"medium\",\n            fonttype: \"otf\",\n            location: {x: 0, y: 0},\n            rotation: 0,\n            localpath: '/TEXTELEMENT',\n            filetype: 'text',\n            height: 52,\n            width: 500,\n            widthInner: 200,\n            animation: {\n                position: {\n                    isActivate: false,\n                    points: [[], []],\n                    allpoints: [[], []]\n                },\n                opacity: {\n                    isActivate: false,\n                    points: [[]],\n                    allpoints: [[]]\n                }\n            }\n        }\n\n        this.showText(elementId)\n        this.elementTimeline.addElementBar(elementId)\n    }\n\n\n    addAudio(blob, path) {\n        const elementId = this.generateUUID()\n        const audio = document.createElement('audio')\n\n        audio.src = blob\n\n        audio.onloadedmetadata = () => {\n            let duration = audio.duration*1000\n\n            this.timeline[elementId] = {\n                blob: blob,\n                startTime: 0,\n                duration: duration,\n                location: {x: 0, y: 0}, // NOT USING\n                trim: {startTime: 0, endTime: duration},\n                localpath: path,\n                filetype: 'audio'\n            }\n\n            \n            this.showAudio(elementId)\n            this.elementTimeline.addElementBar(elementId)\n\n        }\n\n    }\n\n    showAnimation(elementId, animationType) {\n        let index = Math.round(document.querySelector(\"element-control\").progressTime / 20)\n        let indexToMs = index * 20\n        let startTime = Number(this.timeline[elementId].startTime)\n        let indexPoint = Math.round((indexToMs - startTime) / 20)\n\n        try {\n            if (indexPoint < 0) {\n                return 0\n            }\n\n            document.querySelector(`#element-${elementId}`).style.left = `${this.timeline[elementId].animation[animationType].allpoints[0][indexPoint].y / this.previewRatio}px`\n            document.querySelector(`#element-${elementId}`).style.top = `${this.timeline[elementId].animation[animationType].allpoints[1][indexPoint].y / this.previewRatio}px`\n\n        } catch (error) {\n            \n        }\n\n\n    }\n\n\n    showImage(elementId) {\n\n        if (document.getElementById(`element-${elementId}`) == null) {\n            this.insertAdjacentHTML(\"beforeend\", `<element-control-asset element-id=\"${elementId}\" element-filetype=\"image\"></element-control-asset>`)\n        } else {\n            document.querySelector(`#element-${elementId}`).classList.remove('d-none')\n        }\n\n        let animationType = \"position\"\n        if (this.timeline[elementId].animation[animationType].isActivate == true) {\n            this.showAnimation(elementId, animationType)\n        }\n    }\n\n    showVideo(elementId) {\n\n        if (document.getElementById(`element-${elementId}`) == null) {\n            this.insertAdjacentHTML(\"beforeend\", `<element-control-asset element-id=\"${elementId}\" element-filetype=\"video\"></element-control-asset>`)\n\n            let video = document.getElementById(`element-${elementId}`).querySelector(\"video\")\n            let secondsOfRelativeTime = (this.timeline[elementId].startTime - this.progressTime) / 1000\n\n            video.currentTime = secondsOfRelativeTime\n\n        } else {\n            let video = document.getElementById(`element-${elementId}`).querySelector(\"video\")\n            let secondsOfRelativeTime = -(this.timeline[elementId].startTime - this.progressTime) / 1000\n\n\n            if (!!(video.currentTime > 0 && !video.paused && !video.ended && video.readyState > 2)) {\n                if (this.isPaused) {\n                    console.log('paused')\n\n                }\n            } else {\n                if (this.isPaused) {\n                    video.pause()\n                    this.isPlay[elementId] = false\n                } else {\n                    if (!this.isPlay[elementId]) {\n                        video.currentTime = secondsOfRelativeTime\n                        video.play()\n                    }\n                    this.isPlay[elementId] = true\n                }\n\n            }\n\n            document.querySelector(`#element-${elementId}`).classList.remove('d-none')\n        }\n    }\n\n    showAudio(elementId) {\n\n        if (document.getElementById(`element-${elementId}`) == null) {\n            this.insertAdjacentHTML(\"beforeend\", `<element-control-asset element-id=\"${elementId}\" element-filetype=\"audio\"></element-control-asset>`)\n\n            let audio = document.getElementById(`element-${elementId}`).querySelector(\"audio\")\n            let secondsOfRelativeTime = (this.timeline[elementId].startTime - this.progressTime) / 1000\n\n            audio.currentTime = secondsOfRelativeTime\n\n        } else {\n            let audio = document.getElementById(`element-${elementId}`).querySelector(\"audio\")\n            let secondsOfRelativeTime = -(this.timeline[elementId].startTime - this.progressTime) / 1000\n\n            if (!!(audio.currentTime > 0 && !audio.paused && !audio.ended && audio.readyState > 2)) {\n                if (this.isPaused) {\n                    console.log('paused')\n\n                }\n                console.log('isPlaying')\n            } else {\n                audio.currentTime = secondsOfRelativeTime\n\n                if (this.isPaused) {\n                    audio.pause()\n                } else {\n                    audio.play()\n                }\n            }\n\n            document.querySelector(`#element-${elementId}`).classList.remove('d-none')\n        }\n    }\n\n    showText(elementId) {\n        if (document.getElementById(`element-${elementId}`) == null) {\n            this.insertAdjacentHTML(\"beforeend\", `<element-control-asset element-id=\"${elementId}\" element-filetype=\"text\"></element-control-asset>`)\n        } else {\n            document.querySelector(`#element-${elementId}`).classList.remove('d-none')\n        }\n\n        if (this.timeline[elementId].animation.isActivate == true && \n            this.timeline[elementId].animation.allpoints.length > document.querySelector(\"element-control\").progress) {\n            this.showAnimation(elementId)\n        }\n    }\n\n    changeText(elementId) {\n        let elementBody = document.querySelector(`#element-${elementId}`)\n\n\n        let inputTarget = elementBody.querySelector('input-text')\n        let inputTargetSpan = inputTarget.querySelector(\"span\")\n\n        let inputValue = inputTarget.value\n\n        this.timeline[elementId].text = inputValue\n        \n\n        elementBody.style.width = `${inputTarget.offsetWidth}px`\n\n\n\n    }\n\n    changeTextColor({ elementId, color }) {\n        let elementBody = document.querySelector(`#element-${elementId}`)\n        let inputTarget = elementBody.querySelector('input-text')\n\n        inputTarget.style.color = color\n        this.timeline[elementId].textcolor = color\n    }\n\n    changeTextSize({ elementId, size }) {\n        let elementBody = document.querySelector(`#element-${elementId}`)\n        let inputTarget = elementBody.querySelector('input-text')\n\n        inputTarget.setWidthInner()\n\n\n        let textSize = Number(size) / this.previewRatio\n        elementBody.style.fontSize = `${textSize}px`\n        elementBody.style.height = `${textSize}px`\n\n\n\n        this.timeline[elementId].fontsize = Number(size)\n        this.timeline[elementId].height = Number(size)\n\n        \n    }\n\n    changeTextFont({ elementId, fontPath, fontType, fontName }) {\n        let elementBody = document.querySelector(`#element-${elementId}`)\n        let inputTarget = elementBody.querySelector('input-text')\n\n        elementBody.style.fontFamily = fontName\n\n        this.timeline[elementId].fontpath = fontPath\n        this.timeline[elementId].fontname = fontName\n\n        \n        \n    }\n\n    changeTimelineRange() {\n\n        const timelineRuler = document.querySelector(\"element-timeline-ruler\")\n        const elementTimelineEnd = document.querySelector(\"element-timeline-end\")\n\n        const projectDuration = document.querySelector(\"#projectDuration\").value\n\n\n        const timelineRange = Number(document.querySelector(\"element-timeline-range\").value)\n        const timeMagnification = timelineRange / 4\n\n        if (timelineRange == 0) {\n            return 0\n        }\n        \n        timelineRuler.updateRulerSpace(timeMagnification)\n        this.timelineCursor.move(this.progressTime / 5 * timeMagnification)\n        this.adjustAllElementBarWidth(timeMagnification)\n        this.updateAllAnimationPanel()\n\n        elementTimelineEnd.setEndTimeline({\n            px: (projectDuration * 1000) / 5 * timeMagnification\n        })\n    }\n\n    updateAllAnimationPanel() {\n        for (const elementId in this.timeline) {\n            if (Object.hasOwnProperty.call(this.timeline, elementId)) {\n                const element = this.timeline[elementId];\n                \n                if (element.filetype != 'image') {\n                    continue\n                }\n    \n                if (element.animation.position.isActivate == false) {\n                    continue\n                }\n\n                let targetAnimationPanel = document.querySelector(`animation-panel[element-id=\"${elementId}\"]`)\n                let targetElementBar = document.querySelector(`element-bar[element-id=\"${elementId}\"]`)\n\n                let originalLeft = targetElementBar.millisecondsToPx(this.timeline[elementId].startTime)\n\n                targetAnimationPanel.updateItem()\n                targetElementBar.animationPanelMove(originalLeft)\n            }\n        }\n    }\n\n    getTimeFromProgress() {\n        let timelineRange = Number(document.querySelector(\"element-timeline-range\").value)\n        let timeMagnification = timelineRange / 4\n\n        let relativeMilliseconds = this.progress * 5\n        let absoluteMilliseconds = relativeMilliseconds / timeMagnification\n        return absoluteMilliseconds\n    }\n\n    getTimeFromTimelineBar() {\n        let timelineCursorProgress =  Number(this.timelineCursor.style.left.split(\"px\")[0])\n        let timelineRange =  Number(document.querySelector(\"element-timeline-range\").value)\n        let timeMagnification = timelineRange / 4\n\n        let milliseconds = (timelineCursorProgress * 5) / timeMagnification\n        return milliseconds\n    }\n\n    adjustAllElementBarWidth(ratio) {\n        const allElementBar = document.querySelectorAll(\"element-bar\")\n        allElementBar.forEach(element => {\n            let elementId = element.getAttribute(\"element-id\")\n            let originalWidth = element.millisecondsToPx(this.timeline[elementId].duration) \n            let originalLeft = element.millisecondsToPx(this.timeline[elementId].startTime)\n            let changedWidth = originalWidth\n            let changedLeft = originalLeft\n\n            element.setWidth(changedWidth)\n            element.setLeft(changedLeft)\n\n            if (element.elementBarType == 'dynamic') {\n                let trimStart = element.millisecondsToPx(this.timeline[elementId].trim.startTime) \n                let trimEnd = element.millisecondsToPx(this.timeline[elementId].duration - this.timeline[elementId].trim.endTime) \n\n                element.setTrimStart(trimStart)\n                element.setTrimEnd(trimEnd)\n            }\n        });\n    }\n\n    getMillisecondsToISOTime(milliseconds) {\n        let time = new Date(milliseconds).toISOString().slice(11, 22)\n        return time\n    }\n\n    progressToTime() {\n        let ms = this.progress * 5\n        let time = new Date(ms).toISOString().slice(11, 22)\n        return time\n    }\n    \n\n    generateUUID () {\n        let uuid = (0,uuid__WEBPACK_IMPORTED_MODULE_0__[\"default\"])()\n        return uuid\n    }\n\n\n    showTime() {\n        const showTime = document.querySelector(\"#time\") \n        const milliseconds = this.getTimeFromTimelineBar()\n        const ISOTime = this.getMillisecondsToISOTime(milliseconds)\n        \n        showTime.innerHTML = ISOTime\n    }\n    \n\n    hideElement (elementId) {\n        if (this.timeline[elementId].filetype == 'video') {\n            this.pauseVideo(elementId)\n        } else if (this.timeline[elementId].filetype == 'audio') {\n            this.pauseAudio(elementId)\n        }\n        document.querySelector(`#element-${elementId}`).classList.add('d-none')\n    }\n\n    appearAllElementInTime() {\n        for(let elementId in this.timeline) {\n            let filetype = this.timeline[elementId].filetype\n            let checkFiletype = this.timeline[elementId].startTime > this.progressTime || \n            this.timeline[elementId].startTime + this.timeline[elementId].duration < this.progressTime\n\n            if (filetype == 'video' || filetype == 'audio') {\n                checkFiletype = this.timeline[elementId].startTime + this.timeline[elementId].trim.startTime > this.progressTime || \n                this.timeline[elementId].startTime + this.timeline[elementId].trim.endTime < this.progressTime\n            }\n\n            if (checkFiletype) {\n                this.hideElement(elementId)\n            } else {\n                if (filetype == 'image') {\n                    this.showImage(elementId)\n                } else if (filetype == 'video') {\n                    this.showVideo(elementId)\n                } else if (filetype == 'text') {\n                    this.showText(elementId)\n                } else if (filetype == 'audio') {\n                    this.showAudio(elementId)\n                }\n            }\n        }\n    }\n\n    play() {\n        let toggle = document.querySelector(\"#playToggle\")\n        toggle.setAttribute('onclick', `elementControlComponent.stop()`)\n        toggle.innerHTML = `<span class=\"material-symbols-outlined icon-white icon-md\"> stop_circle </span>`\n\n        this.scroller = setInterval(() => {\n            //split_inner_bottom.scrollBy(4, 0);\n            let nowTimelineRange = Number(document.querySelector(\"element-timeline-range\").value)\n            let nowTimelineProgress = Number(this.timelineCursor.style.left.split('px')[0]) + nowTimelineRange\n            this.progress = nowTimelineProgress\n            this.progressTime = this.getTimeFromProgress()\n\n            this.timelineCursor.move(nowTimelineProgress)\n            this.showTime()\n            \n\n            if ((this.innerWidth + this.offsetWidth) >= this.offsetWidth) {\n                this.stop();\n            }\n\n            this.appearAllElementInTime()\n        }, 20);\n        this.isPaused = false;\n    }\n\n    stop() {\n        clearInterval(this.scroller);\n        const toggle = document.querySelector(\"#playToggle\")\n\n        this.isPaused = true;\n        for (const elementId in this.timeline) {\n            if (Object.hasOwnProperty.call(this.timeline, elementId)) {\n                this.isPlay[elementId] = false\n            }\n        }\n\n        toggle.setAttribute('onclick', `elementControlComponent.play()`)\n        toggle.innerHTML = `<span class=\"material-symbols-outlined icon-white icon-md\"> play_circle </span>`\n\n        this.showTime()\n        this.pauseAllDynamicElements()\n    }\n\n    pauseVideo (elementId) {\n        let secondsOfRelativeTime = -(this.timeline[elementId].startTime - this.progressTime) / 1000\n        let video = document.getElementById(`element-${elementId}`).querySelector(\"video\")\n        video.currentTime = secondsOfRelativeTime\n        video.pause()\n    }\n\n    pauseAudio (elementId) {\n        let audio = document.getElementById(`element-${elementId}`).querySelector(\"audio\")\n        audio.pause()\n    }\n\n    pauseAllDynamicElements () {\n        let key;\n\n        for(key in this.timeline) {\n            let filetype = this.timeline[key].filetype\n\n            if (filetype == 'video') {\n                this.pauseVideo(key)\n            } else if (filetype == 'audio') {\n                this.pauseAudio(key)\n            }\n        }\n    }\n\n    deactivateAllOutline() {\n\n        for (const elementId in this.timeline) {\n            if (Object.hasOwnProperty.call(this.timeline, elementId)) {\n                document.querySelector(`#element-${elementId}`).classList.remove(\"element-outline\")\n            }\n        }\n        this.activeElementId = ''\n        this.existActiveElement = false\n    }\n\n    reset () {\n        this.progress = 0\n        this.progressTime = 0\n        this.stop()\n\n        this.showTime()\n        this.appearAllElementInTime()\n        this.timelineCursor.move(0)\n    }\n\n    handleClickPreview() {\n        this.deactivateAllOutline()\n    }\n\n    connectedCallback() {\n        preview.addEventListener('click', this.handleClickPreview.bind(this));\n\n    }\n}\n\n\nclass ElementControlAsset extends HTMLElement { \n    constructor() {\n        super();\n\n        this.timeline = document.querySelector(\"element-timeline\").timeline\n        this.elementControl = document.querySelector(\"element-control\")\n\n        this.elementId = this.getAttribute('element-id')\n        this.elementFiletype = this.getAttribute('element-filetype') || 'image'\n\n        this.isDrag = false\n        this.isResize = false\n        this.isRotate = false\n\n\n        this.initialPosition = {x: 0, y: 0, w: 0, h: 0}\n        this.resizeDirection = 'n'\n        this.resizeEventHandler\n        this.rotateEventHandler\n        this.dragdownEventHandler\n        this.dragupEventHandler\n\n    }\n\n    render(){\n        let template\n        if (this.elementFiletype == 'image') {\n            // NOTE: this.templateRotate() 는 사이드 잘림 문제로 추후 업데이트 필요\n            template = this.templateImage() + this.templateResize() //+ this.templateRotate()\n        } else if (this.elementFiletype == 'video') {\n            template = this.templateVideo() + this.templateResize()\n        } else if (this.elementFiletype == 'text') {\n            template = this.templateText() + this.templateResize('horizon')\n        } else if (this.elementFiletype == 'audio') {\n            template = this.templateAudio()\n        }\n\n        this.innerHTML = template;\n\n\n        let resizeElement = this.convertAbsoluteToRelativeSize({\n            x: this.timeline[this.elementId].location.x,\n            y: this.timeline[this.elementId].location.y,\n            w: !this.timeline[this.elementId].width ? 500 : this.timeline[this.elementId].width,\n            h: this.timeline[this.elementId].height\n        })\n\n\n\n        this.classList.add(\"element-drag\")\n        this.setAttribute(\"id\", `element-${this.elementId}`)\n        \n        if (this.elementFiletype !== 'text') {\n            this.setAttribute(\"style\", `width: ${resizeElement.w}px; top: ${resizeElement.y}px; left: ${resizeElement.x}px; height: ${resizeElement.h}px; transform: rotate(${this.timeline[this.elementId].rotation}deg);`)\n        } else if (this.elementFiletype == 'text') {\n            let resizeRatio = this.elementControl.previewRatio\n            let resizeText = this.timeline[this.elementId].fontsize / resizeRatio\n\n            this.setAttribute(\"style\", `width: ${resizeElement.w}px; left: ${resizeElement.x}px; height: ${resizeText}px; font-size: ${resizeText}px;`)\n            this.elementControl.changeTextFont({\n                elementId: this.elementId,\n                fontPath: this.timeline[this.elementId].fontpath,\n                fontType: this.timeline[this.elementId].fonttype,\n                fontName: this.timeline[this.elementId].fontname\n            })\n        }\n \n        \n\n    }\n\n    convertAbsoluteToRelativeSize({x,y,w,h}) { \n        let resizeRatio = this.elementControl.previewRatio\n        return {\n            x: x/resizeRatio,\n            y: y/resizeRatio,\n            w: w/resizeRatio,\n            h: h/resizeRatio,\n        }\n    }\n\n    convertRelativeToAbsoluteSize({x,y,w,h}) { \n        let resizeRatio = this.elementControl.previewRatio\n        return {\n            x: x*resizeRatio,\n            y: y*resizeRatio,\n            w: w*resizeRatio,\n            h: h*resizeRatio,\n        }\n    }\n\n    templateImage() {\n        return `<img src=\"${this.timeline[this.elementId].blob}\" alt=\"\" class=\"element-image\" draggable=\"false\">`\n    }\n\n    templateVideo() {\n        return `<video src=\"${this.timeline[this.elementId].blob}\" alt=\"\" class=\"element-video\" draggable=\"false\"></video>`\n    }\n\n    templateAudio() {\n        return `<audio src=\"${this.timeline[this.elementId].blob}\" class=\"d-none\" draggable=\"false\"></video>`\n    }\n\n    templateText() {\n        return `<input-text element-id=\"${this.elementId}\" init-value=\"${this.timeline[this.elementId].text}\" init-color=\"${this.timeline[this.elementId].textcolor}\"></input-text>`\n    }\n\n    templateResize(type = 'full') {\n        // full horizon vertical\n        let resize = {\n            n: `<div class=\"resize-n\" onmousedown=\"this.parentNode.resizeMousedown('n')\"></div>`,\n            s: `<div class=\"resize-s\" onmousedown=\"this.parentNode.resizeMousedown('s')\"></div>`,\n            w: `<div class=\"resize-w\" onmousedown=\"this.parentNode.resizeMousedown('w')\"></div>`,\n            e: `<div class=\"resize-e\" onmousedown=\"this.parentNode.resizeMousedown('e')\"></div>`,\n            ne: `<div class=\"resize-ne\" onmousedown=\"this.parentNode.resizeMousedown('ne')\"></div>`,\n            nw: `<div class=\"resize-nw\" onmousedown=\"this.parentNode.resizeMousedown('nw')\"></div>`,\n            se: `<div class=\"resize-se\" onmousedown=\"this.parentNode.resizeMousedown('se')\"></div>`,\n            sw: `<div class=\"resize-sw\" onmousedown=\"this.parentNode.resizeMousedown('sw')\"></div>`\n        }\n        if (type == 'full') {\n            return `\n            ${resize.n}\n            ${resize.s}\n            ${resize.w}\n            ${resize.e}\n            ${resize.ne}\n            ${resize.nw}\n            ${resize.se}\n            ${resize.sw}\n            `\n        } else if (type == 'vertical') {\n            return `\n            ${resize.n}\n            ${resize.s}\n            `\n        } else if (type == 'horizon') {\n            return `\n            ${resize.w}\n            ${resize.e}\n            `\n        }\n\n    }\n\n    templateRotate() {\n        return `<div class=\"handle-rotate text-center\" onmousedown=\"this.parentNode.rotateMousedown()\">\n        <span class=\"material-symbols-outlined handle-rotate-icon\">\ncached\n</span>\n        </div>`\n    }\n\n    pxToInteger(px = '0px') {\n        return Number(px.split('px')[0])\n    }\n\n    showDragAlignmentGuide() {\n        let dragAlignmentGuide = document.querySelector(\"drag-alignment-guide\")\n        let videoCanvas = document.querySelector(\"#video\")\n        let allowableRange = 6\n\n        let canvas = {\n            width: Number(videoCanvas.style.width.split(\"px\")[0]),\n            height: Number(videoCanvas.style.height.split(\"px\")[0])\n        }\n\n        let elementPositions = {\n            top: Number(this.style.top.split(\"px\")[0]),\n            left: Number(this.style.left.split(\"px\")[0]),\n            width: Number(this.style.width.split(\"px\")[0]),\n            height: Number(this.style.height.split(\"px\")[0]),\n            centerTop: (Number(this.style.height.split(\"px\")[0]) / 2) + Number(this.style.top.split(\"px\")[0]),\n            centerLeft: (Number(this.style.width.split(\"px\")[0]) / 2) + Number(this.style.left.split(\"px\")[0])\n\n        }\n\n        if (elementPositions.top < allowableRange && elementPositions.top > -allowableRange) {\n            dragAlignmentGuide.showGuide({ position: 'top' })\n            let y = 0\n            this.style.top = `${y}px`\n            let convertLocation = this.convertRelativeToAbsoluteSize({y: y})\n            this.timeline[this.elementId].location.y = convertLocation.y\n\n        } else {\n            dragAlignmentGuide.hideGuide({ position: 'top' })\n        }\n\n        if (elementPositions.top + elementPositions.height > canvas.height - allowableRange && elementPositions.top + elementPositions.height < canvas.height + allowableRange) {\n            dragAlignmentGuide.showGuide({ position: 'bottom' })\n            let y = canvas.height - elementPositions.height\n            this.style.top = `${y}px`\n            let convertLocation = this.convertRelativeToAbsoluteSize({y: y})\n            this.timeline[this.elementId].location.y = convertLocation.y\n\n        } else {\n            dragAlignmentGuide.hideGuide({ position: 'bottom' })\n        }\n\n        if (elementPositions.left < allowableRange && elementPositions.left > -allowableRange) {\n            dragAlignmentGuide.showGuide({ position: 'left' })\n            let x = 0\n            this.style.left = `${x}px`\n            let convertLocation = this.convertRelativeToAbsoluteSize({x: x})\n            this.timeline[this.elementId].location.x = convertLocation.x\n\n        } else {\n            dragAlignmentGuide.hideGuide({ position: 'left' })\n        }\n\n        if (elementPositions.left + elementPositions.width > canvas.width - allowableRange && elementPositions.left + elementPositions.width < canvas.width + allowableRange) {\n            dragAlignmentGuide.showGuide({ position: 'right' })\n            let x = canvas.width - elementPositions.width\n            this.style.left = `${x}px`\n            let convertLocation = this.convertRelativeToAbsoluteSize({x: x})\n            this.timeline[this.elementId].location.x = convertLocation.x\n        } else {\n            dragAlignmentGuide.hideGuide({ position: 'right' })\n        }\n\n        // 'horizontal', 'vertical'\n        \n\n        if (elementPositions.centerTop < (canvas.height / 2) + 6 && elementPositions.centerTop >  (canvas.height / 2) - 6) {\n            dragAlignmentGuide.showGuide({ position: 'horizontal' })\n\n            let y = (canvas.height / 2) - (elementPositions.height / 2)\n            this.style.top = `${y}px`\n            let convertLocation = this.convertRelativeToAbsoluteSize({y: y})\n            this.timeline[this.elementId].location.y = convertLocation.y\n\n        } else {\n            dragAlignmentGuide.hideGuide({ position: 'horizontal' })\n        }\n\n        if (elementPositions.centerLeft < (canvas.width / 2) + 6 && elementPositions.centerLeft >  (canvas.width / 2) - 6) {\n            dragAlignmentGuide.showGuide({ position: 'vertical' })\n            let x = (canvas.width / 2) - (elementPositions.width / 2)\n            this.style.left = `${x}px`\n            let convertLocation = this.convertRelativeToAbsoluteSize({x: x})\n            this.timeline[this.elementId].location.x = convertLocation.x\n        } else {\n            dragAlignmentGuide.hideGuide({ position: 'vertical' })\n        }\n    }\n\n    hideDragAlignmentGuide() {\n        let dragAlignmentGuide = document.querySelector(\"drag-alignment-guide\")\n        dragAlignmentGuide.hideGuide({ position: 'top' })\n        dragAlignmentGuide.hideGuide({ position: 'bottom' })\n        dragAlignmentGuide.hideGuide({ position: 'left' })\n        dragAlignmentGuide.hideGuide({ position: 'right' })\n        dragAlignmentGuide.hideGuide({ position: 'horizontal' })\n        dragAlignmentGuide.hideGuide({ position: 'vertical' })\n\n    }\n\n    drag(e) {\n        if (this.isDrag) {\n            let x = e.clientX - this.initialPosition.x\n            let y = e.clientY - this.initialPosition.y\n\n            let checkTagName = ['img', 'video', 'input']\n            let existTagName = ''\n            for (let tagname = 0; tagname < checkTagName.length; tagname++) {\n                if (this.querySelector(checkTagName[tagname])) {\n                    existTagName = checkTagName[tagname]\n                }\n            }\n    \n            if (x > window.innerWidth) {\n                document.removeEventListener('mousemove', this.dragdownEventHandler);\n            } else {\n                this.changeLocation({ x: x, y: y })\n\n                if (this.elementFiletype == 'image') {\n                    document.querySelector(\"option-image\").updateValue()\n\n                }\n\n            }\n\n            this.showDragAlignmentGuide()\n        }\n    }\n\n    changeLocation({ x, y }) {\n        this.style.top = `${y}px`\n        this.style.left = `${x}px`\n\n        let convertLocation = this.convertRelativeToAbsoluteSize({x: x, y: y})\n\n        this.timeline[this.elementId].location.x = convertLocation.x \n        this.timeline[this.elementId].location.y = convertLocation.y\n    }\n\n    dragMousedown(e) {\n        if (!this.isResize && !this.isRotate) {\n            this.isDrag = true\n            this.initialPosition.x = e.pageX - this.pxToInteger(this.style.left)\n            this.initialPosition.y = e.pageY - this.pxToInteger(this.style.top)\n            this.dragdownEventHandler = this.drag.bind(this)\n            document.addEventListener('mousemove', this.dragdownEventHandler);\n        }\n    }\n\n    dragMouseup() {\n        this.hideDragAlignmentGuide()\n\n        document.removeEventListener('mousemove', this.dragdownEventHandler)\n\n        //NOTE: 추후에 이미지 말고 오디오, 영상의 경우 filetype 수정\n        if (this.isDrag == true && this.timeline[this.elementId].filetype == 'image') {\n            this.addAnimationPoint({\n                animationType: \"position\"\n            })\n        }\n        this.isDrag = false\n\n    }\n\n    addAnimationPoint({ animationType }) {\n        if (this.timeline[this.elementId].animation[animationType].isActivate == false) {\n            return 0\n        }\n\n        const timelineRange = Number(document.querySelector(\"element-timeline-range\").value)\n        const timeMagnification = timelineRange / 4\n\n        let keyframeEditor = document.querySelector(`keyframe-editor[element-id=\"${this.elementId}\"]`)\n        let progress = (this.elementControl.progressTime - this.timeline[this.elementId].startTime) / 5\n\n        const addPoint = {\n            \"position\": () => {\n                keyframeEditor.addPoint({\n                    x: progress, \n                    y: this.timeline[this.elementId].location.x,\n                    line: 0\n                })\n\n                keyframeEditor.addPoint({\n                    x: progress, \n                    y: this.timeline[this.elementId].location.y,\n                    line: 1\n                })\n\n                keyframeEditor.drawLine(0)\n                keyframeEditor.drawLine(1)\n\n            }\n        }\n\n        addPoint[animationType]()\n\n        let animationPanel = document.querySelector(`animation-panel[element-id=\"${this.elementId}\"]`)\n        animationPanel.updateItem() \n    }\n\n    getGcd(a,b) {\n        if (b == 0) {\n            return a\n        }\n        return this.getGcd(b, a%b)\n    }\n\n    rotate(e) {\n        this.isDrag = false\n        console.log(\"rotate\", e.target.tagName)\n\n\n        if (e.target.tagName != \"CANVAS\") {\n            return 0\n        }\n\n\n        let referenceRotationPoint = this.convertAbsoluteToRelativeSize({\n            x: this.timeline[this.elementId].location.x + (this.timeline[this.elementId].width / 2), \n            y: this.timeline[this.elementId].location.y + (this.timeline[this.elementId].height / 2)\n        })\n\n        let mouseX = e.offsetX\n        let mouseY = e.offsetY\n\n        let degree = - Math.atan2( referenceRotationPoint.x - mouseX, referenceRotationPoint.y - mouseY ) / (Math.PI / 180)\n\n        console.log()\n\n        if (degree < 0) {\n            degree = 360 + degree\n        }\n\n        this.timeline[this.elementId].rotation = degree\n        this.style.transform = `rotate(${degree}deg)`;\n    }\n\n    resize(e) {\n        this.isDrag = false\n\n        const videoBox = document.querySelector(\"#video\");\n        const rect = videoBox.getBoundingClientRect();\n\n        let x = e.pageX - rect.left - this.initialPosition.x\n        let y = e.pageY - rect.top - this.initialPosition.y\n        let w = this.initialPosition.w\n        let h = this.initialPosition.h\n\n        let aspectRatio = w/h\n\n        switch (this.resizeDirection) {\n            case 'n':\n                this.resizeStyle({\n                    y: this.initialPosition.y+y,\n                    h: this.initialPosition.h-y\n                })\n                // this.style.top = `${this.initialPosition.y+y}px`\n                // this.style.height = `${this.initialPosition.h-y}px`\n                break;\n\n            case 's':\n                this.resizeStyle({\n                    y: this.initialPosition.y,\n                    h: y\n                })\n                // this.style.top = `${}px`\n                // this.style.height = `${y}px`\n                break;\n\n            case 'w':\n                this.resizeStyle({\n                    x: this.initialPosition.x+x,\n                    w: this.initialPosition.w-x\n                })\n                // this.style.left = `${}px`\n                // this.style.width = `${this.initialPosition.w-x}px`\n                break;\n\n            case 'e':\n                this.resizeStyle({\n                    x: this.initialPosition.x,\n                    w: x\n                })\n                // this.style.left = `${this.initialPosition.x}px`\n                // this.style.width = `${x}px`\n                break;\n\n            case 'ne':\n                this.resizeStyle({\n                    y: this.initialPosition.y+y,\n                    h: this.initialPosition.h-y,\n                    w: x\n                })\n                // this.style.top = `${this.initialPosition.y+y}px`\n                // //this.style.height = `${this.initialPosition.h-y}px`\n                // //this.style.width = `${aspectRatio*(this.initialPosition.h-y)}px`\n                // this.style.height = `${this.initialPosition.h-y}px`\n                // this.style.width = `${x}px`\n\n                break;\n\n            case 'nw':\n                this.resizeStyle({\n                    x: this.initialPosition.x+x,\n                    y: this.initialPosition.y+y,\n                    h: this.initialPosition.h-y,\n                    w: this.initialPosition.w-x\n                })\n                // this.style.top = `${this.initialPosition.y+y}px`\n                // this.style.height = `${this.initialPosition.h-y}px`\n                // this.style.left = `${this.initialPosition.x+x}px`\n                // this.style.width = `${this.initialPosition.w-x}px`\n                break;\n\n            case 'sw':\n                this.resizeStyle({\n                    x: this.initialPosition.x+x,\n                    h: y,\n                    w: this.initialPosition.w-x\n                })\n                // this.style.height = `${y}px`\n                // this.style.left = `${this.initialPosition.x+x}px`\n                // this.style.width = `${this.initialPosition.w-x}px`\n                break;\n\n            case 'se':\n                this.resizeStyle({\n                    x: this.initialPosition.x,\n                    y: this.initialPosition.y,\n                    h: y,\n                    w: x\n                })\n                // this.style.top = `${this.initialPosition.y}px`\n                // this.style.height = `${y}px`\n                // this.style.left = `${this.initialPosition.x}px`\n                // this.style.width = `${x}px`\n                break;\n        \n            default:\n                break;\n        }\n        let resizeRatio = this.elementControl.previewRatio\n\n        this.timeline[this.elementId].location.y = Math.round(Number(this.style.top.split('px')[0]) * resizeRatio)\n        this.timeline[this.elementId].location.x = Math.round(Number(this.style.left.split('px')[0]) * resizeRatio)\n        this.timeline[this.elementId].width = Math.round(Number(this.style.width.split('px')[0]) * resizeRatio)\n        this.timeline[this.elementId].height = Math.round(Number(this.style.height.split('px')[0]) * resizeRatio)\n    }\n\n    resizeStyle({x, y, w, h}) {\n        this.style.left = !x == false ? `${x}px` : this.style.left\n        this.style.top = !y == false ? `${y}px` : this.style.top\n        this.style.width = !w == false ? `${w}px` : this.style.width\n        this.style.height = !h == false ? `${h}px` : this.style.height\n    }\n\n    resizeFont({px}) {\n        if (!this.querySelector(\"input-text\")) {\n            return 0\n        }\n\n        let targetInput = this.querySelector(\"input-text\")\n\n\n        this.style.fontSize = `${px}px`\n\n        this.elementControl.changeTextSize({ \n            elementId: this.elementId,\n            size: this.timeline[this.elementId].fontsize\n        })\n\n    }\n\n    rotateMousedown() {\n        this.isDrag = false\n        this.isResize = false\n\n        if (this.isRotate == false) {\n            \n            this.rotateEventHandler = this.rotate.bind(this)\n            document.querySelector(\"#preview\").addEventListener('mousemove', this.rotateEventHandler);\n        }\n\n\n        this.isRotate = true\n\n    }\n\n    rotateMouseup() {\n        document.querySelector(\"#preview\").removeEventListener('mousemove', this.rotateEventHandler);\n        this.isRotate = false\n    }\n\n    resizeMousedown(direction) {\n        this.isDrag = false\n\n\n        this.isResize = true\n        this.resizeDirection = direction\n\n        this.initialPosition.w = Number(this.style.width.split('px')[0])\n        this.initialPosition.h = Number(this.style.height.split('px')[0])\n        this.initialPosition.x = Number(this.style.left.split('px')[0])\n        this.initialPosition.y = Number(this.style.top.split('px')[0])\n\n        this.resizeEventHandler = this.resize.bind(this)\n        document.addEventListener('mousemove', this.resizeEventHandler);\n    }\n\n    resizeMouseup() {\n        document.removeEventListener('mousemove', this.resizeEventHandler);\n        this.isResize = false\n    }\n\n\n\n    activateOutline() {\n        this.elementControl.deactivateAllOutline()\n        this.elementControl.activeElementId = this.elementId\n        this.elementControl.existActiveElement = true\n        this.classList.add(\"element-outline\")\n    }\n\n\n\n    showSideOption() {\n\n        // let optionTab = new bootstrap.Tab(document.querySelector('#sidebar button[data-bs-target=\"#nav-option\"]'))\n        // let offcanvasOptionListsId = ['option_text']\n\n        // for (let index = 0; index < offcanvasOptionListsId.length; index++) {\n        //     const element = offcanvasOptionListsId[index];\n        //     document.querySelector(`#${element}`).classList.add(\"d-none\")\n        // }\n\n        const optionGroup = document.querySelector(\"option-group\")\n        optionGroup.showOption({ filetype: this.elementFiletype, elementId: this.elementId })\n\n        // if (this.elementFiletype == 'text') {\n        //     document.querySelector(`#option_text`).classList.remove(\"d-none\")\n        //     document.querySelector(`#optionTargetElement`).value = this.elementId\n        //     //optionTab.show()\n        // }\n    }\n\n\n    handleMousedown(e) {\n        this.dragMousedown(e)\n        this.activateOutline(e)\n        this.showSideOption()\n\n    }\n\n\n    handleDoubleClick(e) {\n        //this.showSideOption()\n    }\n\n    connectedCallback() {\n        this.render();\n\n        this.addEventListener('mousedown', this.handleMousedown.bind(this));\n        this.addEventListener('dblclick', this.handleDoubleClick.bind(this));\n\n        // this.addEventListener('mousedown', this.dragMousedown.bind(this));\n        // this.addEventListener('mousedown', this.activateOutline.bind(this));\n\n        document.addEventListener('mouseup', this.resizeMouseup.bind(this));\n        document.addEventListener('mouseup', this.rotateMouseup.bind(this));\n        document.addEventListener('mouseup', this.dragMouseup.bind(this));\n\n    }\n\n\n}\n\nclass DragAlignmentGuide extends HTMLElement {\n    constructor() {\n        super()\n\n        this.videoCanvas = document.querySelector(\"#video\")\n        this.allPositions = ['top', 'bottom', 'left', 'right', 'horizontal', 'vertical']\n    }\n\n    addGuide() {\n        for (let index = 0; index < this.allPositions.length; index++) {\n            const position = this.allPositions[index];\n            this.videoCanvas.insertAdjacentHTML(\"beforeend\", `<alignment-guide position=\"${position}\" class=\"alignment-guide alignment-guide-${position}\"></alignment-guide>`)\n            this.hideGuide({ position: position })\n\n        }\n    }\n\n    hideGuide({ position }) {\n        let target = this.videoCanvas.querySelector(`alignment-guide[position='${position}']`)\n        target.classList.add(\"d-none\")\n    }\n\n    showGuide({ position }) {\n        let target = this.videoCanvas.querySelector(`alignment-guide[position='${position}']`)\n        target.classList.remove(\"d-none\")\n    }\n\n    connectedCallback() {\n        this.addGuide()\n    }\n}\n\n\n\n//# sourceURL=webpack://NUGGET/./src/components/element/elementControl.js?");

/***/ }),

/***/ "./src/components/element/elementTimeline.js":
/*!***************************************************!*\
  !*** ./src/components/element/elementTimeline.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ElementTimeline\": () => (/* binding */ ElementTimeline),\n/* harmony export */   \"ElementTimelineCursor\": () => (/* binding */ ElementTimelineCursor),\n/* harmony export */   \"ElementTimelineEnd\": () => (/* binding */ ElementTimelineEnd),\n/* harmony export */   \"ElementTimelineRange\": () => (/* binding */ ElementTimelineRange),\n/* harmony export */   \"ElementTimelineRuler\": () => (/* binding */ ElementTimelineRuler),\n/* harmony export */   \"ElementTimelineScroll\": () => (/* binding */ ElementTimelineScroll)\n/* harmony export */ });\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid */ \"./node_modules/uuid/dist/esm-browser/v4.js\");\n/* harmony import */ var _utils_element_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/element.js */ \"./src/utils/element.js\");\n\n\n\n\nclass ElementTimeline extends HTMLElement { \n    constructor() {\n        super();\n\n        //this.directory = ''\n        this.elementControl\n\n        window.addEventListener('DOMContentLoaded', () => {\n            this.elementControl = document.querySelector(\"element-control\");\n        });\n\n        this.timeline = {\n\n        }\n\n        this.timelineHashTable = {}\n        this.appendCheckpointInHashTable()\n        this.copyedTimelineData = {};\n\n        // NOTE: edit guide == 정렬 가이드, 모든 엘리먼트의 시작점과 끝 점을 담은 배열입니다.\n        this.editGuideBreakPoint = []\n\n    }\n\n    generateHash(text) {\n        let hash = 0, i, chr;\n        if (text.length === 0) return hash;\n        for (i = 0; i < text.length; i++) {\n            chr = text.charCodeAt(i);\n            hash = ((hash << 5) - hash) + chr;\n            hash |= 0;\n        }\n        return hash;\n    }\n\n    getTime() {\n        return Date.now()\n    }\n\n    appendCheckpointInHashTable() { // NOTE: 해시 테이블에 변경점 입력\n        let hashString = JSON.stringify(this.timeline)\n        let hash = this.generateHash(hashString)\n        let nowTimestamp = this.getTime()\n        this.timelineHashTable[nowTimestamp] = hash\n    }\n\n    isTimelineChange() {\n        let nowHashString = JSON.stringify(this.timeline)\n        let nowTimelineHash = this.generateHash(nowHashString)\n        let timelineHashLength = Object.keys(this.timelineHashTable).length\n        let firstKeyInTimelineHashTable = Object.keys(this.timelineHashTable)[timelineHashLength-1]\n        let prevTimelineHash = this.timelineHashTable[firstKeyInTimelineHashTable]\n        return nowTimelineHash != prevTimelineHash\n    }\n\n    render(){\n        const template = this.template();\n        this.classList.add(\"col-12\", \"cursor-default\", \"h-100\", \"line\", \"bg-darker\")\n        this.innerHTML = template;\n    }\n\n\n    template() {\n        return `\n        <element-timeline-cursor></element-timeline-cursor>\n        <element-timeline-end></element-timeline-end>\n        <element-timeline-scroll></element-timeline-scroll>\n\n        \n        <div ref=\"elementLayer\" style=\"margin-top: 24px;\"></div>\n\n        `\n    }\n\n    replaceTimelineBarHeight(height) {\n        let timelineBar = this.querySelector(\".timeline-bar\")\n        timelineBar.style.height = `${height}px`\n    }\n\n    getTimelineScrollHeight() {\n        return this.scrollHeight\n    }\n\n    async patchTimeline(timeline) {\n        this.timeline = timeline\n        this.elementControl.timeline = timeline\n\n        for (const elementId in timeline) {\n            if (Object.hasOwnProperty.call(timeline, elementId)) {\n                const element = timeline[elementId];\n                this.patchElementInTimeline({ elementId: elementId, element: element })\n\n                \n            }\n        }\n    }\n\n    async patchElementInTimeline({ elementId, element }) {\n        if (element.filetype == 'image') {\n            let blobUrl = await this.getBlobUrl(`file://${element.localpath}`)\n            this.timeline[elementId].blob = String(blobUrl)\n            this.elementControl.showImage(elementId)\n        } else if (element.filetype == 'video') {\n            let blobUrl = await this.getBlobUrl(`file://${element.localpath}`)\n            this.timeline[elementId].blob = String(blobUrl)\n            this.elementControl.showVideo(elementId)\n        } else if (element.filetype == 'text') {\n            document.querySelector(\"select-font\").applyFontStyle({\n                fontName: element.fontname,\n                fontPath: element.fontpath,\n                fontType: element.fonttype\n            })\n\n            this.elementControl.showText(elementId)\n        } else if (element.filetype == 'audio') {\n            let blobUrl = await this.getBlobUrl(`file://${element.localpath}`)\n            this.timeline[elementId].blob = String(blobUrl)\n            this.elementControl.showAudio(elementId)\n        }\n        this.addElementBar(elementId)\n    }\n\n    resetTimelineData() {\n        this.timeline = {}\n        this.removeAllTimelineBars()\n        this.elementControl.removeAllElementAsset()\n    }\n\n    removeAllTimelineBars() {\n        const bars = this.querySelectorAll(\"element-bar\")\n        bars.forEach(element => {\n            element.remove()\n        });\n    }\n\n\n    async getBlobUrl(url) {\n        try {\n            const response = await fetch(url);\n            const data = await response.blob()\n            return URL.createObjectURL(data);\n        } catch (error) {\n\n\n            let notfoundImage = `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAAAM0lEQVQ4jWNkYGD4z4AEUDgMDAyMBASYGCgEowaMGjA4DGD8/x8j+dPXBSzka/1PHRcAAFzYCBvm7NkTAAAAAElFTkSuQmCC`\n\n            console.error(error)\n            const response = await fetch(notfoundImage);\n            const data = await response.blob()\n            return URL.createObjectURL(data);\n\n        }\n\n    }\n\n    addElementBar(elementId) {\n        const templateBar = this.templateElementBar(elementId)\n        this.querySelector(\"div[ref='elementLayer']\").insertAdjacentHTML(\"afterbegin\", templateBar)\n    }\n\n    templateElementBar(elementId) {\n        let width = this.timeline[elementId].duration\n        let filetype = this.timeline[elementId].filetype\n\n        let elementSplitedFilepath = this.timeline[elementId].localpath.split('/')\n        let elementFilepath = elementSplitedFilepath[elementSplitedFilepath.length-1]\n\n        let elementType = _utils_element_js__WEBPACK_IMPORTED_MODULE_0__.elementUtils.getElementType(filetype)\n\n        if (elementType == 'static') {\n            return `\n            <element-bar element-id=\"${elementId}\" element-type=\"static\"></element-bar> \n\n            <animation-panel element-id=\"${elementId}\"> \n                <animation-panel-item animation-type=\"position\" element-id=\"${elementId}\"></animation-panel-item> \n\n            </animation-panel> \n            `\n\n        } else if (elementType == 'dynamic') {\n            return `<element-bar element-id=\"${elementId}\" element-type=\"dynamic\"></element-bar>`\n        } else {\n            return `none`\n        }\n    }\n\n\n    togglePlayer() {\n        if (this.elementControl.isPaused == true) {\n            this.elementControl.play()\n        } else {\n            this.elementControl.stop()\n        }\n    }\n\n    removeAnimationPanelById(elementId) {\n        let target = this.querySelector(`animation-panel[element-id=\"${elementId}\"]`)\n        if (!target) {\n            return 0\n        }\n\n        target.remove()\n    }\n\n    removeElementInTimelineData(elementId) {\n        delete this.timeline[elementId]\n    }\n\n    removeElementById(elementId) {\n        this.querySelector(`element-bar[element-id=\"${elementId}\"]`).remove()\n    }\n\n    removeSeletedElements() {\n        this.elementControl.selectElementsId.forEach(elementId => {\n            this.removeElementById(elementId)\n            this.removeElementInTimelineData(elementId)\n            this.removeAnimationPanelById(elementId)\n            this.elementControl.removeElementById(elementId)\n        });\n        this.elementControl.selectElementsId = []\n    }\n\n    copySeletedElement() {\n        let selected = {}\n        \n        this.elementControl.selectElementsId.forEach(elementId => {\n            let changedUUID = (0,uuid__WEBPACK_IMPORTED_MODULE_1__[\"default\"])()\n            selected[changedUUID] = this.timeline[elementId]\n        });\n\n        this.copyedTimelineData = selected\n    }\n\n    splitSeletedElement() {\n        let selected = {}\n        const timelineRange = Number(document.querySelector(\"element-timeline-range\").value)\n        const timelineCursor = Number(document.querySelector(\"element-timeline-cursor\").style.left.split('px')[0])\n        const timeMagnification = timelineRange / 4\n        const convertMs = timelineCursor * 5 / timeMagnification\n        let curserLeft = Number(convertMs.toFixed(0)) \n\n        this.elementControl.selectElementsId.forEach(elementId => {\n            let changedUUID = (0,uuid__WEBPACK_IMPORTED_MODULE_1__[\"default\"])()\n            let targetElementBar = document.querySelector(`element-bar[element-id='${elementId}']`)\n            selected[changedUUID] = _.cloneDeep(this.timeline[elementId]);\n\n            if (_utils_element_js__WEBPACK_IMPORTED_MODULE_0__.elementUtils.getElementType(this.timeline[elementId].filetype) == 'dynamic') {\n                let targetElementTrimStartTime = curserLeft - (selected[changedUUID].trim.startTime + selected[changedUUID].startTime)\n                selected[changedUUID].trim.startTime += targetElementTrimStartTime\n    \n                targetElementBar.setTrimEnd(targetElementBar.millisecondsToPx(selected[changedUUID].trim.startTime))\n                this.timeline[elementId].trim.endTime = selected[changedUUID].trim.startTime\n                \n            } else if (_utils_element_js__WEBPACK_IMPORTED_MODULE_0__.elementUtils.getElementType(this.timeline[elementId].filetype) == 'static') {\n                let targetElementStartTime = curserLeft - selected[changedUUID].startTime\n    \n                selected[changedUUID].startTime += targetElementStartTime\n                selected[changedUUID].duration = selected[changedUUID].duration - targetElementStartTime\n    \n                let originElementDuration = this.timeline[elementId].duration - selected[changedUUID].duration\n    \n                targetElementBar.setWidth(targetElementBar.millisecondsToPx(originElementDuration))\n                this.timeline[elementId].duration = originElementDuration\n            }\n        \n        });\n\n        this.copyedTimelineData = selected\n    }\n\n    pasteElement({ elementId, element }) {\n        this.timeline[elementId] = _.cloneDeep(element);\n    }\n\n\n    showAnimationPanel(elementId) {\n        this.querySelector(`animation-panel[element-id='${elementId}']`).show()\n    }\n\n    hideAnimationPanel(elementId) {\n        this.querySelector(`animation-panel[element-id='${elementId}']`).hide()\n    }\n\n    showKeyframeEditor(elementId, animationType) {\n        let timelineOptionOffcanvas = new bootstrap.Offcanvas(document.getElementById('option_bottom'))\n        let timelineOption = document.querySelector(\"#timelineOptionBody\")\n        let targetElementId = document.querySelector(\"#timelineOptionTargetElement\")\n\n        timelineOption.innerHTML = `<keyframe-editor element-id=\"${elementId}\" animation-type=\"${animationType}\"></keyframe-editor>`\n        timelineOption.classList.remove(\"d-none\")\n        targetElementId.value = elementId\n        timelineOptionOffcanvas.show()\n    }\n\n    deactivateSeletedBar() {\n        this.elementControl.selectElementsId.forEach(elementId => {\n            let targetElement = document.querySelector(`element-bar[element-id='${elementId}']`)\n            targetElement.unselectThisElement()\n        });\n    }\n\n    fixRulerOnTop() {\n        const scrollTop = this.scrollTop\n        const elementTimelineRuler = document.querySelector(\"element-timeline-ruler\")\n        const elementTimelineCursor = document.querySelector(\"element-timeline-cursor\")\n\n        elementTimelineRuler.setTopPosition(scrollTop)\n        elementTimelineCursor.style.top = `${scrollTop}px`\n    }\n\n    scrollKeyframeEditor() {\n        let isExistKeyframeEditor = !!document.querySelector(\"keyframe-editor\")\n        if (isExistKeyframeEditor == false) {\n            return 0\n        }\n\n        document.querySelector(\"keyframe-editor\").scrollTo(this.scrollLeft, this.scrollTop)\n    }\n\n    handleKeydown(event) {\n        console.log(\"event keycode > \", event.keyCode)\n        if (this.elementControl.existActiveElement == true) {\n            return 0\n        }\n\n        if(event.keyCode == 32) { // Space\n            event.preventDefault();\n            this.togglePlayer()\n\n        }\n\n        if (event.keyCode == 8) { // backspace\n            event.preventDefault();\n            this.removeSeletedElements()\n        \n        }\n\n        if(event.ctrlKey && event.keyCode == 86 ){  //CTL v\n            for (const elementId in this.copyedTimelineData) {\n                if (Object.hasOwnProperty.call(this.copyedTimelineData, elementId)) {\n                    this.pasteElement({\n                        elementId: elementId,\n                        element: this.copyedTimelineData[elementId]\n                    })\n\n                    this.patchElementInTimeline({\n                        elementId: elementId,\n                        element: this.copyedTimelineData[elementId]\n                    })\n                }\n            }\n\n    \n        }\n        \n        if(event.ctrlKey && event.keyCode == 67 ){  //CTL c\n            this.copySeletedElement()\n\n        }\n\n        if(event.ctrlKey && event.keyCode == 88 ){  //CTL x\n    \n            this.copySeletedElement()\n            this.removeSeletedElements()\n\n\n        }\n\n        if(event.ctrlKey && event.keyCode == 68 ){  //CTL d\n\n            this.splitSeletedElement()\n    \n            for (const elementId in this.copyedTimelineData) {\n                if (Object.hasOwnProperty.call(this.copyedTimelineData, elementId)) {\n                    this.pasteElement({\n                        elementId: elementId,\n                        element: this.copyedTimelineData[elementId]\n                    })\n\n                    this.patchElementInTimeline({\n                        elementId: elementId,\n                        element: this.copyedTimelineData[elementId]\n                    })\n                }\n            }\n\n        }\n\n    }\n\n    handleMousedown() {\n        this.elementControl.deactivateAllOutline()\n        this.deactivateSeletedBar()\n    }\n\n    handleScroll() {\n        this.fixRulerOnTop()\n        this.scrollKeyframeEditor()\n        this.querySelector(\"element-timeline-scroll\").setScrollThumbLeft({ px: this.scrollLeft })\n    }\n\n    connectedCallback() {\n        this.render();\n        this.addEventListener('mousedown', this.handleMousedown.bind(this));\n        this.addEventListener('scroll', this.handleScroll.bind(this));\n\n        document.addEventListener('keydown', this.handleKeydown.bind(this));\n    }\n}\n\n\nclass ElementTimelineCursor extends HTMLElement { \n    constructor() {\n        super();\n\n        this.elementTimelineRuler;\n\n        window.addEventListener('DOMContentLoaded', () => {\n            this.elementTimelineRuler = document.querySelector(\"element-timeline-ruler\")\n        });\n        \n    }\n\n    render(){\n        this.classList.add(\"timeline-bar\")\n        this.setAttribute(\"id\", \"timeline_bar\")\n        this.style.left = `0px`\n        this.style.top = `0px`\n\n    }\n\n    move(px) {\n        this.style.left = `${px}px`\n    }\n\n    handleMousedown(e) {\n        this.elementTimelineRuler.moveTime(e)\n        this.elementTimelineRuler.mousemoveEventHandler = this.elementTimelineRuler.handleMousemove.bind(this.elementTimelineRuler)\n        document.addEventListener('mousemove', this.elementTimelineRuler.mousemoveEventHandler);\n    }\n\n\n    handleMouseup(e) {\n        document.removeEventListener('mousemove', this.elementTimelineRuler.mousemoveEventHandler);\n    }\n\n\n    connectedCallback() {\n        this.render();\n        this.addEventListener('mousedown', this.handleMousedown.bind(this));\n        document.addEventListener('mouseup', this.handleMouseup.bind(this));\n\n    }\n}\n\n\nclass ElementTimelineRuler extends HTMLElement { \n    constructor() {\n        super();\n        this.mousemoveEventHandler = undefined\n        this.mouseTimeout = undefined\n        this.rulerType = 'sec'\n        this.timeMagnification = 1\n    }\n\n    render(){\n        this.innerHTML = ''\n        const template = this.template();\n        // this.classList.remove(\"ruler-sec\", \"ruler-min\")\n        // this.classList.add(\"timeline-ruler\", `ruler`)\n\n        this.classList.add(\"ps-0\", \"overflow-hidden\", \"position-absolute\")\n\n        this.style.top = '40px'\n\n        this.innerHTML = template;\n        this.drawRuler()\n        // this.addTickNumber(10)\n    }\n\n\n    template() {\n    //     return `<ul class=\"ruler-x\">\n    //     <li></li><li></li><li></li><li></li><li></li> <!-- repeat -->\n    //   </ul>`\n        const width = document.querySelector(\"element-timeline\").clientWidth\n        const height = 30\n\n        return `<canvas ref=\"canvas\" width=\"${width}\" height=\"${height}\"></canvas>`\n    }\n\n\n\n    drawRuler() {\n\n        const fullWidth = document.querySelector(\"element-timeline\").clientWidth\n        const fullWeight = 30\n\n        const canvas = this.querySelector(\"canvas[ref='canvas']\")\n        const ctx = canvas.getContext('2d')\n        canvas.width = fullWidth\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n        let range = 1\n        let unitSplit = 1\n        let unit = 's'\n\n        if (this.timeMagnification >= 0.5) {\n            range = 1\n            unitSplit = 1\n            unit = 's'\n        } else if (this.timeMagnification < 0.5 && this.timeMagnification >= 0.1) {\n            range = 5\n            unitSplit = 1\n            unit = 's'\n\n        } else if (this.timeMagnification < 0.1 && this.timeMagnification >= 0.01) {\n            range = 60\n            unitSplit = 60\n            unit = 'm'\n    \n        } else if (this.imeMagnification < 0.01 && this.timeMagnification >= 0.001)  {\n            range = 60 * 5\n            unitSplit = 60\n            unit = 'm'\n        } else {\n            range = 60 * 60\n            unitSplit = 60 * 60\n            unit = 'h'\n\n        }\n    \n        let startPoint = -document.querySelector(\"element-timeline\").scrollLeft % (180 * this.timeMagnification * range)        //18 * 10 * 3\n        let startNumber = Math.floor(document.querySelector(\"element-timeline\").scrollLeft / (180 * this.timeMagnification * range))\n\n        let term = 18 * this.timeMagnification\n        let maxCount = Number(fullWidth / term) + term\n\n        for (let count = 0; count < maxCount; count++) {\n            if (count % range > 0) {\n                continue\n            }\n\n            let point = (term * count) + startPoint\n\n            let startX = point\n            let startY = 15\n            let endX = point\n            let endY = 20\n\n            ctx.beginPath()\n\n            if (count % (10 * range) == 0) {\n                startY = 10\n                ctx.strokeStyle = '#e3e3e3'\n                ctx.font = \"12px serif\";\n                ctx.strokeText(`${(Number(count/(10)) + (startNumber*range))/unitSplit}${unit}`, startX - (term / 2), 10);\n            } else {\n                ctx.strokeStyle = '#e3e3e3'\n\n            }\n            ctx.moveTo(startX, startY)\n            ctx.lineTo(endX, endY)\n            ctx.lineWidth = 1\n            ctx.stroke()\n        }\n\n        // ctx.beginPath()\n        // ctx.moveTo(0, 20)\n        // ctx.lineTo(fullWidth, 20)\n        // ctx.strokeStyle = '#e3e3e3'\n        // ctx.lineWidth = 1\n        // ctx.stroke()\n\n\n    }\n\n    addTickNumber(licount) {\n        // let addedli = '<li></li>'.repeat(licount)\n        // this.querySelector(\"ul\").innerHTML = addedli\n\n    }\n\n\n    updateRulerSpace(timeMagnification) {\n        console.log(\"w\", timeMagnification)\n        this.timeMagnification = timeMagnification * 1.1111111111\n        this.drawRuler()\n        // this.style.removeProperty(`--ruler2-space`)\n        // this.style.removeProperty(`--ruler1-space`)\n        // // this.style.removeProperty(`--ruler2-min-space`)\n        // // this.style.removeProperty(`--ruler1-min-space`)\n\n        // let spaceRuler2 = 50 * timeMagnification\n        // let spaceRuler1 = 5 * timeMagnification\n        // let spaceIncrese = 1\n\n        // console.log(timeMagnification, this.rulerType[0])\n\n        // if (timeMagnification >= 0.5) {\n        //     this.render()\n        //     this.rulerType = 'sec'\n        //     spaceIncrese = 1\n        // } else if (timeMagnification < 0.5 && timeMagnification >= 0.1) {\n        //     this.render()\n        //     this.rulerType = 'sec5'\n        //     spaceRuler2 = 250 * timeMagnification\n        //     spaceRuler1 = 25 * timeMagnification\n        //     spaceIncrese = 5\n\n        // } else if (timeMagnification < 0.1 && timeMagnification >= 0.01) {\n        //     this.render()\n        //     this.rulerType = 'min'\n        //     spaceRuler2 = 3000 * timeMagnification\n        //     spaceRuler1 = 300 * timeMagnification\n        //     spaceIncrese = 1\n\n        // } else if (timeMagnification < 0.01 && timeMagnification >= 0.001)  {\n        //     this.render()\n        //     this.rulerType = 'min5'\n        //     spaceRuler2 = 3000 * 5 * timeMagnification\n        //     spaceRuler1 = 300 * 5 * timeMagnification\n        //     spaceIncrese = 5\n\n        // } else  {\n        //     this.render()\n        //     this.rulerType = 'hour'\n        //     spaceRuler2 = 3000 * 60 * timeMagnification\n        //     spaceRuler1 = 300 * 60 * timeMagnification\n        //     spaceIncrese = 1\n\n        // }\n        \n        // this.style.setProperty(`--ruler1-space`, spaceRuler1); // NOTE: 기본값 5\n        // this.style.setProperty(`--ruler2-space`, spaceRuler2); // NOTE: 기본값 50\n        // this.style.setProperty(`--ruler3-space`, spaceIncrese); // NOTE: 기본값 5\n        // this.style.setProperty(`--ruler3-space-minus`, -spaceIncrese); // NOTE: 기본값 5\n\n       \n        \n        // this.querySelector(\".ruler-x\").style.setProperty(`--ruler-standard-unit`, `'${this.rulerType[0]}'`); // NOTE: 기본값 5\n\n        \n    }\n\n\n    updateRulerLength(e) {\n        console.log(\"s\")\n        // let duration = Number(e.value) * 200\n        // this.changeWidth(duration)\n        // this.addTickNumber(Number(e.value))\n        this.updateTimelineEnd()\n    }\n\n    updateTimelineEnd() {\n        const elementTimelineEnd = document.querySelector(\"element-timeline-end\")\n        const projectDuration = document.querySelector(\"#projectDuration\").value\n\n        const timelineRange = Number(document.querySelector(\"element-timeline-range\").value)\n        const timeMagnification = timelineRange / 4\n\n        elementTimelineEnd.setEndTimeline({\n            px: (projectDuration * 1000) / 5 * timeMagnification\n        })\n    }\n\n\n    changeWidth(px) {\n        this.style.width = `${px}px`\n    }\n\n    setTopPosition(px) {\n        //this.style.top = `${px}px`\n    }\n\n    moveTime(e) {\n        const elementTimelineBar = document.querySelector(\"element-timeline-cursor\")\n        const elementTimeline = document.querySelector(\"element-timeline\")\n        const elementControl = document.querySelector(\"element-control\")\n        \n        \n        elementControl.progress = e.pageX + elementTimeline.scrollLeft\n        elementControl.progressTime = elementControl.getTimeFromProgress()\n\n        elementControl.stop()\n        elementControl.showTime() \n        elementControl.appearAllElementInTime()\n\n\n\n        elementTimelineBar.move(e.pageX + elementTimeline.scrollLeft)\n    }\n\n    handleMousemove(e) {\n        const elementTimelineBar = document.querySelector(\"element-timeline-cursor\")\n        const elementTimeline = document.querySelector(\"element-timeline\")\n        const elementControl = document.querySelector(\"element-control\")\n\n\n        elementTimelineBar.move(e.pageX + elementTimeline.scrollLeft)\n        elementControl.showTime() \n\n        clearTimeout(this.mouseTimeout)\n\n        this.mouseTimeout = setTimeout(() => {\n            clearInterval(this.resizeInterval)\n            this.moveTime(e)\n        }, 100);\n       \n    }\n\n\n    handleMousedown(e) {\n        e.stopPropagation();\n        this.moveTime(e)\n        this.mousemoveEventHandler = this.handleMousemove.bind(this)\n        document.addEventListener('mousemove', this.mousemoveEventHandler);\n\n    }\n\n\n    handleMouseup(e) {\n        document.removeEventListener('mousemove', this.mousemoveEventHandler);\n\n    }\n\n\n\n    connectedCallback() {\n        this.render();\n        this.addEventListener('mousedown', this.handleMousedown.bind(this));\n        document.addEventListener('mouseup', this.handleMouseup.bind(this));\n        document.querySelector(\"element-timeline\").addEventListener(\"scroll\", this.drawRuler.bind(this))\n\n    }\n}\n\n\n\nclass ElementTimelineRange extends HTMLElement { \n    constructor() {\n        super();\n\n        this.value = 0.9\n\n    }\n\n    render(){\n        const template = this.template();\n        this.innerHTML = template;\n        this.updateValue()\n    }\n\n\n    template() {\n        return `<input ref=\"range\" type=\"range\" class=\"form-range\" min=\"0\" max=\"6\" step=\"0.02\" id=\"timelineRange\" value=\"6\">`\n    }\n\n\n    updateValue() {\n        let inputRange = this.querySelector(\"input[ref='range']\")\n        let newValue = (inputRange.value * inputRange.value / 10).toFixed(3)\n        if (newValue <= 0 ) {\n            return 0\n        }\n        this.value = (inputRange.value * inputRange.value / 10).toFixed(3)\n    }\n\n    updateRange() {\n        this.updateValue()\n        const elementControlComponent = document.querySelector(\"element-control\")\n        elementControlComponent.changeTimelineRange()  \n        \n        this.updateTimelineScrollToCenter()\n\n    }\n\n    updateTimelineScrollToCenter() {\n        const elementTimelineComponent =  document.querySelector(\"element-timeline\")\n        const elementTimelineCursor = document.querySelector(\"element-timeline-cursor\")\n        let cursorLeft = Number(elementTimelineCursor.style.left.split(\"px\")[0])\n        let timelineWidth = Number(elementTimelineComponent.clientWidth)\n\n        elementTimelineComponent.scrollLeft = cursorLeft - timelineWidth / 2\n    }\n\n\n    connectedCallback() {\n        this.render();\n        this.querySelector(\"input[ref='range']\").addEventListener(\"input\", this.updateRange.bind(this))\n        this.querySelector(\"input[ref='range']\").addEventListener(\"change\", this.updateRange.bind(this))\n\n    }\n}\n\n\nclass ElementTimelineEnd extends HTMLElement { \n    constructor() {\n        super();\n\n\n    }\n\n    render(){\n        const template = this.template();\n        this.innerHTML = template;\n    }\n\n    /* 재생 초(max time) 설정 */\n    setEndTimeline({ px }) {\n        console.log(px)\n        this.style.left = `${px}px`\n    }\n\n\n    template() {\n        return ``\n    }\n\n    connectedCallback() {\n        this.render();\n\n    }\n}\n\nclass ElementTimelineScroll extends HTMLElement { \n    constructor() {\n        super();\n\n\n    }\n\n    render(){\n        const template = this.template();\n        this.innerHTML = template;\n\n        this.classList.add(\"w-100\", \"fixed-bottom\")\n    }\n\n    scrollTimeline({ per }) {\n        const elementTimeline = document.querySelector(\"element-timeline\")\n        const timelineWidth = elementTimeline.scrollWidth\n        const timelineWidthPerStep = timelineWidth / 100\n        const nowWidth = per * timelineWidthPerStep\n        console.log(nowWidth)\n\n        elementTimeline.scrollLeft = nowWidth\n\n    }\n\n    updateValue() {\n        let inputRange = this.querySelector(\"input[ref='range']\")\n        console.log(inputRange.value)\n        this.scrollTimeline({\n            per: inputRange.value\n        })\n    }\n\n    updateRange() {\n        this.updateValue()\n    }\n\n    setScrollThumbLeft({ px }) {\n        const elementTimeline = document.querySelector(\"element-timeline\")\n        const timelineWidth = elementTimeline.scrollWidth\n        \n        let per = px / timelineWidth * 100\n        this.querySelector(\"input[ref='range']\").value = per\n    }\n\n\n    template() {\n        return `<input ref=\"range\" type=\"range\" class=\"form fixed-bottom w-100\" min=\"0\" max=\"100\" step=\"0.01\" value=\"0\">`\n    }\n\n    connectedCallback() {\n        this.render();\n        this.querySelector(\"input[ref='range']\").addEventListener(\"input\", this.updateRange.bind(this))\n        this.querySelector(\"input[ref='range']\").addEventListener(\"change\", this.updateRange.bind(this))\n\n    }\n}\n\n\n\n\n//# sourceURL=webpack://NUGGET/./src/components/element/elementTimeline.js?");

/***/ }),

/***/ "./src/components/font/selectFont.js":
/*!*******************************************!*\
  !*** ./src/components/font/selectFont.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SelectFont\": () => (/* binding */ SelectFont)\n/* harmony export */ });\n\nclass SelectFont extends HTMLElement { \n    constructor() {\n        super();\n\n\n        this.path = ''\n        this.type = ''\n        this.fontname = ''\n        this.onChangeSelect = new Event('onChangeSelect');\n\n\n    }\n\n    render() {\n        let template = this.template()\n        this.innerHTML = template\n        this.insertFontLists()\n\n    }\n\n    template() {\n        return `<select ref='lists' class=\"form-select form-control bg-default text-light\" aria-label=\"Default select example\">\n        <option selected>Select</option>\n\n      </select>\n      <style ref='fontStyles'>\n      </style>\n      `;\n    }\n\n    insertFontLists() {\n        window.electronAPI.req.font.getLists().then((result) => {\n            if (result.status == 0) {\n                return 0\n            }\n\n            for (let index = 0; index < result.fonts.length; index++) {\n                const font = result.fonts[index];\n                this.querySelector(\"select[ref='lists']\").insertAdjacentHTML(\"beforeend\", `<option value-index=\"${index + 1}\" value='${font.path}'>${font.name}</option>`)\n\n            }\n        })\n    }\n\n    handleSelect() {\n        this.path = this.querySelector(\"select[ref='lists']\").value\n        this.fontname = this.querySelector(\"select[ref='lists']\").value.split('/')[this.querySelector(\"select[ref='lists']\").value.split('/').length - 1].split(\".\")[0]\n        this.type = this.querySelector(\"select[ref='lists']\").value.split('/')[this.querySelector(\"select[ref='lists']\").value.split('/').length - 1].split(\".\")[1]\n\n        this.applyFontStyle({\n            fontName: this.fontname,\n            fontPath: this.path,\n            fontType: this.type \n        })\n\n        this.dispatchEvent(this.onChangeSelect);\n\n    }\n\n    applyFontStyle({ fontName, fontPath, fontType }) {\n        this.querySelector(\"style[ref='fontStyles']\").insertAdjacentHTML(\"beforeend\", `\n        @font-face {\n            font-family: \"${fontName}\";\n            src: local(\"${fontName}\"),\n              url(\"${fontPath}\") format(\"${fontType}\");\n        }\n        `)\n    }\n\n    connectedCallback() {\n        this.render();\n        this.querySelector(\"select[ref='lists']\").addEventListener(\"change\", this.handleSelect.bind(this))\n    }\n}\n\n  \n\n\n\n//# sourceURL=webpack://NUGGET/./src/components/font/selectFont.js?");

/***/ }),

/***/ "./src/components/input/inputText.js":
/*!*******************************************!*\
  !*** ./src/components/input/inputText.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InputText\": () => (/* binding */ InputText)\n/* harmony export */ });\n\nclass InputText extends HTMLElement { \n    constructor() {\n        super();\n\n\n        this.value = ''\n        this.elementId = this.getAttribute('element-id')\n        this.initValue = this.getAttribute('init-value') || ''\n        this.initColor = this.getAttribute('init-color') || '#ffffff'\n\n        this.timeline = document.querySelector(\"element-timeline\").timeline;\n        this.parentInputBox = document.querySelector(`element-control-asset[element-id=\"${this.elementId}\"]`)\n\n    }\n\n    render() {\n        let template = this.template()\n        this.innerHTML = template\n\n        this.style.textAlign = 'center' \n        this.style.display = 'flex' \n        this.style.justifyContent = 'center'\n        this.style.height = '100%'\n        this.style.width = '100%'\n        this.style.position = 'absolute'\n        this.style.letterSpacing = '1px'\n        //this.style.top = '0px'\n        this.style.color = this.initColor\n\n        this.querySelector(\"span\").style.height = `100%`\n        this.querySelector(\"span\").style.outline = 'none'\n        this.querySelector(\"span\").style.lineHeight = 'initial'\n\n        this.querySelector(\"span\").setAttribute(\"contenteditable\", true)\n\n        this.setWidthInner()\n    }\n\n    template() {\n        return `<span>${this.initValue}</span>`;\n    }\n\n    setWidth() {\n        //let target = document.querySelector(`element-control-asset[element-id=\"${this.elementId}\"]`)\n        this.parentInputBox.style.width = `${this.offsetWidth}px`\n\n\n    }\n\n    setWidthInner() {\n        let resizedInput = this.parentInputBox.convertRelativeToAbsoluteSize({ w: this.querySelector(\"span\").offsetWidth })\n        console.log(resizedInput)\n        this.timeline[this.elementId].widthInner = resizedInput.w\n    }\n\n    updateText({ value }) {\n        this.value = value\n        this.timeline[this.elementId].text = value\n        this.updateTextInElementBar()\n    }\n\n    updateTextInElementBar() {\n        const targetElementBar = document.querySelector(`element-bar[element-id='${this.elementId}']`)\n        targetElementBar.querySelector(\"span[ref='name']\").innerHTML = this.value\n    }\n\n    handleInput(event) {\n        let value = event.currentTarget.textContent\n\n        this.updateText({ value: value })\n        this.setWidth()\n        this.setWidthInner()\n    }\n\n    connectedCallback() {\n        this.render();\n        this.querySelector(\"span\").addEventListener(\"input\", this.handleInput.bind(this))\n    }\n}\n\n  \n\n\n\n//# sourceURL=webpack://NUGGET/./src/components/input/inputText.js?");

/***/ }),

/***/ "./src/components/keyframe/keyframeEditor.js":
/*!***************************************************!*\
  !*** ./src/components/keyframe/keyframeEditor.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"KeyframeEditor\": () => (/* binding */ KeyframeEditor)\n/* harmony export */ });\n\nclass KeyframeEditor extends HTMLElement { \n    constructor() {\n        super();\n        this.timeline = document.querySelector(\"element-timeline\").timeline\n\n        this.elementId = this.getAttribute('element-id')\n        this.animationType = this.getAttribute('animation-type')\n\n        this.tension = 1;\n        this.divBody = undefined\n        this.svgBody = {}\n        this.poly = {}\n        this.path = {}\n        this.hiddenPath = {}\n\n        this.padding = {\n            \"start\": 0,\n            \"end\": 0\n\n        }\n        \n        this.lineCount = 1\n        this.points = [\n            [[0,0]], [[0,0]]\n        ];\n\n        this.selectLine = 0\n    }\n\n    render(){\n        this.showKeyframeEditorButtonGroup()\n\n        const template = this.template();\n        this.innerHTML = template;\n\n        this.divBody = this.querySelector(\"div\")\n        this.svgBody = this.divBody.querySelector(\"svg\")\n        this.keyframePointBody = this.divBody.querySelector(\"keyframe-point\")\n\n        this.lineCount = this.timeline[this.elementId].animation[this.animationType].points.length\n\n        if (this.timeline[this.elementId].animation[this.animationType].isActivate == false) {\n            //NOTE: 나중에 opacity 추가할때는 따로 수정\n            this.points[0][0][1] = this.timeline[this.elementId].location.x\n            this.points[1][0][1] = this.timeline[this.elementId].location.y\n        } else {\n            this.points[0][0][1] = this.timeline[this.elementId].animation[this.animationType].points[0][0][1]\n            this.points[1][0][1] = this.timeline[this.elementId].animation[this.animationType].points[1][0][1]\n        }\n\n        this.timeline[this.elementId].animation[this.animationType].isActivate = true\n\n        this.clearLineEditorGroup()\n\n        for (let line = 0; line < this.lineCount; line++) {\n            this.addLineEditor(line)\n            this.drawLine(line, true)\n            this.loadPoint(line)\n        }\n\n        const timelineRange = Number(document.querySelector(\"element-timeline-range\").value)\n        const timeMagnification = timelineRange / 4\n\n        this.addPadding({\n            px: this.timeline[this.elementId].startTime / 5 * timeMagnification,\n            type: \"start\"\n        })\n\n        this.querySelector(\"div\").classList.add(\"position-relative\")\n        //this.querySelector(\"div\").style.height = `${this.scrollHeight}px`\n\n\n\n        \n\n        this.classList.add(\"h-100\", \"w-100\", \"position-absolute\", \"overflow-scroll\")\n\n\n        let animationPanel = document.querySelector(`animation-panel[element-id=\"${this.elementId}\"]`)\n        animationPanel.updateItem()   \n\n        this.fillBackground()\n\n\n    }\n\n\n    template() {\n        return `\n        <div>\n        <keyframe-padding class=\"keyframe-padding\" style=\"width: 100px;\"></keyframe-padding>\n        <svg class=\"keyframe-svg\" style=\"left: 100px;\">\n\n        </svg>\n        <keyframe-point style=\"left: 100px;\" class=\"position-absolute\"></keyframe-point>\n\n        </div>`\n    }\n\n    showKeyframeEditorButtonGroup() {\n        let targetButton = document.querySelector(\"#keyframeEditorButtonGroup\")\n        targetButton.classList.remove(\"d-none\")\n    }\n\n    hideKeyframeEditorButtonGroup() {\n        let targetButton = document.querySelector(\"#keyframeEditorButtonGroup\")\n        targetButton.classList.add(\"d-none\")\n        let keyframeEditor = document.getElementById('option_bottom')\n        keyframeEditor.classList.remove(\"show\")\n        keyframeEditor.classList.add(\"hide\")\n\n    }\n\n    fillBackground() {\n        setTimeout(() => {\n            this.querySelector(\"div\").style.height = `${this.scrollHeight}px`\n            console.log(\"scrollHeight\", this.scrollHeight)\n        }, 100);\n    }\n\n    addPadding({ px, type }) {\n        let keyframePadding = this.divBody.querySelector(\"keyframe-padding\")\n        let keyframePoint = this.keyframePointBody\n        let svgBody = this.svgBody\n\n        const typeFunction = {\n            \"start\": () => {\n                keyframePadding.style.width = `${px}px`\n                keyframePoint.style.left = `${px}px`\n                svgBody.style.left = `${px}px`\n            }\n        }\n\n        this.padding[\"start\"] = px\n        typeFunction[type]()\n    }\n\n    highlightLineEditorButton(line) {\n        for (let index = 0; index < this.lineCount; index++) {\n            let button = document.querySelector(\"#timelineOptionLineEditor\").querySelector(`button[line='${index}']`)\n            button.classList.remove(\"btn-primary\")\n            button.classList.add(\"btn-secondary\")\n        }\n\n        let targeButton = document.querySelector(\"#timelineOptionLineEditor\").querySelector(`button[line='${line}']`)\n        targeButton.classList.remove(\"btn-secondary\")\n        targeButton.classList.add(\"btn-primary\")\n\n    }\n\n    changeLineEditor(line) {\n        this.selectLine = Number(line)\n        this.highlightLineEditorButton(line)\n        \n    }\n\n    addLineEditor(line) {\n        document.querySelector(\"#timelineOptionLineEditor\").insertAdjacentHTML(\"beforeend\", \n        `<button line=\"${line}\" onclick=\"document.querySelector('keyframe-editor').changeLineEditor('${line}')\" type=\"button\" class=\"btn btn-secondary btn-sm\">Line${line}</button>`)\n        \n    }\n\n    clearLineEditorGroup() {\n        document.querySelector(\"#timelineOptionLineEditor\").innerHTML = ''\n    }\n\n\n\n    loadPoint(line) {\n        if (this.timeline[this.elementId].animation[this.animationType].isActivate == true) {\n            let points = this.timeline[this.elementId].animation[this.animationType].points[line]\n\n            for (let index = 0; index < points.length; index++) {\n                const element = points[index];\n                if (element[0] == 0) {\n                    continue;\n                }\n                this.addPoint({\n                    x: element[0], \n                    y: element[1],\n                    line: line\n                })\n            }\n\n            this.drawLine(line, true)\n            this.fillBackground()\n\n        }\n    }\n\n    addPoint({ x, y, line }) {\n\n        this.insertPointInMiddle({\n            x: Math.round(x), \n            y: Math.round(y),\n            line: line\n        })\n\n        this.drawPoint({\n            x: x, \n            y: y,\n            line: line\n        })\n\n        let loadPointLength = this.points[line][this.points[line].length-1][0] - 1\n        //let allPoints = this.getInterpolatedPoints(loadPointLength, line)\n\n        this.timeline[this.elementId].animation[this.animationType].isActivate = true\n        this.timeline[this.elementId].animation[this.animationType].points[line] = this.points[line]\n        //this.timeline[this.elementId].animation[this.animationType].allpoints[line] = allPoints\n\n    }\n\n    drawPoint({ x, y, line }) {\n        const timelineRange = Number(document.querySelector(\"element-timeline-range\").value)\n        const timeMagnification = timelineRange / 4\n\n        let insertY = (y-4)\n        let insertX = (x-4) * timeMagnification\n\n\n        this.keyframePointBody.insertAdjacentHTML(\"beforeend\", `<div class=\"position-absolute keyframe-point\" style=\"top: ${insertY}px; left: ${insertX}px;\"></div>`)\n\n    }\n\n    insertPointInMiddle({ x, y, line }) {\n\n        if (this.points[line].length - 1 == 0) {\n            this.points[line].push([x, y])\n            return 0\n        }\n\n        for (let index = 0; index < this.points[line].length; index++) {\n            if (this.points[line].length - 1 == index) {\n                this.points[line].splice(index + 1, 0, [x, y])\n                return 0\n\n            } else if (this.points[line][index][0] < x && this.points[line][index + 1][0] > x) {\n                this.points[line].splice(index + 1, 0, [x, y])\n                return 0\n\n            }\n        }\n    }\n\n    getRemovedDuplicatePoint({x, line}) {\n        let tmp = []\n        this.points[line].forEach((element) => {\n            if (element[0] != x) {\n                tmp.push(element)\n            }\n        })\n        return tmp\n    }\n      \n\n    drawLine(line, isinit = true) {\n\n        this.querySelector(\"svg\").insertAdjacentHTML(\"beforeend\", `\n        <polyline id=\"keyframePolyline${line}\" />\n        <path id=\"keyframePath${line}\" class=\"keyframe-path-${line + 1}\" />\n        <path id=\"keyframeHiddenPath${line}\" class=\"d-none\" />`)\n\n        const timelineRange = Number(document.querySelector(\"element-timeline-range\").value)\n        const timeMagnification = timelineRange / 4\n\n        let points = []\n\n        for (let index = 0; index < this.points[line].length; index++) {\n            points.push([this.points[line][index][0] * timeMagnification, this.points[line][index][1]])\n        }\n\n        this.path[line] = this.svgBody.querySelector(`path[id='keyframePath${line}']`)\n        this.path[line].setAttribute(\"d\", this.drawPath(points, this.tension));\n\n        this.hiddenPath[line] = this.svgBody.querySelector(`path[id='keyframeHiddenPath${line}']`)\n        this.hiddenPath[line].setAttribute(\"d\", this.drawPath(this.points[line], this.tension))\n\n        let loadPointLength = this.points[line][this.points[line].length-1][0] - 1\n        let allPoints = this.getInterpolatedPoints(loadPointLength, line, points)\n        this.timeline[this.elementId].animation[this.animationType].allpoints[line] = allPoints\n\n    }\n\n\n    drawPath(points, tension) {\n        if (tension == null) tension = 1;\n        let size = points.length * 2;\n        let last = size - 4;    \n        let path = \"M\" + [points[0][0], points[0][1]];\n        let now = 0\n    \n        for (let i = 0; i < size - 2; i +=2) {\n            let x0 = now ? points[now-1][0] : points[0][0];\n            let y0 = now ? points[now-1][1] : points[0][1];\n            let x1 = points[now][0];\n            let y1 = points[now][1];\n            let x2 = points[now+1][0];\n            let y2 = points[now+1][1];\n            let x3 = i !== last ? points[now+2][0] : x2;\n            let y3 = i !== last ? points[now+2][1] : y2;\n            let cp1x = x1 + (x2 - x0) / 6 * tension;\n            let cp1y = y1 + (y2 - y0) / 6 * tension;\n            let cp2x = x2 - (x3 - x1) / 6 * tension;\n            let cp2y = y2 - (y3 - y1) / 6 * tension;\n            now += 1\n            path += \"C\" + [cp1x, cp1y, cp2x, cp2y, x2, y2];\n        } \n        return path;\n    }\n\n\n    \n    getPointAt(x, line) {\n        let from = 0;\n        let to = this.hiddenPath[line].getTotalLength();\n        let current = (from + to) / 2;\n        let point = this.hiddenPath[line].getPointAtLength(current);\n        \n        while (Math.abs(point.x - x) > 0.5) {\n            if (point.x < x)\n                from = current;\n            else\n                to = current;\n            current = (from + to) / 2;\n            point = this.hiddenPath[line].getPointAtLength(current);\n        }\n    \n        return {\n            x: point.x,\n            y: point.y\n        };\n    }\n    \n    getInterpolatedPoints(loadPointLength, line) {\n        let points = []\n        let indexDivision = 4\n        let indexAt = 0\n    \n        for (let index = 0; index < Math.round(loadPointLength / indexDivision); index++) {\n            points.push(this.getPointAt(indexAt, line))\n            indexAt += 4\n        }\n    \n        return points\n    }\n\n    handleMousedown(e) {\n        const timelineRange = Number(document.querySelector(\"element-timeline-range\").value)\n        const timeMagnification = timelineRange / 4\n\n        let insertX = e.offsetX / timeMagnification\n        let insertY = e.offsetY\n        this.addPoint({\n            x: insertX,\n            y: insertY,\n            line: this.selectLine\n        })\n\n        this.drawLine(this.selectLine, true)\n\n        let animationPanel = document.querySelector(`animation-panel[element-id=\"${this.elementId}\"]`)\n        animationPanel.updateItem()   \n    }\n\n    handleScroll(e) {\n        let optionBottom = document.querySelector(\"#option_bottom\")\n        let isShowOptionBottom = optionBottom.classList.contains(\"show\")\n        if (isShowOptionBottom == false) {\n            return 0\n        }\n        let elementTimeline = document.querySelector(\"element-timeline\")\n        elementTimeline.scrollTo(this.scrollLeft, elementTimeline.scrollTop)\n    }\n\n    connectedCallback() {\n        this.render();\n\n        this.svgBody.addEventListener(\"mousedown\", this.handleMousedown.bind(this))\n        this.addEventListener(\"scroll\", this.handleScroll.bind(this))\n\n    }\n}\n\n\n\n\n//# sourceURL=webpack://NUGGET/./src/components/keyframe/keyframeEditor.js?");

/***/ }),

/***/ "./src/components/menu/menuDropdown.js":
/*!*********************************************!*\
  !*** ./src/components/menu/menuDropdown.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MenuDropdownBody\": () => (/* binding */ MenuDropdownBody),\n/* harmony export */   \"MenuDropdownItem\": () => (/* binding */ MenuDropdownItem)\n/* harmony export */ });\n\nclass MenuDropdownBody extends HTMLElement { \n    constructor() {\n        super();\n        this.x = this.getAttribute('top')\n        this.y = this.getAttribute('left')\n\n\n    }\n\n    render(){\n        const innerElements = this.innerHTML\n        const template = this.template();\n\n        this.innerHTML = template;\n        this.style.display = \"inline-block\"\n        this.querySelector(\"ul\").innerHTML = innerElements\n    }\n\n\n    template() {\n        return `\n        <ul class=\"dropdown-menu show position-absolute \" style=\"top: ${this.x}px; left: ${this.y}px; z-index: 6000;\">\n\n        </ul>`\n    }\n\n    mousedown() {\n        setTimeout(() => {\n            this.remove()\n        }, 200);\n    }\n\n\n    connectedCallback() {\n        this.render();\n\n        document.addEventListener('click', this.mousedown.bind(this));\n\n    }\n\n    disconnectedCallback(){\n        document.removeEventListener('click', this.mousedown.bind(this));\n\n    }\n}\n\n\nclass MenuDropdownItem extends HTMLElement { \n    constructor() {\n        super();\n\n        this.name = this.getAttribute('item-name') || \"untitle\"\n\n    }\n\n    render(){\n        const template = this.template();\n        this.innerHTML = template;\n\n    }\n\n\n    template() {\n        return `<li><a class=\"dropdown-item\">${this.name}</a></li>`\n    }\n\n\n\n    connectedCallback() {\n        this.render();\n\n    }\n}\n\n\n\n\n//# sourceURL=webpack://NUGGET/./src/components/menu/menuDropdown.js?");

/***/ }),

/***/ "./src/components/option/optionAudio.js":
/*!**********************************************!*\
  !*** ./src/components/option/optionAudio.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"OptionAudio\": () => (/* binding */ OptionAudio)\n/* harmony export */ });\n\nclass OptionAudio extends HTMLElement { \n    constructor() {\n        super();\n\n        this.elementId = ''\n\n    }\n\n    render() {\n        let template = this.template()\n        this.innerHTML = template\n        this.hide()\n\n    }\n\n    template() {\n        return `\n        <label class=\"form-label text-light\">오디오</label>\n        <div class=\"d-flex flex-row bd-highlight mb-2\">\n\n\n        </div>`;\n    }\n\n    hide() {\n        this.classList.add(\"d-none\")\n\n    }\n\n\n    show() {\n        this.classList.remove(\"d-none\")\n\n    }\n\n    setElementId({ elementId }) {\n        this.elementId = elementId\n        this.updateValue()\n    }\n\n    updateValue() {\n        const timeline = document.querySelector(\"element-timeline\").timeline\n\n    }\n\n\n    connectedCallback() {\n        this.render();\n\n    }\n}\n\n  \n\n\n\n//# sourceURL=webpack://NUGGET/./src/components/option/optionAudio.js?");

/***/ }),

/***/ "./src/components/option/optionGroup.js":
/*!**********************************************!*\
  !*** ./src/components/option/optionGroup.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"OptionGroup\": () => (/* binding */ OptionGroup)\n/* harmony export */ });\n\nclass OptionGroup extends HTMLElement { \n    constructor() {\n        super();\n\n    }\n\n    render() {\n        //this.hideAllOptions()\n\n    }\n\n\n    showOption({ filetype, elementId }) {\n        this.hideAllOptions()\n        this.querySelector(`option-${filetype}`).show()\n        this.querySelector(`option-${filetype}`).setElementId({ elementId: elementId })\n    }\n\n\n\n    hideAllOptions() {\n        for (const key in this.children) {\n            if (Object.hasOwnProperty.call(this.children, key)) {\n                const element = this.children[key];\n                console.log(element, this.children)\n                element.hide()\n\n                \n            }\n        }\n    }\n\n\n    connectedCallback() {\n        this.render();\n\n    }\n}\n\n  \n\n\n\n//# sourceURL=webpack://NUGGET/./src/components/option/optionGroup.js?");

/***/ }),

/***/ "./src/components/option/optionImage.js":
/*!**********************************************!*\
  !*** ./src/components/option/optionImage.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"OptionImage\": () => (/* binding */ OptionImage)\n/* harmony export */ });\n\nclass OptionImage extends HTMLElement { \n    constructor() {\n        super();\n\n        this.elementId = ''\n\n    }\n\n    render() {\n        let template = this.template()\n        this.innerHTML = template\n        this.hide()\n\n    }\n\n    template() {\n        return `\n        <label class=\"form-label text-light\">위치</label>\n        <div class=\"d-flex flex-row bd-highlight mb-2\">\n        <input aria-event=\"location-x\" type=\"number\" class=\"form-control bg-default text-light me-1\" value=\"0\" >\n        <input aria-event=\"location-y\" type=\"number\" class=\"form-control bg-default text-light\" value=\"0\" >\n\n        </div>`;\n    }\n\n    hide() {\n        this.classList.add(\"d-none\")\n\n    }\n\n\n    show() {\n        this.classList.remove(\"d-none\")\n\n    }\n\n    setElementId({ elementId }) {\n        this.elementId = elementId\n        this.updateValue()\n    }\n\n    updateValue() {\n        const timeline = document.querySelector(\"element-timeline\").timeline\n        this.querySelector(\"input[aria-event='location-x'\").value = timeline[this.elementId].location.x\n        this.querySelector(\"input[aria-event='location-y'\").value = timeline[this.elementId].location.y\n\n    }\n\n    handleLocation() {\n        const elementControl = document.querySelector(\"element-control\")\n        const targetElement = document.querySelector(`element-control-asset[element-id='${this.elementId}']`)\n\n        let x =  this.querySelector(\"input[aria-event='location-x'\").value\n        let y =  this.querySelector(\"input[aria-event='location-y'\").value\n\n        let convertLocation = targetElement.convertAbsoluteToRelativeSize({ x: x, y: y })\n\n        targetElement.changeLocation({ x: convertLocation.x, y: convertLocation.y })\n    }\n\n\n    connectedCallback() {\n        this.render();\n        this.querySelector(\"input[aria-event='location-x'\").addEventListener(\"change\", this.handleLocation.bind(this))\n        this.querySelector(\"input[aria-event='location-y'\").addEventListener(\"change\", this.handleLocation.bind(this))\n\n    }\n}\n\n  \n\n\n\n//# sourceURL=webpack://NUGGET/./src/components/option/optionImage.js?");

/***/ }),

/***/ "./src/components/option/optionText.js":
/*!*********************************************!*\
  !*** ./src/components/option/optionText.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"OptionText\": () => (/* binding */ OptionText)\n/* harmony export */ });\n\nclass OptionText extends HTMLElement { \n    constructor() {\n        super();\n\n        this.elementId = ''\n\n    }\n\n    render() {\n        let template = this.template()\n        this.innerHTML = template\n        this.hide()\n\n    }\n\n    template() {\n        return `<div class=\"mb-2\">\n        <label class=\"form-label text-light\">텍스트 색상 선택</label>\n        <input aria-event=\"font-color\" type=\"color\" class=\"form-control bg-default form-control-color\" value=\"#ffffff\" title=\"Choose your color\">\n    </div>\n\n    <div class=\"mb-2\">\n        <label class=\"form-label text-light\">폰트 크기</label>\n        <input aria-event=\"font-size\" type=\"number\" class=\"form-control bg-default text-light\" value=\"52\" >\n    </div>\n\n    <div class=\"mb-2\">\n        <label class=\"form-label text-light\">폰트</label>\n        <select-font></select-font>\n    </div>\n\n    \n    \n    `;\n    }\n\n    hide() {\n        this.classList.add(\"d-none\")\n\n    }\n\n\n    show() {\n        this.classList.remove(\"d-none\")\n\n    }\n\n    setElementId({ elementId }) {\n        this.elementId = elementId\n        this.resetValue()\n    }\n\n    resetValue() {\n        const timeline = document.querySelector(\"element-timeline\").timeline\n        this.querySelector(\"input[aria-event='font-color'\").value = timeline[this.elementId].textcolor\n        this.querySelector(\"input[aria-event='font-size'\").value = timeline[this.elementId].fontsize\n\n\n    }\n\n    handleChangeTextColor() {\n        const elementControl = document.querySelector(\"element-control\")\n        const color = this.querySelector(\"input[aria-event='font-color'\").value\n        elementControl.changeTextColor({ elementId: this.elementId ,color: color })\n    }\n\n    handleChangeTextSize() {\n        const elementControl = document.querySelector(\"element-control\")\n        const size = this.querySelector(\"input[aria-event='font-size'\").value\n        elementControl.changeTextSize({ elementId: this.elementId, size: size })\n    }\n\n    handleChangeTextFont() {\n        const selectFont = this.querySelector(\"select-font\")\n        const elementControl = document.querySelector(\"element-control\")\n\n        elementControl.changeTextFont({\n            elementId: this.elementId,\n            fontPath: selectFont.path,\n            fontType: selectFont.type,\n            fontName: selectFont.fontname,\n\n        })\n\n\n    }\n\n    connectedCallback() {\n        this.render();\n        this.querySelector(\"input[aria-event='font-color'\").addEventListener(\"input\", this.handleChangeTextColor.bind(this))\n        this.querySelector(\"input[aria-event='font-size'\").addEventListener(\"change\", this.handleChangeTextSize.bind(this))\n        this.querySelector(\"select-font\").addEventListener(\"onChangeSelect\", this.handleChangeTextFont.bind(this))\n\n    }\n}\n\n  \n\n\n\n//# sourceURL=webpack://NUGGET/./src/components/option/optionText.js?");

/***/ }),

/***/ "./src/components/option/optionVideo.js":
/*!**********************************************!*\
  !*** ./src/components/option/optionVideo.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"OptionVideo\": () => (/* binding */ OptionVideo)\n/* harmony export */ });\n\nclass OptionVideo extends HTMLElement { \n    constructor() {\n        super();\n\n        this.elementId = ''\n\n    }\n\n    render() {\n        let template = this.template()\n        this.innerHTML = template\n        this.hide()\n\n    }\n\n    template() {\n        return `\n        <label class=\"form-label text-light\">위치</label>\n        <div class=\"d-flex flex-row bd-highlight mb-2\">\n        <input aria-event=\"location-x\" type=\"number\" class=\"form-control bg-default text-light me-1\" value=\"0\" >\n        <input aria-event=\"location-y\" type=\"number\" class=\"form-control bg-default text-light\" value=\"0\" >\n\n        </div>`;\n    }\n\n    hide() {\n        this.classList.add(\"d-none\")\n\n    }\n\n\n    show() {\n        this.classList.remove(\"d-none\")\n\n    }\n\n    setElementId({ elementId }) {\n        this.elementId = elementId\n        this.updateValue()\n    }\n\n    updateValue() {\n        const timeline = document.querySelector(\"element-timeline\").timeline\n        this.querySelector(\"input[aria-event='location-x'\").value = timeline[this.elementId].location.x\n        this.querySelector(\"input[aria-event='location-y'\").value = timeline[this.elementId].location.y\n\n    }\n\n    handleLocation() {\n        const targetElement = document.querySelector(`element-control-asset[element-id='${this.elementId}']`)\n\n        let x =  this.querySelector(\"input[aria-event='location-x'\").value\n        let y =  this.querySelector(\"input[aria-event='location-y'\").value\n\n        let convertLocation = targetElement.convertAbsoluteToRelativeSize({ x: x, y: y })\n\n        targetElement.changeLocation({ x: convertLocation.x, y: convertLocation.y })\n    }\n\n\n    connectedCallback() {\n        this.render();\n        this.querySelector(\"input[aria-event='location-x'\").addEventListener(\"change\", this.handleLocation.bind(this))\n        this.querySelector(\"input[aria-event='location-y'\").addEventListener(\"change\", this.handleLocation.bind(this))\n\n    }\n}\n\n  \n\n\n\n//# sourceURL=webpack://NUGGET/./src/components/option/optionVideo.js?");

/***/ }),

/***/ "./src/components/toast/toast.js":
/*!***************************************!*\
  !*** ./src/components/toast/toast.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Toast\": () => (/* binding */ Toast)\n/* harmony export */ });\nclass Toast extends HTMLElement {\n    connectedCallback() {\n        this.message = this.getAttribute('toast-message') || ''\n        this.delay = this.getAttribute('toast-delay') || 1000\n\n        this.innerHTML = this.template()\n\n        const toastElement = this.querySelector(\"div[ref='toast']\")\n        const toast = bootstrap.Toast.getOrCreateInstance(toastElement)\n        toast.show()\n    }\n\n    template() {\n        return `<div ref=\"toast\" class=\"toast fade\" id=\"saveProject\" role=\"alert\" data-bs-animation=\"true\" data-bs-autohide=\"true\" data-bs-delay=\"${this.delay}\" aria-live=\"assertive\" aria-atomic=\"true\" style=\"background-color: rgba(37, 38, 43, 0.73);\">\n        <div class=\"toast-body\"> \n            <div class=\"text-center text-light\">${this.message}</div> \n        </div>\n    </div>`\n    }\n}\n\n\n\n//# sourceURL=webpack://NUGGET/./src/components/toast/toast.js?");

/***/ }),

/***/ "./src/components/toast/toastBox.js":
/*!******************************************!*\
  !*** ./src/components/toast/toastBox.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ToastBox\": () => (/* binding */ ToastBox)\n/* harmony export */ });\nclass ToastBox extends HTMLElement {\n    connectedCallback() {\n        this.body = document.querySelector(\"#toast\")\n        if (this.body == null) {\n            let createElement = document.createElement(\"div\");\n            createElement.setAttribute('id', 'toast');\n            createElement.classList.add('toast-container', 'position-fixed', 'bottom-0', 'start-50', 'translate-middle-x')\n\n            document.querySelector('body').insertAdjacentElement('beforeend', createElement)\n            this.body = document.querySelector(\"#toast\")\n        }\n\n    }\n\n    showToast({ message, delay }) {\n        const element = document.createElement(\"toast-item\");\n        element.setAttribute('toast-message', message);\n        element.setAttribute('toast-delay', delay);\n\n        this.body.insertAdjacentElement(\"beforeend\", element)\n    }\n\n\n}\n\n\n\n//# sourceURL=webpack://NUGGET/./src/components/toast/toastBox.js?");

/***/ }),

/***/ "./src/components/tutorial/tutorial.js":
/*!*********************************************!*\
  !*** ./src/components/tutorial/tutorial.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Tutorial\": () => (/* binding */ Tutorial)\n/* harmony export */ });\n\nclass Tutorial extends HTMLElement { \n    constructor() {\n        super();\n\n    }\n\n    render() {\n        //this.hideAllOptions()\n\n        this.innerHTML = this.template()\n\n        this.tutorialModal = new bootstrap.Modal(document.querySelector(\"div[ref='tutorial']\"), {\n            keyboard: false\n        })\n\n        //this.tutorialModal.show()\n\n    }\n\n\n    template() {\n        return `<div class=\"modal fade show\" ref=\"tutorial\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-dialog-centered\">\n            <div class=\"modal-content bg-default\">\n                <div class=\"modal-body text-center text-light bg-default\">\n                    <h5 class=\"modal-title font-weight-lg\">너겟 튜토리얼</h5>\n                    <p class=\"font-weight-md\"></p>\n                    <div class=\"d-flex bd-highlight\">\n                    <div class=\"me-auto p-2 bd-highlight\"><button type=\"button\" class=\"d-flex align-items-center btn btn-sm btn-secondary\"><span class=\"material-symbols-outlined\">\n                    arrow_back\n                    </span></button></div>\n\n                    <div class=\"p-2 bd-highlight\"><button type=\"button\" class=\"d-flex align-items-center btn btn-sm btn-primary\"><span class=\"material-symbols-outlined\">\n                    navigate_next\n                    </span></button></div>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    </div>`\n    }\n\n    connectedCallback() {\n        this.render();\n\n    }\n}\n\n  \n\n\n\n//# sourceURL=webpack://NUGGET/./src/components/tutorial/tutorial.js?");

/***/ }),

/***/ "./src/components/tutorial/tutorialPopover.js":
/*!****************************************************!*\
  !*** ./src/components/tutorial/tutorialPopover.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TutorialPopover\": () => (/* binding */ TutorialPopover)\n/* harmony export */ });\n\nclass TutorialPopover extends HTMLElement { \n    constructor() {\n        super();\n\n        this.tutorialIdx = this.getAttribute(\"tutorial-idx\")\n        this.tutorialTitle = this.getAttribute(\"tutorial-title\")\n        this.tutorialMessage = this.getAttribute(\"tutorial-message\")\n        this.tutorialElementId = this.getAttribute(\"target-element-id\")\n\n    }\n\n    // tutorial-idx=\"1\" tutorial-title=\"test\" tutorial-message=\"fsdf\" target-element-id=\"\n\n    render() {\n        //this.hideAllOptions()\n        const targetElement = document.querySelector(`#${this.tutorialElementId}`)\n        \n        console.log(this.tutorialElementId, targetElement)\n\n        this.classList.add(\"tutorial-popover\", \"d-none\")\n\n        this.style.position = 'absolute'\n        this.style.top = `${targetElement.clientHeight / 2}px` \n        this.style.left = `${targetElement.clientWidth}px` \n        this.style.zIndex = 7000\n\n\n        this.innerHTML = this.template()\n\n\n\n    }\n\n\n    template() {\n        return `\n        <div class=\"\">\n        ${this.tutorialTitle}: ${this.tutorialMessage}\n\n        </div>`;\n    }\n\n    connectedCallback() {\n        this.render();\n\n    }\n}\n\n  \n\n\n\n//# sourceURL=webpack://NUGGET/./src/components/tutorial/tutorialPopover.js?");

/***/ }),

/***/ "./src/functions/asset.js":
/*!********************************!*\
  !*** ./src/functions/asset.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst asset = {\n    nowDirectory: '',\n    // loadFile: function (filename, dir) {\n    //     let splitedFilename = filename.split('.')\n    //     let splitedFilenameLength = splitedFilename.length\n    //     let fileType = splitedFilenameLength <= 2 ? '' : splitedFilename[splitedFilenameLength-1]\n\n    //     document.querySelector(\"#assetBrowser\").\n    //         insertAdjacentHTML(\"beforeend\", `\n    //         <div class=\"col-4 d-flex flex-column bd-highlight overflow-hidden asset mt-1\" onclick=\"nugget.asset.add('${dir}/${filename}', '${dir}')\">\n    //             <span class=\"material-symbols-outlined icon-lg align-self-center\"> draft </span>\n    //             <b class=\"align-self-center text-ellipsis-scroll text-light text-center\">${filename}</b> \n    //         </div>`)\n    // },\n    // loadFolder: function (filename, dir) {\n        \n    //     document.querySelector(\"#assetBrowser\").\n    //         insertAdjacentHTML(\"beforeend\", `\n    //         <div class=\"col-4 d-flex flex-column bd-highlight overflow-hidden asset mt-1\" onclick=\"ipc.requestAllDir('${dir}/${filename}')\">\n    //         <span class=\"material-symbols-outlined icon-lg align-self-center\"> folder </span>\n    //             <b class=\"align-self-center text-ellipsis text-light text-center\">${filename}</b>\n    //         </div>`)\n    // },\n\n    loadPrevDirectory: function () {\n        let splitNowDirectory = asset.nowDirectory.split('/')\n        let splitPrevDirectory = splitNowDirectory.slice(-splitNowDirectory.length, -1)\n\n        ipc.requestAllDir(splitPrevDirectory.join('/'))\n\n    },\n    add: function (path) {\n        fetch(`file://${path}`)\n        .then(res => {\n            return res.blob()\n        })\n        .then(blob => {\n            let blobUrl = URL.createObjectURL(blob);\n            let blobType = blob.type.split('/')[0] // image, video, audio ...\n            let control = document.querySelector(\"element-control\")\n\n            if (blobType == 'image') {\n                control.addImage(blobUrl, path)\n            } else if (blobType == 'video') {\n                control.addVideo(blobUrl, path)\n            } else if (blobType == 'audio') {\n                control.addAudio(blobUrl, path)\n            }\n        })\n\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (asset);\n\n//# sourceURL=webpack://NUGGET/./src/functions/asset.js?");

/***/ }),

/***/ "./src/functions/directory.js":
/*!************************************!*\
  !*** ./src/functions/directory.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n\n\n\nconst directory = {\n    select: function() {\n        const projectFolder = document.querySelector(\"#projectFolder\")\n        window.electronAPI.req.dialog.openDirectory().then((result) => {\n            projectFolder.value = result || '/'\n            const dir = String(projectFolder.value)\n\n            window.electronAPI.req.filesystem.getDirectory(dir).then((result) => {\n                let fileLists = {}\n                const assetList = document.querySelector(\"asset-list\")\n                const assetBrowser = document.querySelector(\"asset-browser\")\n            \n                assetList.nowDirectory = dir\n                assetList.clearList()\n                assetBrowser.updateDirectoryInput(dir)\n                    \n                for (const key in result) {\n                    if (Object.hasOwnProperty.call(result, key)) {\n                        const element = result[key];\n                        if (!element.isDirectory) { \n                            fileLists[key] = element\n                        } else {\n                            assetList.getFolder(element.title)\n                        }\n                    }\n                }\n            \n                for (const file in fileLists) {\n                    if (Object.hasOwnProperty.call(fileLists, file)) {\n                        const element = fileLists[file];\n                        assetList.getFile(element.title)\n                    }\n                }\n            })\n\n            //window.electronAPI.req.filesystem.getAllDirectory(String(projectFolder.value))\n            //ipc.requestAllDir(result || '/')\n        })\n\n        \n\n        // const upload = document.createElement(\"input\")\n        // const projectFolder = document.querySelector(\"#projectFolder\")\n        // upload.setAttribute(\"type\", 'file')\n        // upload.setAttribute(\"webkitdirectory\", '')\n        // upload.click()\n\n        // upload.addEventListener(\"change\", handleFiles, false);\n\n        // function handleFiles() {\n        //     const dirWithFilename = this.files[0].path.split(\"/\");\n        //     dirWithFilename.pop()\n        //     const originDir = dirWithFilename.join(\"/\")\n        //     projectFolder.value = originDir\n        // }\n\n\n    }\n\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (directory);\n\n//# sourceURL=webpack://NUGGET/./src/functions/directory.js?");

/***/ }),

/***/ "./src/functions/fonts.js":
/*!********************************!*\
  !*** ./src/functions/fonts.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n\n\n\nconst fonts = {\n    get: async function() {\n        window.electronAPI.req.font.getLists().then((result) => {\n            if (result.status == 0) {\n                return 0\n            }\n\n            console.log(result)\n\n        })\n    }\n\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (fonts);\n\n//# sourceURL=webpack://NUGGET/./src/functions/fonts.js?");

/***/ }),

/***/ "./src/functions/mime.js":
/*!*******************************!*\
  !*** ./src/functions/mime.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst mime = {\n    mimeArray: {\n        \"png\": {\n            type: \"image\"\n        },\n        \"jpg\": {\n            type: \"image\"\n        },\n        \"jpeg\": {\n            type: \"image\"\n        },\n        \"gif\": {\n            type: \"image\"\n        },\n        \"mp4\": {\n            type: \"video\"\n        },\n        \"mov\": {\n            type: \"video\"\n        },\n        \"avi\": {\n            type: \"video\"\n        },\n        \"wmv\": {\n            type: \"video\"\n        },\n        \"mpg\": {\n            type: \"video\"\n        },\n        \"mkv\": {\n            type: \"video\"\n        },\n        \"webm\": {\n            type: \"video\"\n        },\n        \"mp3\": {\n            type: \"audio\"\n        },\n        \"wav\": {\n            type: \"audio\"\n        },\n    },\n    lookup: function(filename) {\n        const splitFilename = filename.split('.')\n        if (splitFilename.length <= 1) {\n            return { type: \"unknown\" }\n        } else {\n            if (!this.mimeArray[splitFilename[splitFilename.length-1]]) {\n                return { type: \"unknown\" }\n            } else {\n                return { type: this.mimeArray[splitFilename[splitFilename.length-1]].type }\n            }\n            \n        }\n\n    }\n\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mime);\n\n//# sourceURL=webpack://NUGGET/./src/functions/mime.js?");

/***/ }),

/***/ "./src/functions/project.js":
/*!**********************************!*\
  !*** ./src/functions/project.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n\nconst arrayBufferToBase64 = ( buffer ) => {\n    var binary = '';\n    var bytes = new Uint8Array( buffer );\n    var len = bytes.byteLength;\n    for (var i = 0; i < len; i++) {\n        binary += String.fromCharCode( bytes[ i ] );\n    }\n    return window.btoa( binary );\n}\n\nconst project = {\n    save: function() {\n        const projectFile = document.querySelector(\"#projectFile\").value\n\n\n\n        console.log(projectFile)\n\n        if (projectFile != '') {\n            project.saveProjectFile({ projectDestination: projectFile })\n            return 0\n        } else {\n            window.electronAPI.req.project.save().then((result) => {\n                let projectDestination = result || `nonefile`\n                if (projectDestination == `nonefile`) {\n                    return 0\n                }\n    \n                project.saveProjectFile({ projectDestination: projectDestination })\n    \n    \n            })\n        }\n\n\n\n        // if (fs.existsSync(`${projectFolder}/project.ngt`)) {\n        //     fs.unlinkSync(`${projectFolder}/project.ngt`)\n        // }\n\n\n    },\n\n    load: function() {\n        const zip = new JSZip();\n        const elementTimeline = document.querySelector('element-timeline')\n        const isTimelineChange = elementTimeline.isTimelineChange() \n        if (isTimelineChange == true) {\n            rendererModal.whenTimelineChanged.show()\n            document.querySelector(\"#whenTimelineChangedMsg\").innerHTML = `새 프로젝트 파일을 볼러오려면 에디터를 닫고 재실행해 주세요.`\n            return 0\n        }\n\n\n        const upload = document.createElement(\"input\")\n        upload.setAttribute(\"type\", 'file')\n        upload.setAttribute(\"accept\", '.ngt')\n\n        upload.click()\n\n        upload.addEventListener(\"change\", handleFiles, false);\n\n        function handleFiles() {\n            elementTimeline.resetTimelineData()\n\n            let filepath = this.files[0].path\n            \n\n            //fs.readFile(filepath, function(err, data) {\n            window.electronAPI.req.filesystem.readFile(filepath).then((data) => {\n\n                JSZip.loadAsync(data).then(function (zip) {\n                    let aa = zip.file(\"timeline.json\").async(\"string\").then(async (result) => {\n                        let timeline = JSON.parse(result)\n                        await elementTimeline.patchTimeline(timeline)\n                        project.changeProjectFileValue({ projectDestination: filepath })\n\n                    })\n                });\n            });\n\n        }\n    },\n\n    saveProjectFile: function ({ projectDestination }) {\n        const elementTimeline = document.querySelector('element-timeline')\n        const timeline = document.querySelector('element-timeline').timeline\n        const projectDuration = Number(document.querySelector(\"#projectDuration\").value)\n        const projectRatio = document.querySelector('element-control').previewRatio\n\n        const zip = new JSZip();\n\n        const options = {\n            videoDuration: projectDuration,\n            previewRatio: projectRatio,\n            videoDestination: projectDestination\n        }\n\n        zip.file(\"timeline.json\", JSON.stringify(timeline));\n        zip.file(\"renderOptions.json\", JSON.stringify(options));\n\n        zip.generateAsync({type:\"blob\"}).then(async function(content) {\n            const buffer = arrayBufferToBase64(await content.arrayBuffer())\n\n            window.electronAPI.req.filesystem.writeFile(projectDestination, buffer, 'base64').then((isCompleted) => {\n\n                console.log('saved!')\n                document.querySelector(\"toast-box\").showToast({message:\"프로젝트 저장 완료\", delay:\"2000\"})\n\n\n                elementTimeline.appendCheckpointInHashTable()\n                project.changeProjectFileValue({ projectDestination: projectDestination })\n            //fs.writeFile( projectDestination , buffer, () => {\n\n            });\n            //saveAs(content, `${projectFolder}/aaa.zip`);\n        });\n    },\n\n    changeProjectFileValue: function ({ projectDestination }) {\n        document.querySelector(\"#projectFile\").value = projectDestination\n        document.querySelector(\"title\").innerHTML = `Nugget - ${projectDestination}`\n\n    }\n\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (project);\n\n//# sourceURL=webpack://NUGGET/./src/functions/project.js?");

/***/ }),

/***/ "./src/functions/renderAnimation.js":
/*!******************************************!*\
  !*** ./src/functions/renderAnimation.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n\n//NOTE: 성능 최적화 개판입니다.\n\nconst renderProgress = {\n    show: function (prog) {\n        rendererUtil.showProgressModal()\n        document.querySelector(\"#progress\").style.width = `${prog}%`\n        document.querySelector(\"#progress\").innerHTML = `${Math.round(prog)}%`\n    }\n}\n\nconst renderAnimation = {\n    state: {\n        animateElements: {},\n        elements: undefined,\n        options: undefined,\n        numberOfRenderingRequired: 0,\n        renderingCount: 0,\n        renderingProgress: 0\n\n    },\n\n    initAnimateElementState: function (elementId) {\n        let canvas = document.createElement(\"canvas\")\n        canvas.classList.add(\"d-none\")\n        canvas.setAttribute('width', \"1920\")\n        canvas.setAttribute('height', \"1080\")\n\n        let context = canvas.getContext(\"2d\");\n\n        renderAnimation.state.animateElements[elementId] = {\n            renderFrameLength: 0,\n            savedFrameCount: 0,\n            isCombineFrames: false,\n            canvas: canvas,\n            context: context\n        }\n    },\n\n    render: function (elements, options) {\n        console.log(elements)\n        renderAnimation.state.elements = elements\n        renderAnimation.state.options = options\n        renderAnimation.state.numberOfRenderingRequired = 0\n\n        let path = `${options.videoDestinationFolder}/renderAnimation`\n\n        // let canvas = document.createElement(\"canvas\")\n        // canvas.classList.add(\"d-none\")\n        // canvas.setAttribute('width', \"1920\")\n        // canvas.setAttribute('height', \"1080\")\n\n        // let context = canvas.getContext(\"2d\");\n\n\n        window.electronAPI.req.filesystem.mkdir(path, { recursive: true }).then((isCompleted) => {\n            renderProgress.show(0)\n\n\n            window.electronAPI.req.filesystem.emptyDirSync(path)\n\n\n            for (const elementId in elements) {\n                if (Object.hasOwnProperty.call(elements, elementId)) {\n                    const element = elements[elementId];  \n                    \n                    if (element.hasOwnProperty(\"animation\") == false) {\n                        continue;\n                    }\n\n                    if (element.filetype !== 'image') {\n                        continue;\n                    }\n    \n                    if (element.animation[\"position\"].isActivate == true) {\n                        renderAnimation.initAnimateElementState(elementId)\n                        renderAnimation.state.numberOfRenderingRequired += 1\n\n                        let frames = renderAnimation.renderFrame({\n                            elementId: elementId,\n                            elements: element\n                        })\n    \n                        for (let index = 0; index < frames.length; index++) {\n    \n                            renderAnimation.saveFrame({\n                                elementId: elementId,\n                                data: frames[index],\n                                outputDir: path,\n                                frame: index\n                            })\n                        }                        \n                    }\n                }\n            }\n\n            if (renderAnimation.state.numberOfRenderingRequired == 0) {\n                renderAnimation.renderOutput()\n            }\n        })\n\n\n\n\n    },\n\n    renderFrame: function ({ elementId, elements }) {\n        let canvas = renderAnimation.state.animateElements[elementId].canvas\n        let context = renderAnimation.state.animateElements[elementId].context\n\n        let allPoints = elements.animation[\"position\"].allpoints\n        let canvasImage = []\n        renderAnimation.state.animateElements[elementId].renderFrameLength = allPoints[0].length\n    \n        for (let index = 0; index < allPoints[0].length; index++) {\n            context.clearRect(0, 0, canvas.width, canvas.height);\n            let point = {\n                x: allPoints[0][index].y,\n                y: index < allPoints[1].length ? allPoints[1][index].y : allPoints[1][allPoints[1].length - 1].y\n            }\n            renderAnimation.drawImage(elementId, context, point)\n            context.stroke();\n            canvasImage.push(canvas.toDataURL(\"image/png\"))        \n        }   \n        \n        return canvasImage\n    },\n\n    drawImage: function (elementId, context, point) {\n        let elementBody = document.querySelector(`element-control-asset[element-id='${elementId}']`).querySelector(\"img\")\n\n        let x = 0 + point.x\n        let y = point.y\n        let w = renderAnimation.state.elements[elementId].width\n        let h = renderAnimation.state.elements[elementId].height\n\n        context.drawImage(elementBody, x, y, w, h);\n    },\n    \n\n    saveFrame: function ({ data, outputDir, frame, elementId }) {\n        const frameLength = 4\n        const base64Data = data.substring(\"data:image/png;base64,\".length);\n        const fileName = `${outputDir}/` + `frame-${elementId}-${String(frame + 1).padStart(frameLength, \"0\")}.png`\n\n\n        \n        window.electronAPI.req.filesystem.writeFile(fileName, base64Data, \"base64\").then((isCompleted) => {\n            renderAnimation.state.animateElements[elementId].savedFrameCount += 1\n\n            if (renderAnimation.state.animateElements[elementId].savedFrameCount >= renderAnimation.state.animateElements[elementId].renderFrameLength && \n                renderAnimation.state.animateElements[elementId].isCombineFrames == false) {\n\n                renderAnimation.state.animateElements[elementId].isCombineFrames == true\n                renderAnimation.combineFrame({\n                    elementId: elementId,\n                    outputDir: outputDir\n                })\n            }\n        })\n\n    },\n\n\n    combineFrame: function ({ elementId, outputDir }) {\n        let outputVideoPath = `${outputDir}/${elementId}.webm`\n\n        window.electronAPI.req.ffmpeg.combineFrame(outputDir, elementId)\n\n        window.electronAPI.res.render.finishCombineFrame( (evt, combinedElementId) => {\n            if (combinedElementId != elementId) {\n                return 0\n            }\n\n            renderAnimation.state.elements[elementId].filetype = 'video'\n            renderAnimation.state.elements[elementId].isExistAudio = false\n            renderAnimation.state.elements[elementId].localpath = outputVideoPath\n            renderAnimation.state.elements[elementId].trim = { startTime: 0, endTime: renderAnimation.state.elements[elementId].duration }\n            renderAnimation.state.elements[elementId].height = 1080\n            renderAnimation.state.elements[elementId].width = 1920\n            renderAnimation.state.elements[elementId].location = {x: 0, y: 50}\n            renderAnimation.state.elements[elementId].codec = { video: \"libvpx-vp9\", audio: \"default\" }\n\n            \n            renderAnimation.state.renderingCount += 1\n            renderAnimation.state.renderingProgress = renderAnimation.state.renderingCount/renderAnimation.state.numberOfRenderingRequired*100\n\n            renderProgress.show(renderAnimation.state.renderingProgress)\n            \n\n            if (renderAnimation.state.renderingCount >= renderAnimation.state.numberOfRenderingRequired) {\n                renderAnimation.renderOutput()\n            }\n        })\n\n        \n        // let command = ffmpeg()\n        // let outputVideoPath = `${outputDir}/${elementId}.webm`\n        // console.log('Animation processing', renderAnimation.state.renderingCount, renderAnimation.state.numberOfRenderingRequired);\n\n        \n\n\n        //NOTE: 다중 애니메이션 랜더링까진 ok, 근데 투명도가 적용이 안됨\n\n        // command.input(`${outputDir}/frame-${elementId}-%04d.png`)\n        // command.inputFPS(50);\n        // command.videoCodec('libvpx-vp9')\n        // command.inputOptions('-pix_fmt yuva420p');\n        // command.format('webm')\n        // command.output(outputVideoPath)\n        // command.on('end', function() {\n        //     console.log('Finish processing');\n\n        //     renderAnimation.state.elements[elementId].filetype = 'video'\n        //     renderAnimation.state.elements[elementId].isExistAudio = false\n        //     renderAnimation.state.elements[elementId].localpath = outputVideoPath\n        //     renderAnimation.state.elements[elementId].trim = { startTime: 0, endTime: renderAnimation.state.elements[elementId].duration }\n        //     renderAnimation.state.elements[elementId].height = 1080\n        //     renderAnimation.state.elements[elementId].width = 1920\n        //     renderAnimation.state.elements[elementId].location = {x: 0, y: 50}\n        //     renderAnimation.state.elements[elementId].codec = { video: \"libvpx-vp9\", audio: \"default\" }\n\n            \n        //     renderAnimation.state.renderingCount += 1\n        //     renderAnimation.state.renderingProgress = renderAnimation.state.renderingCount/renderAnimation.state.numberOfRenderingRequired*100\n\n        //     renderProgress.show(renderAnimation.state.renderingProgress)\n            \n\n        //     if (renderAnimation.state.renderingCount >= renderAnimation.state.numberOfRenderingRequired) {\n        //         renderAnimation.renderOutput()\n        //     }\n\n        //     console.log('Finished processing');\n        // })\n\n        // command.on('error', function(err, stdout, stderr) {\n        //     console.log('Render Error', err.message);\n        // });\n        // command.run();\n\n    },\n\n    renderOutput: function () {\n        console.log('REND processing');\n\n        //ipcRenderer.send('RENDER', renderAnimation.state.elements, renderAnimation.state.options)\n\n        window.electronAPI.req.render.outputVideo(renderAnimation.state.elements, renderAnimation.state.options)\n        \n    },\n\n    \n\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (renderAnimation);\n\n//# sourceURL=webpack://NUGGET/./src/functions/renderAnimation.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"asset\": () => (/* reexport safe */ _functions_asset_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   \"directory\": () => (/* reexport safe */ _functions_directory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   \"fonts\": () => (/* reexport safe */ _functions_fonts_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]),\n/* harmony export */   \"mime\": () => (/* reexport safe */ _functions_mime_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   \"project\": () => (/* reexport safe */ _functions_project_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   \"renderAnimation\": () => (/* reexport safe */ _functions_renderAnimation_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _functions_asset_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./functions/asset.js */ \"./src/functions/asset.js\");\n/* harmony import */ var _functions_directory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./functions/directory.js */ \"./src/functions/directory.js\");\n/* harmony import */ var _functions_mime_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./functions/mime.js */ \"./src/functions/mime.js\");\n/* harmony import */ var _functions_project_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./functions/project.js */ \"./src/functions/project.js\");\n/* harmony import */ var _functions_renderAnimation_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./functions/renderAnimation.js */ \"./src/functions/renderAnimation.js\");\n/* harmony import */ var _functions_fonts_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./functions/fonts.js */ \"./src/functions/fonts.js\");\n/* harmony import */ var _components_asset_assetList_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/asset/assetList.js */ \"./src/components/asset/assetList.js\");\n/* harmony import */ var _components_asset_assetBrowser_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/asset/assetBrowser.js */ \"./src/components/asset/assetBrowser.js\");\n/* harmony import */ var _components_asset_assetUploader_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/asset/assetUploader.js */ \"./src/components/asset/assetUploader.js\");\n/* harmony import */ var _components_element_elementTimeline_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/element/elementTimeline.js */ \"./src/components/element/elementTimeline.js\");\n/* harmony import */ var _components_element_elementBar_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/element/elementBar.js */ \"./src/components/element/elementBar.js\");\n/* harmony import */ var _components_element_elementControl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/element/elementControl.js */ \"./src/components/element/elementControl.js\");\n/* harmony import */ var _components_keyframe_keyframeEditor_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/keyframe/keyframeEditor.js */ \"./src/components/keyframe/keyframeEditor.js\");\n/* harmony import */ var _components_menu_menuDropdown_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/menu/menuDropdown.js */ \"./src/components/menu/menuDropdown.js\");\n/* harmony import */ var _components_animation_animationPanel_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/animation/animationPanel.js */ \"./src/components/animation/animationPanel.js\");\n/* harmony import */ var _components_option_optionGroup_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./components/option/optionGroup.js */ \"./src/components/option/optionGroup.js\");\n/* harmony import */ var _components_option_optionText_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./components/option/optionText.js */ \"./src/components/option/optionText.js\");\n/* harmony import */ var _components_option_optionImage_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./components/option/optionImage.js */ \"./src/components/option/optionImage.js\");\n/* harmony import */ var _components_option_optionVideo_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./components/option/optionVideo.js */ \"./src/components/option/optionVideo.js\");\n/* harmony import */ var _components_option_optionAudio_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./components/option/optionAudio.js */ \"./src/components/option/optionAudio.js\");\n/* harmony import */ var _components_input_inputText_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./components/input/inputText.js */ \"./src/components/input/inputText.js\");\n/* harmony import */ var _components_font_selectFont_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./components/font/selectFont.js */ \"./src/components/font/selectFont.js\");\n/* harmony import */ var _components_tutorial_tutorial_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./components/tutorial/tutorial.js */ \"./src/components/tutorial/tutorial.js\");\n/* harmony import */ var _components_tutorial_tutorialPopover_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./components/tutorial/tutorialPopover.js */ \"./src/components/tutorial/tutorialPopover.js\");\n/* harmony import */ var _components_toast_toast_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./components/toast/toast.js */ \"./src/components/toast/toast.js\");\n/* harmony import */ var _components_toast_toastBox_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./components/toast/toastBox.js */ \"./src/components/toast/toastBox.js\");\n/* harmony import */ var _sass_style_scss__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./sass/style.scss */ \"./src/sass/style.scss\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ncustomElements.define('asset-list', _components_asset_assetList_js__WEBPACK_IMPORTED_MODULE_6__.AssetList);\ncustomElements.define('asset-file', _components_asset_assetList_js__WEBPACK_IMPORTED_MODULE_6__.AssetFile);\ncustomElements.define('asset-folder', _components_asset_assetList_js__WEBPACK_IMPORTED_MODULE_6__.AssetFolder);\ncustomElements.define('asset-browser', _components_asset_assetBrowser_js__WEBPACK_IMPORTED_MODULE_7__.AssetBrowser);\ncustomElements.define('asset-upload-drop', _components_asset_assetUploader_js__WEBPACK_IMPORTED_MODULE_8__.AssetDropUploader);\n\n\n\n\ncustomElements.define('element-timeline', _components_element_elementTimeline_js__WEBPACK_IMPORTED_MODULE_9__.ElementTimeline);\ncustomElements.define('element-timeline-cursor', _components_element_elementTimeline_js__WEBPACK_IMPORTED_MODULE_9__.ElementTimelineCursor);\ncustomElements.define('element-timeline-ruler', _components_element_elementTimeline_js__WEBPACK_IMPORTED_MODULE_9__.ElementTimelineRuler);\ncustomElements.define('element-timeline-range', _components_element_elementTimeline_js__WEBPACK_IMPORTED_MODULE_9__.ElementTimelineRange);\ncustomElements.define('element-timeline-end', _components_element_elementTimeline_js__WEBPACK_IMPORTED_MODULE_9__.ElementTimelineEnd);\ncustomElements.define('element-timeline-scroll', _components_element_elementTimeline_js__WEBPACK_IMPORTED_MODULE_9__.ElementTimelineScroll);\n\n\n\n\n\ncustomElements.define('element-bar', _components_element_elementBar_js__WEBPACK_IMPORTED_MODULE_10__.ElementBar);\ncustomElements.define('element-control', _components_element_elementControl_js__WEBPACK_IMPORTED_MODULE_11__.ElementControl);\ncustomElements.define('element-control-asset', _components_element_elementControl_js__WEBPACK_IMPORTED_MODULE_11__.ElementControlAsset);\ncustomElements.define('drag-alignment-guide', _components_element_elementControl_js__WEBPACK_IMPORTED_MODULE_11__.DragAlignmentGuide);\n\n\n\ncustomElements.define('keyframe-editor', _components_keyframe_keyframeEditor_js__WEBPACK_IMPORTED_MODULE_12__.KeyframeEditor);\n\ncustomElements.define('menu-dropdown-body', _components_menu_menuDropdown_js__WEBPACK_IMPORTED_MODULE_13__.MenuDropdownBody);\ncustomElements.define('menu-dropdown-item', _components_menu_menuDropdown_js__WEBPACK_IMPORTED_MODULE_13__.MenuDropdownItem);\n\ncustomElements.define('animation-panel', _components_animation_animationPanel_js__WEBPACK_IMPORTED_MODULE_14__.AnimationPanel);\ncustomElements.define('animation-panel-item', _components_animation_animationPanel_js__WEBPACK_IMPORTED_MODULE_14__.AnimationPanelItem);\n\ncustomElements.define('option-group', _components_option_optionGroup_js__WEBPACK_IMPORTED_MODULE_15__.OptionGroup);\ncustomElements.define('option-text', _components_option_optionText_js__WEBPACK_IMPORTED_MODULE_16__.OptionText);\ncustomElements.define('option-image', _components_option_optionImage_js__WEBPACK_IMPORTED_MODULE_17__.OptionImage);\ncustomElements.define('option-video', _components_option_optionVideo_js__WEBPACK_IMPORTED_MODULE_18__.OptionVideo);\ncustomElements.define('option-audio', _components_option_optionAudio_js__WEBPACK_IMPORTED_MODULE_19__.OptionAudio);\n\n\n\n\ncustomElements.define('input-text', _components_input_inputText_js__WEBPACK_IMPORTED_MODULE_20__.InputText);\ncustomElements.define('select-font', _components_font_selectFont_js__WEBPACK_IMPORTED_MODULE_21__.SelectFont);\n\ncustomElements.define('tutorial-group', _components_tutorial_tutorial_js__WEBPACK_IMPORTED_MODULE_22__.Tutorial);\ncustomElements.define('tutorial-popover', _components_tutorial_tutorialPopover_js__WEBPACK_IMPORTED_MODULE_23__.TutorialPopover);\n\ncustomElements.define('toast-item', _components_toast_toast_js__WEBPACK_IMPORTED_MODULE_24__.Toast);\ncustomElements.define('toast-box', _components_toast_toastBox_js__WEBPACK_IMPORTED_MODULE_25__.ToastBox);\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://NUGGET/./src/index.js?");

/***/ }),

/***/ "./src/utils/element.js":
/*!******************************!*\
  !*** ./src/utils/element.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"elementUtils\": () => (/* binding */ elementUtils)\n/* harmony export */ });\n\nconst elementUtils = {\n        getElementType(filetype) {\n            let elementType = 'undefined'\n            const elementFileExtensionType = {\n                \"static\": ['image', 'text', 'png', 'jpg', 'jpeg'],\n                \"dynamic\": ['video', 'audio', 'mp4', 'mp3', 'mov']\n            }\n    \n            for (const type in elementFileExtensionType) {\n                if (Object.hasOwnProperty.call(elementFileExtensionType, type)) {\n                    const extensionList = elementFileExtensionType[type];\n    \n                    if(extensionList.indexOf(filetype) >= 0)  {\n                        elementType = type\n                        break\n                    }\n                    \n                }\n            }\n    \n            return elementType\n        }\n}\n\n\n\n//# sourceURL=webpack://NUGGET/./src/utils/element.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	NUGGET = __webpack_exports__;
/******/ 	
/******/ })()
;