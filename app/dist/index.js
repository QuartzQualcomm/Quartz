/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
var NUGGET;
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/sass/style.scss":
/*!*****************************!*\
  !*** ./src/sass/style.scss ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://NUGGET/./src/sass/style.scss?");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/native.js":
/*!******************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/native.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  randomUUID\n});\n\n//# sourceURL=webpack://NUGGET/./node_modules/uuid/dist/esm-browser/native.js?");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/regex.js":
/*!*****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/regex.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i);\n\n//# sourceURL=webpack://NUGGET/./node_modules/uuid/dist/esm-browser/regex.js?");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/rng.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/rng.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ rng)\n/* harmony export */ });\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nfunction rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}\n\n//# sourceURL=webpack://NUGGET/./node_modules/uuid/dist/esm-browser/rng.js?");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/stringify.js":
/*!*********************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/stringify.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"unsafeStringify\": () => (/* binding */ unsafeStringify)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"./node_modules/uuid/dist/esm-browser/validate.js\");\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nfunction unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (stringify);\n\n//# sourceURL=webpack://NUGGET/./node_modules/uuid/dist/esm-browser/stringify.js?");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v4.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v4.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _native_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./native.js */ \"./node_modules/uuid/dist/esm-browser/native.js\");\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rng.js */ \"./node_modules/uuid/dist/esm-browser/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stringify.js */ \"./node_modules/uuid/dist/esm-browser/stringify.js\");\n\n\n\n\nfunction v4(options, buf, offset) {\n  if (_native_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomUUID && !buf && !options) {\n    return _native_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_2__.unsafeStringify)(rnds);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v4);\n\n//# sourceURL=webpack://NUGGET/./node_modules/uuid/dist/esm-browser/v4.js?");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/validate.js":
/*!********************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/validate.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _regex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regex.js */ \"./node_modules/uuid/dist/esm-browser/regex.js\");\n\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && _regex_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].test(uuid);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (validate);\n\n//# sourceURL=webpack://NUGGET/./node_modules/uuid/dist/esm-browser/validate.js?");

/***/ }),

/***/ "./src/components/animation/animationPanel.js":
/*!****************************************************!*\
  !*** ./src/components/animation/animationPanel.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AnimationPanel\": () => (/* binding */ AnimationPanel),\n/* harmony export */   \"AnimationPanelItem\": () => (/* binding */ AnimationPanelItem)\n/* harmony export */ });\n\r\nclass AnimationPanel extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n        this.elementId = this.getAttribute('element-id')\r\n\r\n        this.isShow = false\r\n\r\n    }\r\n\r\n    render(){\r\n        const innerElements = this.innerHTML\r\n        const template = this.template();\r\n\r\n        this.innerHTML = template;\r\n        this.hide()\r\n        this.style.display = \"inline-block\"\r\n        this.classList.add(\"position-relative\", \"w-100\", \"bg-dark\")\r\n        this.querySelector(\"div\").innerHTML = innerElements\r\n    }\r\n\r\n    updateItem() {\r\n        const innerElements = this.querySelector(\"div\").innerHTML\r\n        this.clearItem()\r\n\r\n        const template = this.template();\r\n\r\n        this.innerHTML = template;\r\n        this.querySelector(\"div\").innerHTML = innerElements\r\n\r\n    }\r\n\r\n    move(left) {\r\n        this.style.left = `${left}px`\r\n    }\r\n\r\n    clearItem() {\r\n        this.innerHTML = ''\r\n\r\n    }\r\n\r\n    show() {\r\n        this.classList.remove(\"d-none\")\r\n        this.isShow = true\r\n        this.updateItem()\r\n    }\r\n\r\n    hide() {\r\n        this.classList.add(\"d-none\")\r\n        this.isShow = false\r\n    }\r\n\r\n    template() {\r\n        return `<div class=\"bg-dark\">  </div>`\r\n    }\r\n\r\n    \r\n\r\n\r\n    connectedCallback() {\r\n        this.render();\r\n\r\n\r\n    }\r\n\r\n    disconnectedCallback(){\r\n\r\n    }\r\n}\r\n\r\n\r\nclass AnimationPanelItem extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n\r\n        this.animationType = this.getAttribute('animation-type')\r\n        this.elementId = this.getAttribute('element-id')\r\n\r\n        this.timeline = document.querySelector(\"element-timeline\").timeline\r\n\r\n\r\n    }\r\n\r\n    render(){\r\n        if (this.checkAnimationType() == false) {\r\n            return 0\r\n        }\r\n\r\n        // if (this.timeline[this.elementId].animation.isActivate == false) {\r\n        //     return 0\r\n        // }\r\n\r\n        this.style.width = `100%`\r\n        this.style.height = `1.5rem`\r\n        this.style.display = `inline-block`\r\n\r\n        this.classList.add(\"position-relative\", \"d-flex\", \"align-items-center\")\r\n        \r\n        this.clearPoints()\r\n        this.insertPointFromTimeline()\r\n    }\r\n\r\n    // NOTE: 포인트 타입 지정안되어이ㅛ음\r\n    insertPointFromTimeline() {\r\n        const timelineRange = Number(document.querySelector(\"element-timeline-range\").value)\r\n        const timeMagnification = timelineRange / 4\r\n        \r\n        let points = this.timeline[this.elementId].animation[this.animationType].points[0]\r\n\r\n        for (let index = 0; index < points.length; index++) {\r\n            let x = points[index][0] * timeMagnification\r\n            this.addPoint(x)\r\n        }\r\n    }\r\n\r\n    clearPoints() {\r\n        this.innerHTML = ''\r\n    }\r\n\r\n    addPoint(left) {\r\n        this.insertAdjacentHTML(\"beforeend\", `<div class=\"text-light position-absolute keyframe-diamond\" style=\"left: ${left}px;\">panel item </div>`)\r\n    }\r\n\r\n    checkAnimationType() {\r\n        let availableAnimationType = [\"position\", \"opacity\"] // scale, rotation\r\n        return availableAnimationType.includes(this.animationType)\r\n    }\r\n\r\n\r\n    showMenuDropdown({ x, y }) {\r\n        \r\n        document.querySelector(\"#menuRightClick\").innerHTML = `<menu-dropdown-body top=\"${y}\" left=\"${x}\">\r\n            <menu-dropdown-item onclick=\"document.querySelector('element-timeline').showKeyframeEditor('${this.elementId}', '${this.animationType}')\" item-name=\"키프레임 편집\"></menu-dropdown-item>\r\n        </menu-dropdown-body>`\r\n    }\r\n\r\n\r\n    handleMouseup(e) {\r\n        this.rightclick(e)\r\n    }\r\n\r\n    rightclick(e) {\r\n        const isRightClick = (e.which == 3) || (e.button == 2)\r\n\r\n        if(!isRightClick) {\r\n            return 0\r\n        }\r\n\r\n        this.showMenuDropdown({\r\n            x: e.clientX,\r\n            y: e.clientY\r\n        })\r\n    }\r\n\r\n\r\n    connectedCallback() {\r\n        this.render();\r\n        this.addEventListener('mouseup', this.handleMouseup.bind(this));\r\n    }\r\n\r\n    disconnectedCallback(){\r\n        this.removeEventListener('mouseup', this.handleMouseup);\r\n\r\n    }\r\n}\r\n\r\n\n\n//# sourceURL=webpack://NUGGET/./src/components/animation/animationPanel.js?");

/***/ }),

/***/ "./src/components/asset/assetBrowser.js":
/*!**********************************************!*\
  !*** ./src/components/asset/assetBrowser.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AssetBrowser\": () => (/* binding */ AssetBrowser)\n/* harmony export */ });\nclass AssetBrowser extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n\r\n        this.directory = ''\r\n    }\r\n\r\n    render(){\r\n        const template = this.template();\r\n        this.innerHTML = template;\r\n    }\r\n\r\n    template() {\r\n        return `<div class=\"d-flex flex-row p-0 mt-2\">\r\n        <button ref=\"arrowup\" class=\"btn btn-transparent btn-sm\"><span class=\"material-symbols-outlined icon-sm\"> arrow_upward </span> </button>\r\n        <input ref=\"text\" type=\"text\" class=\"form-control\" aria-describedby=\"basic-addon1\" value=\"\" disabled>\r\n        </div>`\r\n    }\r\n\r\n    updateDirectoryInput(path) {\r\n        let directoryInput = this.querySelector(\"div\").querySelector(\"input[ref='text']\")\r\n        directoryInput.value = path\r\n    }\r\n\r\n    clickPrevDirectoryButton() {\r\n        this.directory = document.querySelector(\"asset-list\").nowDirectory\r\n        if (this.directory == '') {\r\n            return 0\r\n        }\r\n\r\n        let splitNowDirectory = this.directory.split('/')\r\n        let splitPrevDirectory = splitNowDirectory.slice(-splitNowDirectory.length, -1)\r\n\r\n        ipc.requestAllDir(splitPrevDirectory.join('/'))\r\n    }\r\n\r\n\r\n    connectedCallback() {\r\n        this.render();\r\n\r\n        let prevDirectoryButton = this.querySelector(\"div\").querySelector(\"button[ref='arrowup']\")\r\n        prevDirectoryButton.addEventListener('click', this.clickPrevDirectoryButton.bind(this));\r\n    }\r\n\r\n    disconnectedCallback(){\r\n        let prevDirectoryButton = this.querySelector(\"div\").querySelector(\"button[ref='arrowup']\")\r\n        prevDirectoryButton.removeEventListener('click', this.clickPrevDirectoryButton);\r\n    }\r\n\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack://NUGGET/./src/components/asset/assetBrowser.js?");

/***/ }),

/***/ "./src/components/asset/assetList.js":
/*!*******************************************!*\
  !*** ./src/components/asset/assetList.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AssetFile\": () => (/* binding */ AssetFile),\n/* harmony export */   \"AssetFolder\": () => (/* binding */ AssetFolder),\n/* harmony export */   \"AssetList\": () => (/* binding */ AssetList)\n/* harmony export */ });\n\r\n\r\nclass AssetList extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n        this.blobThumbnail = {}\r\n        this.nowDirectory = ''\r\n\r\n    }\r\n\r\n    render(){\r\n        const template = this.template();\r\n        this.innerHTML = template;\r\n    }\r\n\r\n    template() {\r\n        return `<div class=\"row px-2\"> <p class=\"text-light mt-2 text-center\">프로젝트 폴더를 지정한 후 표시됩니다.</p> <button class=\"btn btn-sm btn-default text-light\" onclick=\"NUGGET.directory.select()\">프로젝트 폴더 지정</button> </div>`\r\n    }\r\n\r\n    getFile(filename){\r\n        let splitedFilename = filename.split('.')\r\n        let splitedFilenameLength = splitedFilename.length\r\n        let fileType = splitedFilenameLength <= 2 ? '' : splitedFilename[splitedFilenameLength-1]\r\n\r\n        let listBody = this.querySelector(\"div\")\r\n        listBody.insertAdjacentHTML(\"beforeend\", `<asset-file asset-name=\"${filename}\"></asset-file>`)\r\n    }\r\n\r\n    getFolder(foldername){\r\n        let splitedFoldername = foldername.split('.')\r\n        let splitedFoldernameLength = splitedFoldername.length\r\n        let fileType = splitedFoldernameLength <= 2 ? '' : splitedFilename[splitedFoldernameLength-1]\r\n\r\n        let listBody = this.querySelector(\"div\")\r\n        listBody.insertAdjacentHTML(\"beforeend\", `<asset-folder asset-name=\"${foldername}\"></asset-folder>`)\r\n    }\r\n    \r\n    clearList() {\r\n        this.querySelector(\"div\").innerHTML = '';\r\n    }\r\n\r\n    connectedCallback() {\r\n        this.render();\r\n    }\r\n}\r\n\r\n\r\nclass AssetFile extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n\r\n        this.classList.add(\"col-4\", \"d-flex\", \"flex-column\", \"bd-highlight\", \"overflow-hidden\", \"mt-1\", \"asset\")\r\n        this.filename = this.getAttribute('asset-name')\r\n        this.directory = document.querySelector(\"asset-list\").nowDirectory\r\n    }\r\n\r\n    async render(){\r\n        const fileType = NUGGET.mime.lookup(this.filename).type\r\n        const fileUrl = `file://${this.directory}/${this.filename}`\r\n        const assetList = document.querySelector(\"asset-list\")\r\n\r\n        let template;\r\n        if (fileType == 'image') {\r\n            template = this.templateImage(fileUrl);\r\n        } else if (fileType == 'video') {\r\n\r\n            if (assetList.blobThumbnail.hasOwnProperty(fileUrl)) {\r\n                let savedThumbnailUrl = assetList.blobThumbnail[fileUrl]                \r\n                template = this.templateVideoThumbnail(savedThumbnailUrl);\r\n            } else {\r\n                let thumbnailUrl = await this.captureVideoThumbnail(fileUrl)\r\n                assetList.blobThumbnail[fileUrl] = thumbnailUrl\r\n                template = this.templateVideoThumbnail(thumbnailUrl);\r\n            }\r\n\r\n        } else {\r\n            template = this.template(fileType);\r\n        }\r\n\r\n        \r\n        this.innerHTML = template;\r\n\r\n    }\r\n\r\n    template(filetype = 'unknown') {\r\n        const fileIcon = {\r\n            'video': 'video_file',\r\n            \"audio\": \"audio_file\",\r\n            \"unknown\": \"draft\"\r\n        }\r\n        return `<span class=\"material-symbols-outlined icon-lg align-self-center\"> ${fileIcon[filetype]} </span>\r\n        <b class=\"align-self-center text-ellipsis-scroll text-light text-center\">${this.filename}</b>`\r\n    }\r\n\r\n    templateImage(url) {\r\n        return `<img src=\"${url}\" alt=\"\" class=\"align-self-center asset-preview\">\r\n        <b class=\"align-self-center text-ellipsis-scroll text-light text-center\">${this.filename}</b>`\r\n    }\r\n\r\n    templateVideoThumbnail(blobUrl) {\r\n        return `\r\n        <div class=\"position-relative align-self-center\">\r\n        <img src=\"${blobUrl}\" alt=\"\" class=\"align-self-center asset-preview w-100\">\r\n        <span class=\"material-symbols-outlined position-absolute icon-center \">\r\n        play_arrow\r\n        </span>\r\n        </div>\r\n        \r\n        <b class=\"align-self-center text-ellipsis-scroll text-light text-center\">${this.filename}</b>`\r\n    }\r\n\r\n    handleClick() {\r\n        NUGGET.asset.add(`${this.directory}/${this.filename}`)\r\n        //this.patchToControl(`${this.directory}/${this.filename}`, `${this.directory}`)\r\n    }\r\n\r\n    async captureVideoThumbnail(url) {\r\n\r\n        const thumbnailUrl = await new Promise((resolve, reject) => {\r\n            fetch(`${url}`)\r\n            .then(res => {\r\n                return res.blob()\r\n            })\r\n            .then(blob => {\r\n                const blobUrl = URL.createObjectURL(blob);\r\n                const videoElement = document.createElement('video')\r\n        \r\n                videoElement.src = blobUrl\r\n                videoElement.preload = 'metadata'\r\n    \r\n                videoElement.onloadedmetadata = async () => {\r\n                    const thumbnailCanvas = document.createElement('canvas')\r\n\r\n                    videoElement.addEventListener('seeked', () => {\r\n                        let width = videoElement.videoWidth\r\n                        let height = videoElement.videoHeight\r\n                        thumbnailCanvas.width = width;\r\n                        thumbnailCanvas.height = height;\r\n                    \r\n                        let ctx = thumbnailCanvas.getContext('2d');\r\n                        ctx.drawImage(videoElement, 0, 0, thumbnailCanvas.width, thumbnailCanvas.height);\r\n                    \r\n                        thumbnailCanvas.toBlob((blob) => {\r\n                            const newImg = document.createElement('img');\r\n                            const url = URL.createObjectURL(blob);\r\n                          \r\n                            newImg.onload = () => {\r\n                                URL.revokeObjectURL(url);\r\n                            };\r\n                          \r\n                            resolve(url)\r\n                        });\r\n                        \r\n                    });\r\n                    \r\n                    videoElement.currentTime = 1;\r\n            \r\n                    // let image = thumbnailCanvas.toDataURL('image/jpeg');\r\n                    // resolve(image)\r\n\r\n                }\r\n            })\r\n\r\n        })\r\n\r\n        return thumbnailUrl\r\n\r\n    }\r\n\r\n\r\n    async connectedCallback() {\r\n        await this.render();\r\n        this.addEventListener('click', this.handleClick.bind(this));\r\n    }\r\n\r\n    disconnectedCallback(){\r\n        this.removeEventListener('click', this.handleClick);\r\n    }\r\n}\r\n\r\nclass AssetFolder extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n\r\n        this.classList.add(\"col-4\", \"d-flex\", \"flex-column\", \"bd-highlight\", \"overflow-hidden\", \"mt-1\", \"asset\")\r\n        this.foldername = this.getAttribute('asset-name')\r\n        this.directory = document.querySelector(\"asset-list\").nowDirectory\r\n    }\r\n\r\n    render(){\r\n        const template = this.template();\r\n        this.innerHTML = template;\r\n    }\r\n\r\n    template() {\r\n        return `<span class=\"material-symbols-outlined icon-lg align-self-center\"> folder </span>\r\n        <b class=\"align-self-center text-ellipsis text-light text-center\">${this.foldername}</b>`\r\n    }\r\n\r\n    handleClick() {\r\n        ipc.requestAllDir(`${this.directory}/${this.foldername}`)\r\n    }\r\n\r\n\r\n    connectedCallback() {\r\n        this.render();\r\n        this.addEventListener('click', this.handleClick.bind(this));\r\n    }\r\n\r\n    disconnectedCallback(){\r\n        this.removeEventListener('click', this.handleClick);\r\n    }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack://NUGGET/./src/components/asset/assetList.js?");

/***/ }),

/***/ "./src/components/asset/assetUploader.js":
/*!***********************************************!*\
  !*** ./src/components/asset/assetUploader.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AssetDropUploader\": () => (/* binding */ AssetDropUploader)\n/* harmony export */ });\nclass AssetDropUploader extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n\r\n    }\r\n\r\n    render(){\r\n        const template = this.template();\r\n\r\n        this.classList.add(\"bg-dark\", \"position-absolute\", \"d-none\")\r\n        this.style.left = '0px'\r\n        this.style.top = '0px'\r\n        this.style.width = '100%'\r\n        this.style.height = '100%'\r\n        this.style.zIndex = \"10000\"\r\n        this.style.opacity = '80%'\r\n        this.style.paddingTop = '46vh'\r\n\r\n        this.innerHTML = template;\r\n    }\r\n\r\n    template() {\r\n        return `\r\n        <div class=\"row justify-content-center align-items-start\">\r\n            <b class=\"col-12 align-self-center text-light position-fixed text-center\">\r\n                여기에 파일을 드롭해주세요\r\n            </b>\r\n        </div>`\r\n    }\r\n\r\n\r\n\r\n\r\n    handleDragEnter() {\r\n        this.classList.remove(\"d-none\")\r\n    }\r\n\r\n    handleDragOver(e) {\r\n        e.preventDefault();\r\n\r\n        this.classList.remove(\"d-none\")\r\n    }\r\n\r\n    handleDragLeave() {\r\n        this.classList.add(\"d-none\")\r\n    }\r\n\r\n    handleDrop(e) {\r\n\r\n        e.preventDefault();\r\n        try {\r\n\r\n            let filePath = e.dataTransfer.files[0].path\r\n            NUGGET.asset.add(filePath)\r\n            this.classList.add(\"d-none\")\r\n        } catch (error) {\r\n\r\n            setTimeout(() => {\r\n                this.classList.add(\"d-none\")\r\n\r\n            }, 800);\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    connectedCallback() {\r\n        this.render();\r\n\r\n        document.addEventListener('dragenter', this.handleDragEnter.bind(this))\r\n        document.addEventListener('dragover', this.handleDragOver.bind(this))\r\n        this.addEventListener('dragleave', this.handleDragLeave.bind(this))\r\n        this.addEventListener('drop', this.handleDrop.bind(this))\r\n\r\n    }\r\n\r\n    disconnectedCallback(){\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack://NUGGET/./src/components/asset/assetUploader.js?");

/***/ }),

/***/ "./src/components/element/elementBar.js":
/*!**********************************************!*\
  !*** ./src/components/element/elementBar.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ElementBar\": () => (/* binding */ ElementBar)\n/* harmony export */ });\nclass ElementBar extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n\r\n        //this.directory = ''\r\n\r\n        this.elementTimeline = document.querySelector(\"element-timeline\")\r\n        this.elementControl = document.querySelector(\"element-control\")\r\n\r\n        this.timeline = document.querySelector(\"element-timeline\").timeline\r\n\r\n        this.elementId = this.getAttribute('element-id')\r\n        this.elementBarType = this.getAttribute('element-type') || 'static'\r\n        this.elementFileType = this.timeline[this.elementId].filetype\r\n\r\n        \r\n        this.width = this.millisecondsToPx(this.timeline[this.elementId].duration)\r\n        this.startTime = this.millisecondsToPx(this.timeline[this.elementId].startTime)\r\n\r\n\r\n\r\n        this.isDrag = false\r\n        this.isResize = false\r\n        this.resizeLocation = 'left'\r\n        this.initialDuration = 1000\r\n\r\n        this.initialPosition = {x: 0, y: 0}\r\n\r\n        let splitedFilepath = this.timeline[this.elementId].localpath.split('/')\r\n        this.filepath = splitedFilepath[splitedFilepath.length-1]\r\n\r\n        this.resizeEventHandler;\r\n        this.dragEventHandler;\r\n\r\n    }\r\n\r\n    render(){\r\n        let template;\r\n        if (this.elementBarType == 'static') {\r\n            template = this.templateStatic();\r\n        } else {\r\n            template = this.templateDynamic();\r\n        }\r\n        const backgroundColor = this.getRandomColor()\r\n\r\n        this.classList.add(\"element-bar\", 'd-block', 'd-flex', 'align-items-center')\r\n        this.setAttribute(\"style\", `width: ${this.width}px; left: ${this.startTime}px; background-color: ${backgroundColor};`)\r\n        this.setAttribute(\"value\", this.elementId)\r\n\r\n        this.innerHTML = template;\r\n\r\n        this.setTrimBar()\r\n    }\r\n\r\n    setTrimBar() {\r\n        if (this.elementBarType == 'dynamic') {\r\n            let trimStart = this.millisecondsToPx(this.timeline[this.elementId].trim.startTime)\r\n            let trimEnd = this.millisecondsToPx(this.timeline[this.elementId].trim.endTime)\r\n\r\n            // let resizeRangeTargetLeft = this.querySelector(\".element-bar-hiddenspace-left\")\r\n            // let resizeRangeTargetRight = this.querySelector(\".element-bar-hiddenspace-right\")\r\n\r\n            // resizeRangeTargetLeft.style.width = `${trimStart}px`\r\n            // resizeRangeTargetRight.style.width = `${trimEnd}px`\r\n\r\n            this.setTrimStart(trimStart)\r\n            this.setTrimEnd(trimEnd)\r\n            this.elementControl.changeTimelineRange()\r\n\r\n        }\r\n    }\r\n\r\n    templateStatic() {\r\n\r\n        return `\r\n        ${this.templateTypeLogo({ type: this.timeline[this.elementId].filetype })}\r\n        <span ref=\"name\">${this.filepath}</span>\r\n        \r\n        <div class=\"element-bar-resize-left position-absolute\" onmousedown=\"this.parentNode.resizeMousedown(this, 'left')\"></div>\r\n        <div class=\"element-bar-resize-right position-absolute\" onmousedown=\"this.parentNode.resizeMousedown(this, 'right')\"></div>\r\n        `\r\n    }\r\n\r\n    templateDynamic() {\r\n\r\n        return `\r\n        ${this.templateTypeLogo({ type: this.timeline[this.elementId].filetype })}\r\n        <span ref=\"name\">${this.filepath}</span>\r\n        <div class=\"element-bar-hiddenspace-left position-absolute\">\r\n            <div class=\"element-bar-resize-hiddenspace-left position-absolute\" onmousedown=\"this.parentNode.parentNode.resizeRangeMousedown(this, 'left')\">\r\n            </div>\r\n        </div>\r\n        <div class=\"element-bar-hiddenspace-right position-absolute\">\r\n            <div class=\"element-bar-resize-hiddenspace-right position-absolute\" onmousedown=\"this.parentNode.parentNode.resizeRangeMousedown(this, 'right')\">\r\n            </div>\r\n        </div>\r\n        `\r\n    }\r\n\r\n    templateTypeLogo({ type }) {\r\n        let logos = {\r\n            \"image\": `<span class=\"material-symbols-outlined\">image</span>`,\r\n            \"video\": `<span class=\"material-symbols-outlined\">movie</span>`,\r\n            \"audio\": `<span class=\"material-symbols-outlined\">music_note</span>`,\r\n            \"text\": `<span class=\"material-symbols-outlined\">description</span>`\r\n        }\r\n\r\n        return logos[type]\r\n    }\r\n\r\n    getRandomArbitrary(min, max) {\r\n        return Math.round(Math.random() * (max - min) + min);\r\n    }\r\n\r\n\r\n    getRandomColor() {\r\n        //let color = \"#\" + Math.round(Math.random() * 0xffffff).toString(16) + '51'\r\n        let rgbMinColor = {r: 45, g: 23, b: 56}\r\n        let rgbMaxColor = {r: 167, g: 139, b: 180}\r\n\r\n        let rgb = {\r\n            r: this.getRandomArbitrary(rgbMinColor.r, rgbMaxColor.r),\r\n            g: this.getRandomArbitrary(rgbMinColor.g, rgbMaxColor.g),\r\n            b: this.getRandomArbitrary(rgbMinColor.b, rgbMaxColor.b)\r\n        }\r\n\r\n        let rgbColor = `rgb(${rgb.r},${rgb.g},${rgb.b})`\r\n        return rgbColor\r\n    }\r\n\r\n    animationPanelMove(left) {\r\n        if (this.elementBarType == 'dynamic') {\r\n            return 0\r\n        }\r\n        document.querySelector(`animation-panel[element-id=\"${this.elementId}\"]`).move(left)\r\n    }\r\n\r\n    drag(e) {\r\n        if (this.isDrag) {\r\n            let x = e.pageX - this.initialPosition.x\r\n            let y = e.pageY - this.initialPosition.y\r\n    \r\n            this.style.left = `${x}px`\r\n            this.animationPanelMove(x)\r\n            this.timeline[this.elementId].startTime = this.pxToMilliseconds(x)\r\n\r\n            this.dragEditGuide()\r\n        }\r\n    }\r\n\r\n    dragEditGuide() {\r\n        let elementBarPosition = {\r\n            startX: Number(this.style.left.split('px')[0]),\r\n            endX: Number(this.style.left.split('px')[0]) + Number(this.style.width.split('px')[0])\r\n        }\r\n\r\n\r\n        for (const elementId in this.timeline) {\r\n            if (Object.hasOwnProperty.call(this.timeline, elementId)) {\r\n                if (elementId == this.elementId) {\r\n                    continue\r\n                }\r\n\r\n                const element = this.timeline[elementId];\r\n                let startX = this.millisecondsToPx(element.startTime)\r\n                let endX = this.millisecondsToPx(element.startTime + element.duration)\r\n                let checkRange = 10\r\n\r\n                if (elementBarPosition.startX > startX - checkRange && elementBarPosition.startX < startX + checkRange) {\r\n                    this.style.left = `${startX}px`\r\n                    this.timeline[this.elementId].startTime = this.pxToMilliseconds(startX)\r\n                }\r\n\r\n                if (elementBarPosition.startX > endX - checkRange && elementBarPosition.startX < endX + checkRange) {\r\n                    this.style.left = `${endX}px`\r\n                    this.timeline[this.elementId].startTime = this.pxToMilliseconds(endX)\r\n\r\n                }\r\n\r\n                \r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n    dragMousedown(e) {\r\n        this.addEventListener('mousemove', this.drag);\r\n\r\n        this.isDrag = true\r\n        this.initialPosition.x = e.pageX - Number(this.style.left.split(\"px\")[0])\r\n        this.initialPosition.y = e.pageY\r\n\r\n        this.dragEventHandler = this.drag.bind(this)\r\n        document.addEventListener('mousemove', this.dragEventHandler);\r\n    }\r\n\r\n    dragMouseup() {\r\n        document.removeEventListener('mousemove', this.dragEventHandler);\r\n        this.isDrag = false\r\n    }\r\n\r\n    setWidth(width) {\r\n        this.style.width = `${width}px`\r\n    }\r\n\r\n    setLeft(left) {\r\n        this.style.left = `${left}px`\r\n    }\r\n\r\n    setTrimStart(px) {\r\n        let resizeRangeTargetLeft = this.querySelector(\".element-bar-hiddenspace-left\")\r\n        resizeRangeTargetLeft.style.width = `${px}px`\r\n    }\r\n\r\n    setTrimEnd(px) {\r\n        let duration = this.millisecondsToPx(this.timeline[this.elementId].duration)\r\n        let startTrimWidth = this.millisecondsToPx(this.timeline[this.elementId].trim.startTime)\r\n        if (duration - startTrimWidth < px) {\r\n            return 0\r\n        }\r\n        let resizeRangeTargetRight = this.querySelector(\".element-bar-hiddenspace-right\")\r\n        resizeRangeTargetRight.style.width = `${px}px`\r\n    }\r\n\r\n\r\n    millisecondsToPx(ms) {\r\n        const timelineRange = Number(document.querySelector(\"element-timeline-range\").value)\r\n        const timeMagnification = timelineRange / 4\r\n        const convertPixel = ms / 5 * timeMagnification\r\n        return Number(convertPixel.toFixed(0))\r\n    }\r\n\r\n    pxToMilliseconds(px) {\r\n        const timelineRange = Number(document.querySelector(\"element-timeline-range\").value)\r\n        const timeMagnification = timelineRange / 4\r\n        const convertMs = px * 5 / timeMagnification\r\n        return Number(convertMs.toFixed(0))\r\n    }\r\n\r\n    resize(e) {\r\n        this.unselectThisElement()\r\n        this.isDrag = false\r\n\r\n        let x = e.pageX - this.initialPosition.x\r\n        let y = e.pageY - this.initialPosition.y\r\n\r\n        let duration = this.initialDuration \r\n        let timelineScrollLeft = document.querySelector(\"element-timeline\").scrollLeft\r\n\r\n        if (this.resizeLocation == 'left') {\r\n            this.setLeft(x)\r\n            this.setWidth(duration-x)\r\n            this.timeline[this.elementId].startTime = this.pxToMilliseconds(x)\r\n            this.timeline[this.elementId].duration = this.pxToMilliseconds(Number(this.style.width.split('px')[0]))\r\n            this.animationPanelMove(x)\r\n\r\n        } else {\r\n            //this.style.left = `${x-duration}px`\r\n            this.setWidth(timelineScrollLeft+e.pageX-Number(this.style.left.split('px')[0]))\r\n            \r\n            //this.timeline[this.elementId].startTime = this.initialPosition.x\r\n            this.timeline[this.elementId].duration = this.pxToMilliseconds(Number(this.style.width.split('px')[0]))\r\n        }\r\n    }\r\n\r\n\r\n    resizeRange(e) {\r\n        this.isDrag = false\r\n\r\n        let x = e.pageX - this.initialPosition.x\r\n\r\n        let duration = this.initialDuration \r\n        let originDuration = Number(this.style.width.split('px')[0])\r\n\r\n        let resizeRangeTargetLeft = this.querySelector(\".element-bar-hiddenspace-left\")\r\n        let resizeRangeTargetRight = this.querySelector(\".element-bar-hiddenspace-right\")\r\n        let timelineElement = document.querySelector(\"element-timeline\")\r\n\r\n        let windowWidth = window.innerWidth\r\n        let timelineBodyWidth = timelineElement.scrollWidth\r\n        let targetWidth = Number(this.style.width.split('px')[0])\r\n        let targetLeft = Number(this.style.left.split('px')[0])\r\n        let targetRight = windowWidth-originDuration-targetLeft < 0 ? timelineBodyWidth - (targetLeft + targetWidth) : 0\r\n\r\n        let scrollLeft = timelineElement.scrollLeft\r\n        let scrollRight = timelineBodyWidth-windowWidth-scrollLeft\r\n        let marginLeftTargetToWidth = windowWidth-originDuration-targetLeft > 0 ? windowWidth-originDuration-targetLeft - 10 : 0\r\n\r\n        if (this.resizeLocation == 'left') {\r\n            this.setTrimStart(this.initialPosition.x +x+scrollLeft-targetLeft)\r\n            this.timeline[this.elementId].trim.startTime = this.pxToMilliseconds(Number(resizeRangeTargetLeft.style.width.split('px')[0]))\r\n        } else {\r\n            let px = (targetLeft + targetWidth) - e.pageX - scrollLeft // (scrollRight+windowWidth-x-this.initialPosition.x)-marginLeftTargetToWidth-targetRight\r\n            let resizeRangeTargetRight = this.querySelector(\".element-bar-hiddenspace-right\")\r\n            resizeRangeTargetRight.style.width = `${px}px`\r\n\r\n            this.timeline[this.elementId].trim.endTime = Number(this.pxToMilliseconds(duration-px).toFixed(0))\r\n        }\r\n    }\r\n\r\n    resizeMousedown(e, location) {\r\n        this.isResize = true\r\n        this.resizeLocation = location\r\n        this.isDrag = false\r\n        this.initialPosition.x = location == 'left' ? \r\n            Number(this.style.left.split(\"px\")[0]) : \r\n            Number(this.style.left.split(\"px\")[0])\r\n        this.initialPosition.y = e.pageY\r\n        this.initialDuration = this.millisecondsToPx(this.timeline[this.elementId].duration) + Number(this.style.left.split(\"px\")[0])\r\n\r\n        this.resizeEventHandler = this.resize.bind(this)\r\n        document.addEventListener('mousemove', this.resizeEventHandler);\r\n\r\n    }\r\n\r\n    resizeRangeMousedown(e, location) {\r\n        this.isResize = true\r\n        this.resizeLocation = location\r\n        this.resizeRangeLeft = Number(this.querySelector(\".element-bar-hiddenspace-left\").style.width.split('px')[0])\r\n        this.resizeRangeRight = Number(this.querySelector(\".element-bar-hiddenspace-right\").style.width.split('px')[0])\r\n\r\n        this.isDrag = false\r\n        this.initialPosition.x = Number(this.style.left.split(\"px\")[0])\r\n        this.initialDuration = this.millisecondsToPx(this.timeline[this.elementId].duration)\r\n\r\n        this.resizeEventHandler = this.resizeRange.bind(this)\r\n        document.addEventListener('mousemove', this.resizeEventHandler);\r\n\r\n    }\r\n\r\n    resizeMouseup() {\r\n        document.removeEventListener('mousemove', this.resizeEventHandler);\r\n\r\n        this.isResize = false\r\n    }\r\n\r\n    changeOutlineColor(action = 'add') {\r\n        if (action == 'add') {\r\n            this.classList.add(\"border-inner-light\")\r\n        } else if (action == 'remove') {\r\n            this.classList.remove(\"border-inner-light\")\r\n        }\r\n    }\r\n\r\n    selectThisElement() {\r\n        const elementControl = document.querySelector('element-control')\r\n        if (elementControl.selectElementsId.includes(this.elementId)) {\r\n            return 0\r\n        }\r\n        elementControl.selectElementsId.push(this.elementId)\r\n        this.changeOutlineColor('add')\r\n    }\r\n\r\n    unselectThisElement() {\r\n        const elementControl = document.querySelector('element-control')\r\n        elementControl.selectElementsId = elementControl.selectElementsId.filter((item) => {\r\n            return item !== this.elementId;\r\n        });\r\n\r\n        this.changeOutlineColor('remove')\r\n    }\r\n\r\n    animationPanelDropdownTemplate() {\r\n        // NOTE: 영상 애니메이션은 아직 지원 안함\r\n        if (this.elementBarType == \"dynamic\" || this.elementFileType == 'text') {\r\n            return ''\r\n        }\r\n        let isShowPanel = this.isShowAnimationPanel()\r\n        let itemName = isShowPanel == true ? \"애니메이션 패널 닫기\" : \"애니메이션 패널 열기\"\r\n        let itemOnclickEvent = isShowPanel == true ? `document.querySelector(\"animation-panel[element-id='${this.elementId}']\").hide()` : `document.querySelector(\"animation-panel[element-id='${this.elementId}']\").show()`\r\n\r\n        let template = `<menu-dropdown-item onclick=${itemOnclickEvent} item-name=\"${itemName}\"></menu-dropdown-item>`\r\n        return template\r\n    }\r\n\r\n    isShowAnimationPanel() {\r\n        return document.querySelector(`animation-panel[element-id='${this.elementId}']`).isShow\r\n    }\r\n\r\n\r\n    showMenuDropdown({ x, y }) {\r\n        let animationPanel = this.animationPanelDropdownTemplate()\r\n        document.querySelector(\"#menuRightClick\").innerHTML = `\r\n            <menu-dropdown-body top=\"${y}\" left=\"${x}\">\r\n            ${animationPanel}\r\n\r\n            <menu-dropdown-item onclick=\"document.querySelector('element-timeline').removeSeletedElements()\" item-name=\"삭제\"> </menu-dropdown-item>\r\n        </menu-dropdown-body>`\r\n    }\r\n\r\n\r\n\r\n    showSideOption() {\r\n        const optionGroup = document.querySelector(\"option-group\")\r\n        optionGroup.showOption({ filetype: this.elementFileType, elementId: this.elementId })\r\n    }\r\n\r\n    rightclick(e) {\r\n        const isRightClick = (e.which == 3) || (e.button == 2)\r\n\r\n        if(!isRightClick) {\r\n            return 0\r\n        }\r\n\r\n        this.showMenuDropdown({\r\n            x: e.clientX,\r\n            y: e.clientY\r\n        })\r\n        //document.querySelector('element-timeline').removeSeletedElements()\r\n    }\r\n\r\n\r\n    handleMousedown(e) {\r\n        this.selectThisElement()\r\n        this.dragMousedown(e)\r\n        this.showSideOption()\r\n    }\r\n\r\n    handleMouseup(e) {\r\n        this.rightclick(e)\r\n        this.selectThisElement()\r\n    }\r\n\r\n    connectedCallback() {\r\n        this.render();\r\n\r\n        this.addEventListener('mousedown', this.handleMousedown.bind(this));\r\n        this.addEventListener('mouseup', this.handleMouseup.bind(this));\r\n\r\n        //this.addEventListener('mousedown', this.dragMousedown.bind(this));\r\n        // this.addEventListener('mouseup', this.rightclick.bind(this));\r\n        // this.addEventListener('mouseup', this.click.bind(this));\r\n\r\n        document.addEventListener('mouseup', this.dragMouseup.bind(this));\r\n        document.addEventListener('mouseup', this.resizeMouseup.bind(this));\r\n\r\n    }\r\n\r\n    disconnectedCallback(){\r\n        this.removeEventListener('mousedown', this.handleMousedown);\r\n        this.removeEventListener('mouseup', this.handleMouseup);\r\n\r\n        document.removeEventListener('mouseup', this.dragMouseup);\r\n        document.removeEventListener('mouseup', this.resizeMouseup);\r\n    }\r\n}\r\n\r\n\n\n//# sourceURL=webpack://NUGGET/./src/components/element/elementBar.js?");

/***/ }),

/***/ "./src/components/element/elementControl.js":
/*!**************************************************!*\
  !*** ./src/components/element/elementControl.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DragAlignmentGuide\": () => (/* binding */ DragAlignmentGuide),\n/* harmony export */   \"ElementControl\": () => (/* binding */ ElementControl),\n/* harmony export */   \"ElementControlAsset\": () => (/* binding */ ElementControlAsset)\n/* harmony export */ });\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ \"./node_modules/uuid/dist/esm-browser/v4.js\");\n\r\n\r\nclass ElementControl extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n\r\n        this.elementTimeline;\r\n        this.timeline;\r\n        this.timelineCursor;\r\n\r\n        window.addEventListener('DOMContentLoaded', () => {\r\n            this.elementTimeline = document.querySelector(\"element-timeline\");\r\n            this.timeline = document.querySelector(\"element-timeline\").timeline;\r\n            this.timelineCursor = document.querySelector(\"element-timeline-cursor\");\r\n            this.changeTimelineRange()\r\n\r\n        });\r\n\r\n        this.scroller = undefined\r\n        this.resizeTimeout = undefined;\r\n        this.resizeInterval = undefined;\r\n\r\n        this.isResizeStart = false;\r\n        this.previousPreviewSize = {\r\n            w: 1920,\r\n            h: 1080\r\n        }\r\n\r\n        this.isPaused = true\r\n        this.isPlay = {}\r\n\r\n        \r\n        this.activeElementId = ''\r\n        this.selectElementsId = []\r\n\r\n        this.existActiveElement = false\r\n\r\n        this.progress = 0\r\n        this.progressTime = 0\r\n        this.previewRatio = 1920/1920\r\n\r\n        this.resizeEvent()\r\n    \r\n    }\r\n\r\n\r\n    async resizeEvent() {\r\n        this.resizePreview()\r\n        clearTimeout(this.resizeTimeout)\r\n\r\n        if (this.isResizeStart == false) {\r\n            this.isResizeStart = true\r\n            this.resizeInterval = setInterval(() => {\r\n        \r\n                this.matchAllElementsSizeToPreview()\r\n\r\n\r\n            }, 50);\r\n        }\r\n\r\n        this.resizeTimeout = setTimeout(() => {\r\n            clearInterval(this.resizeInterval)\r\n            this.isResizeStart = false\r\n        }, 300);\r\n\r\n    }\r\n\r\n    resizePreview() {\r\n        let innerWidth = document.getElementById(\"split_col_2\").offsetWidth\r\n        let splitTopHeight = document.getElementById(\"split_top\").offsetHeight\r\n        let splitBottomHeight = document.getElementById(\"split_bottom\").offsetHeight\r\n        let videoBoxHeight = document.getElementById(\"videobox\").offsetHeight\r\n        let videoHeight = document.getElementById(\"video\").offsetHeight\r\n\r\n        let elementTimelineHeight = document.querySelector(\"element-timeline\").offsetHeight\r\n\r\n        let horizontalResizeWidth = Math.round(innerWidth*0.95);\r\n        let horizontalResizeHeight = Math.round((horizontalResizeWidth*9)/16);\r\n\r\n        let verticalResizeHeight = (window.innerHeight - (splitBottomHeight + 20) - (videoBoxHeight - videoHeight))*0.92\r\n        let verticalResizeWidth = verticalResizeHeight * (16 / 9)\r\n\r\n        let width = horizontalResizeWidth > verticalResizeWidth ? verticalResizeWidth : horizontalResizeWidth\r\n        let height = horizontalResizeHeight > verticalResizeHeight ? verticalResizeHeight : horizontalResizeHeight\r\n\r\n\r\n        preview.width = width\r\n        preview.height = height\r\n        preview.style.width = `${width}px`\r\n        preview.style.height = `${height}px`\r\n        video.style.width = `${width}px`\r\n        video.style.height = `${height}px`\r\n\r\n        this.previewRatio = 1920/width\r\n\r\n    }\r\n\r\n    matchAllElementsSizeToPreview(gapFromPreviousRatio) {\r\n\r\n        for (const elementId in this.timeline) {\r\n            if (Object.hasOwnProperty.call(this.timeline, elementId)) {\r\n                let targetElement = document.querySelector(`#element-${elementId}`)\r\n\r\n                let elementHeight = Number(this.timeline[elementId].height) / this.previewRatio\r\n                let elementWidth = Number(this.timeline[elementId].width) / this.previewRatio\r\n                let elementTop = Number(this.timeline[elementId].location.y) / this.previewRatio\r\n                let elementLeft = Number(this.timeline[elementId].location.x) / this.previewRatio\r\n\r\n                if (this.timeline[elementId].filetype != 'text') {\r\n                    targetElement.resizeStyle({\r\n                        x: elementLeft,\r\n                        y: elementTop,\r\n                        w: elementWidth,\r\n                        h: elementHeight\r\n                    })\r\n                } else if (this.timeline[elementId].filetype == 'text') {\r\n                    let elementTextSize = Number(this.timeline[elementId].fontsize) / this.previewRatio\r\n\r\n                    targetElement.resizeStyle({\r\n                        x: elementLeft,\r\n                        y: elementTop,\r\n                        w: elementWidth,\r\n                        h: elementHeight\r\n                    })\r\n\r\n                    targetElement.resizeFont({\r\n                        px: elementTextSize\r\n                    })\r\n                }   \r\n            }\r\n        }\r\n    }\r\n\r\n    removeElementById(elementId) {\r\n        this.querySelector(`element-control-asset[element-id=\"${elementId}\"]`).remove()\r\n        this.timeline = document.querySelector(\"element-timeline\").timeline;\r\n\r\n    }\r\n\r\n    removeAllElementAsset() {\r\n        const assetLists = this.querySelectorAll(\"element-control-asset\")\r\n        assetLists.forEach(element => {\r\n            element.remove()\r\n        });\r\n        this.timeline = document.querySelector(\"element-timeline\").timeline;\r\n    }\r\n\r\n    fitElementSizeOnPreview(width, height) {\r\n        let preview = {\r\n            w: Number(document.querySelector(\"#video\").style.width.split(\"px\")[0]),\r\n            h: Number(document.querySelector(\"#video\").style.height.split(\"px\")[0])\r\n        }\r\n\r\n        let originRatio = width/height\r\n        let resizeHeight = height < preview.h ? height : preview.h\r\n        let resizeWidth = resizeHeight * originRatio\r\n\r\n        return {\r\n            width: resizeWidth,\r\n            height: resizeHeight\r\n        }\r\n    }\r\n\r\n    addImage(blob, path) {\r\n        const elementId = this.generateUUID()\r\n        const img = document.createElement('img');\r\n\r\n        img.src = blob\r\n        img.onload = () => {\r\n\r\n            let resize = this.fitElementSizeOnPreview(img.width, img.height)\r\n            let width = resize.width\r\n            let height = resize.height // /division\r\n\r\n            this.timeline[elementId] = {\r\n                blob: blob,\r\n                startTime: 0,\r\n                duration: 1000,\r\n                location: {x: 0, y: 0},\r\n                rotation: 0,\r\n                width: width,\r\n                height: height,\r\n                localpath: path,\r\n                filetype: 'image',\r\n                animation: {\r\n                    position: {\r\n                        isActivate: false,\r\n                        points: [[], []],\r\n                        allpoints: [[], []]\r\n                    },\r\n                    opacity: {\r\n                        isActivate: false,\r\n                        points: [[]],\r\n                        allpoints: [[]]\r\n                    },\r\n                }\r\n\r\n            }\r\n\r\n            this.showImage(elementId)\r\n            this.elementTimeline.addElementBar(elementId)\r\n\r\n        }\r\n    }\r\n\r\n\r\n    addVideo(blob, path) {\r\n        const elementId = this.generateUUID()\r\n        const video = document.createElement('video')\r\n        const toastMetadata = bootstrap.Toast.getInstance(document.getElementById('loadMetadataToast'))\r\n        toastMetadata.show()\r\n\r\n        \r\n\r\n        video.src = blob\r\n        video.preload = 'metadata'\r\n\r\n        video.onloadedmetadata = () => {\r\n\r\n            let width = video.videoWidth\r\n            let height = video.videoHeight\r\n            let duration = video.duration * 1000\r\n\r\n            window.electronAPI.req.ffmpeg.getMetadata(blob, path)\r\n            \r\n            window.electronAPI.res.ffmpeg.getMetadata( (evt, blobdata, metadata) => {\r\n                if (blobdata != blob) {\r\n                    return 0\r\n                }\r\n                let isExist = false\r\n\r\n                setTimeout(() => {\r\n                    toastMetadata.hide()\r\n                }, 1000)\r\n\r\n                metadata.streams.forEach(element => {\r\n                    if (element.codec_type == \"audio\") {\r\n                        isExist = true\r\n                    }\r\n                });\r\n\r\n\r\n                this.timeline[elementId] = {\r\n                    blob: blob,\r\n                    startTime: 0,\r\n                    duration: duration,\r\n                    location: {x: 0, y: 0},\r\n                    trim: {startTime: 0, endTime: duration},\r\n                    rotation: 0,\r\n                    width: width,\r\n                    height: height,\r\n                    localpath: path,\r\n                    isExistAudio: isExist,\r\n                    filetype: 'video',\r\n                    codec: { video: \"default\", audio: \"default\" }\r\n                }\r\n    \r\n                \r\n                this.showVideo(elementId)\r\n                this.elementTimeline.addElementBar(elementId)\r\n            })\r\n\r\n\r\n            // ffmpeg.ffprobe(path, (err, metadata) => {\r\n\r\n            // })\r\n    \r\n\r\n\r\n\r\n        }\r\n    }\r\n\r\n    addText() {\r\n        const elementId = this.generateUUID()\r\n\r\n        this.timeline[elementId] = {\r\n            startTime: 0,\r\n            duration: 1000,\r\n            text: \"텍스트\",\r\n            textcolor: \"#ffffff\",\r\n            fontsize: 52,\r\n            fontpath: \"default\",\r\n            fontname: \"notosanskr\",\r\n            fontweight: \"medium\",\r\n            fonttype: \"otf\",\r\n            location: {x: 0, y: 0},\r\n            rotation: 0,\r\n            localpath: '/TEXTELEMENT',\r\n            filetype: 'text',\r\n            height: 52,\r\n            width: 500,\r\n            widthInner: 200,\r\n            animation: {\r\n                position: {\r\n                    isActivate: false,\r\n                    points: [[], []],\r\n                    allpoints: [[], []]\r\n                },\r\n                opacity: {\r\n                    isActivate: false,\r\n                    points: [[]],\r\n                    allpoints: [[]]\r\n                }\r\n            }\r\n        }\r\n\r\n        this.showText(elementId)\r\n        this.elementTimeline.addElementBar(elementId)\r\n    }\r\n\r\n\r\n    addAudio(blob, path) {\r\n        const elementId = this.generateUUID()\r\n        const audio = document.createElement('audio')\r\n\r\n        audio.src = blob\r\n\r\n        audio.onloadedmetadata = () => {\r\n            let duration = audio.duration*1000\r\n\r\n            this.timeline[elementId] = {\r\n                blob: blob,\r\n                startTime: 0,\r\n                duration: duration,\r\n                location: {x: 0, y: 0}, // NOT USING\r\n                trim: {startTime: 0, endTime: duration},\r\n                localpath: path,\r\n                filetype: 'audio'\r\n            }\r\n\r\n            \r\n            this.showAudio(elementId)\r\n            this.elementTimeline.addElementBar(elementId)\r\n\r\n        }\r\n\r\n    }\r\n\r\n    showAnimation(elementId, animationType) {\r\n        let index = Math.round(document.querySelector(\"element-control\").progressTime / 20)\r\n        let indexToMs = index * 20\r\n        let startTime = Number(this.timeline[elementId].startTime)\r\n        let indexPoint = Math.round((indexToMs - startTime) / 20)\r\n\r\n        try {\r\n            if (indexPoint < 0) {\r\n                return 0\r\n            }\r\n\r\n            document.querySelector(`#element-${elementId}`).style.left = `${this.timeline[elementId].animation[animationType].allpoints[0][indexPoint].y / this.previewRatio}px`\r\n            document.querySelector(`#element-${elementId}`).style.top = `${this.timeline[elementId].animation[animationType].allpoints[1][indexPoint].y / this.previewRatio}px`\r\n\r\n        } catch (error) {\r\n            \r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    showImage(elementId) {\r\n\r\n        if (document.getElementById(`element-${elementId}`) == null) {\r\n            this.insertAdjacentHTML(\"beforeend\", `<element-control-asset element-id=\"${elementId}\" element-filetype=\"image\"></element-control-asset>`)\r\n        } else {\r\n            document.querySelector(`#element-${elementId}`).classList.remove('d-none')\r\n        }\r\n\r\n        let animationType = \"position\"\r\n        if (this.timeline[elementId].animation[animationType].isActivate == true) {\r\n            this.showAnimation(elementId, animationType)\r\n        }\r\n    }\r\n\r\n    showVideo(elementId) {\r\n\r\n        if (document.getElementById(`element-${elementId}`) == null) {\r\n            this.insertAdjacentHTML(\"beforeend\", `<element-control-asset element-id=\"${elementId}\" element-filetype=\"video\"></element-control-asset>`)\r\n\r\n            let video = document.getElementById(`element-${elementId}`).querySelector(\"video\")\r\n            let secondsOfRelativeTime = (this.timeline[elementId].startTime - this.progressTime) / 1000\r\n\r\n            video.currentTime = secondsOfRelativeTime\r\n\r\n        } else {\r\n            let video = document.getElementById(`element-${elementId}`).querySelector(\"video\")\r\n            let secondsOfRelativeTime = -(this.timeline[elementId].startTime - this.progressTime) / 1000\r\n\r\n\r\n            if (!!(video.currentTime > 0 && !video.paused && !video.ended && video.readyState > 2)) {\r\n                if (this.isPaused) {\r\n                    console.log('paused')\r\n\r\n                }\r\n            } else {\r\n                if (this.isPaused) {\r\n                    video.pause()\r\n                    this.isPlay[elementId] = false\r\n                } else {\r\n                    if (!this.isPlay[elementId]) {\r\n                        video.currentTime = secondsOfRelativeTime\r\n                        video.play()\r\n                    }\r\n                    this.isPlay[elementId] = true\r\n                }\r\n\r\n            }\r\n\r\n            document.querySelector(`#element-${elementId}`).classList.remove('d-none')\r\n        }\r\n    }\r\n\r\n    showAudio(elementId) {\r\n\r\n        if (document.getElementById(`element-${elementId}`) == null) {\r\n            this.insertAdjacentHTML(\"beforeend\", `<element-control-asset element-id=\"${elementId}\" element-filetype=\"audio\"></element-control-asset>`)\r\n\r\n            let audio = document.getElementById(`element-${elementId}`).querySelector(\"audio\")\r\n            let secondsOfRelativeTime = (this.timeline[elementId].startTime - this.progressTime) / 1000\r\n\r\n            audio.currentTime = secondsOfRelativeTime\r\n\r\n        } else {\r\n            let audio = document.getElementById(`element-${elementId}`).querySelector(\"audio\")\r\n            let secondsOfRelativeTime = -(this.timeline[elementId].startTime - this.progressTime) / 1000\r\n\r\n            if (!!(audio.currentTime > 0 && !audio.paused && !audio.ended && audio.readyState > 2)) {\r\n                if (this.isPaused) {\r\n                    console.log('paused')\r\n\r\n                }\r\n                console.log('isPlaying')\r\n            } else {\r\n                audio.currentTime = secondsOfRelativeTime\r\n\r\n                if (this.isPaused) {\r\n                    audio.pause()\r\n                } else {\r\n                    audio.play()\r\n                }\r\n            }\r\n\r\n            document.querySelector(`#element-${elementId}`).classList.remove('d-none')\r\n        }\r\n    }\r\n\r\n    showText(elementId) {\r\n        if (document.getElementById(`element-${elementId}`) == null) {\r\n            this.insertAdjacentHTML(\"beforeend\", `<element-control-asset element-id=\"${elementId}\" element-filetype=\"text\"></element-control-asset>`)\r\n        } else {\r\n            document.querySelector(`#element-${elementId}`).classList.remove('d-none')\r\n        }\r\n\r\n        if (this.timeline[elementId].animation.isActivate == true && \r\n            this.timeline[elementId].animation.allpoints.length > document.querySelector(\"element-control\").progress) {\r\n            this.showAnimation(elementId)\r\n        }\r\n    }\r\n\r\n    changeText(elementId) {\r\n        let elementBody = document.querySelector(`#element-${elementId}`)\r\n\r\n\r\n        let inputTarget = elementBody.querySelector('input-text')\r\n        let inputTargetSpan = inputTarget.querySelector(\"span\")\r\n\r\n        let inputValue = inputTarget.value\r\n\r\n        this.timeline[elementId].text = inputValue\r\n        \r\n\r\n        elementBody.style.width = `${inputTarget.offsetWidth}px`\r\n\r\n\r\n\r\n    }\r\n\r\n    changeTextColor({ elementId, color }) {\r\n        let elementBody = document.querySelector(`#element-${elementId}`)\r\n        let inputTarget = elementBody.querySelector('input-text')\r\n\r\n        inputTarget.style.color = color\r\n        this.timeline[elementId].textcolor = color\r\n    }\r\n\r\n    changeTextSize({ elementId, size }) {\r\n        let elementBody = document.querySelector(`#element-${elementId}`)\r\n        let inputTarget = elementBody.querySelector('input-text')\r\n\r\n        inputTarget.setWidthInner()\r\n\r\n\r\n        let textSize = Number(size) / this.previewRatio\r\n        elementBody.style.fontSize = `${textSize}px`\r\n        elementBody.style.height = `${textSize}px`\r\n\r\n\r\n\r\n        this.timeline[elementId].fontsize = Number(size)\r\n        this.timeline[elementId].height = Number(size)\r\n\r\n        \r\n    }\r\n\r\n    changeTextFont({ elementId, fontPath, fontType, fontName }) {\r\n        let elementBody = document.querySelector(`#element-${elementId}`)\r\n        let inputTarget = elementBody.querySelector('input-text')\r\n\r\n        elementBody.style.fontFamily = fontName\r\n\r\n        this.timeline[elementId].fontpath = fontPath\r\n        this.timeline[elementId].fontname = fontName\r\n\r\n        \r\n        \r\n    }\r\n\r\n    changeTimelineRange() {\r\n\r\n        const timelineRuler = document.querySelector(\"element-timeline-ruler\")\r\n        const elementTimelineEnd = document.querySelector(\"element-timeline-end\")\r\n\r\n        const projectDuration = document.querySelector(\"#projectDuration\").value\r\n\r\n\r\n        const timelineRange = Number(document.querySelector(\"element-timeline-range\").value)\r\n        const timeMagnification = timelineRange / 4\r\n\r\n        if (timelineRange == 0) {\r\n            return 0\r\n        }\r\n        \r\n        timelineRuler.updateRulerSpace(timeMagnification)\r\n        this.timelineCursor.move(this.progressTime / 5 * timeMagnification)\r\n        this.adjustAllElementBarWidth(timeMagnification)\r\n        this.updateAllAnimationPanel()\r\n\r\n        elementTimelineEnd.setEndTimeline({\r\n            px: (projectDuration * 1000) / 5 * timeMagnification\r\n        })\r\n    }\r\n\r\n    updateAllAnimationPanel() {\r\n        for (const elementId in this.timeline) {\r\n            if (Object.hasOwnProperty.call(this.timeline, elementId)) {\r\n                const element = this.timeline[elementId];\r\n                \r\n                if (element.filetype != 'image') {\r\n                    continue\r\n                }\r\n    \r\n                if (element.animation.position.isActivate == false) {\r\n                    continue\r\n                }\r\n\r\n                let targetAnimationPanel = document.querySelector(`animation-panel[element-id=\"${elementId}\"]`)\r\n                let targetElementBar = document.querySelector(`element-bar[element-id=\"${elementId}\"]`)\r\n\r\n                let originalLeft = targetElementBar.millisecondsToPx(this.timeline[elementId].startTime)\r\n\r\n                targetAnimationPanel.updateItem()\r\n                targetElementBar.animationPanelMove(originalLeft)\r\n            }\r\n        }\r\n    }\r\n\r\n    getTimeFromProgress() {\r\n        let timelineRange = Number(document.querySelector(\"element-timeline-range\").value)\r\n        let timeMagnification = timelineRange / 4\r\n\r\n        let relativeMilliseconds = this.progress * 5\r\n        let absoluteMilliseconds = relativeMilliseconds / timeMagnification\r\n        return absoluteMilliseconds\r\n    }\r\n\r\n    getTimeFromTimelineBar() {\r\n        let timelineCursorProgress =  Number(this.timelineCursor.style.left.split(\"px\")[0])\r\n        let timelineRange =  Number(document.querySelector(\"element-timeline-range\").value)\r\n        let timeMagnification = timelineRange / 4\r\n\r\n        let milliseconds = (timelineCursorProgress * 5) / timeMagnification\r\n        return milliseconds\r\n    }\r\n\r\n    adjustAllElementBarWidth(ratio) {\r\n        const allElementBar = document.querySelectorAll(\"element-bar\")\r\n        allElementBar.forEach(element => {\r\n            let elementId = element.getAttribute(\"element-id\")\r\n            let originalWidth = element.millisecondsToPx(this.timeline[elementId].duration) \r\n            let originalLeft = element.millisecondsToPx(this.timeline[elementId].startTime)\r\n            let changedWidth = originalWidth\r\n            let changedLeft = originalLeft\r\n\r\n            element.setWidth(changedWidth)\r\n            element.setLeft(changedLeft)\r\n\r\n            if (element.elementBarType == 'dynamic') {\r\n                let trimStart = element.millisecondsToPx(this.timeline[elementId].trim.startTime) \r\n                let trimEnd = element.millisecondsToPx(this.timeline[elementId].duration - this.timeline[elementId].trim.endTime) \r\n\r\n                element.setTrimStart(trimStart)\r\n                element.setTrimEnd(trimEnd)\r\n            }\r\n        });\r\n    }\r\n\r\n    getMillisecondsToISOTime(milliseconds) {\r\n        let time = new Date(milliseconds).toISOString().slice(11, 22)\r\n        return time\r\n    }\r\n\r\n    progressToTime() {\r\n        let ms = this.progress * 5\r\n        let time = new Date(ms).toISOString().slice(11, 22)\r\n        return time\r\n    }\r\n    \r\n\r\n    generateUUID () {\r\n        let uuid = (0,uuid__WEBPACK_IMPORTED_MODULE_0__[\"default\"])()\r\n        return uuid\r\n    }\r\n\r\n\r\n    showTime() {\r\n        const showTime = document.querySelector(\"#time\") \r\n        const milliseconds = this.getTimeFromTimelineBar()\r\n        const ISOTime = this.getMillisecondsToISOTime(milliseconds)\r\n        \r\n        showTime.innerHTML = ISOTime\r\n    }\r\n    \r\n\r\n    hideElement (elementId) {\r\n        if (this.timeline[elementId].filetype == 'video') {\r\n            this.pauseVideo(elementId)\r\n        } else if (this.timeline[elementId].filetype == 'audio') {\r\n            this.pauseAudio(elementId)\r\n        }\r\n        document.querySelector(`#element-${elementId}`).classList.add('d-none')\r\n    }\r\n\r\n    appearAllElementInTime() {\r\n        for(let elementId in this.timeline) {\r\n            let filetype = this.timeline[elementId].filetype\r\n            let checkFiletype = this.timeline[elementId].startTime > this.progressTime || \r\n            this.timeline[elementId].startTime + this.timeline[elementId].duration < this.progressTime\r\n\r\n            if (filetype == 'video' || filetype == 'audio') {\r\n                checkFiletype = this.timeline[elementId].startTime + this.timeline[elementId].trim.startTime > this.progressTime || \r\n                this.timeline[elementId].startTime + this.timeline[elementId].trim.endTime < this.progressTime\r\n            }\r\n\r\n            if (checkFiletype) {\r\n                this.hideElement(elementId)\r\n            } else {\r\n                if (filetype == 'image') {\r\n                    this.showImage(elementId)\r\n                } else if (filetype == 'video') {\r\n                    this.showVideo(elementId)\r\n                } else if (filetype == 'text') {\r\n                    this.showText(elementId)\r\n                } else if (filetype == 'audio') {\r\n                    this.showAudio(elementId)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    play() {\r\n        let toggle = document.querySelector(\"#playToggle\")\r\n        toggle.setAttribute('onclick', `elementControlComponent.stop()`)\r\n        toggle.innerHTML = `<span class=\"material-symbols-outlined icon-white icon-md\"> stop_circle </span>`\r\n\r\n        this.scroller = setInterval(() => {\r\n            //split_inner_bottom.scrollBy(4, 0);\r\n            let nowTimelineRange = Number(document.querySelector(\"element-timeline-range\").value)\r\n            let nowTimelineProgress = Number(this.timelineCursor.style.left.split('px')[0]) + nowTimelineRange\r\n            this.progress = nowTimelineProgress\r\n            this.progressTime = this.getTimeFromProgress()\r\n\r\n            this.timelineCursor.move(nowTimelineProgress)\r\n            this.showTime()\r\n            \r\n\r\n            if ((this.innerWidth + this.offsetWidth) >= this.offsetWidth) {\r\n                this.stop();\r\n            }\r\n\r\n            this.appearAllElementInTime()\r\n        }, 20);\r\n        this.isPaused = false;\r\n    }\r\n\r\n    stop() {\r\n        clearInterval(this.scroller);\r\n        const toggle = document.querySelector(\"#playToggle\")\r\n\r\n        this.isPaused = true;\r\n        for (const elementId in this.timeline) {\r\n            if (Object.hasOwnProperty.call(this.timeline, elementId)) {\r\n                this.isPlay[elementId] = false\r\n            }\r\n        }\r\n\r\n        toggle.setAttribute('onclick', `elementControlComponent.play()`)\r\n        toggle.innerHTML = `<span class=\"material-symbols-outlined icon-white icon-md\"> play_circle </span>`\r\n\r\n        this.showTime()\r\n        this.pauseAllDynamicElements()\r\n    }\r\n\r\n    pauseVideo (elementId) {\r\n        let secondsOfRelativeTime = -(this.timeline[elementId].startTime - this.progressTime) / 1000\r\n        let video = document.getElementById(`element-${elementId}`).querySelector(\"video\")\r\n        video.currentTime = secondsOfRelativeTime\r\n        video.pause()\r\n    }\r\n\r\n    pauseAudio (elementId) {\r\n        let audio = document.getElementById(`element-${elementId}`).querySelector(\"audio\")\r\n        audio.pause()\r\n    }\r\n\r\n    pauseAllDynamicElements () {\r\n        let key;\r\n\r\n        for(key in this.timeline) {\r\n            let filetype = this.timeline[key].filetype\r\n\r\n            if (filetype == 'video') {\r\n                this.pauseVideo(key)\r\n            } else if (filetype == 'audio') {\r\n                this.pauseAudio(key)\r\n            }\r\n        }\r\n    }\r\n\r\n    deactivateAllOutline() {\r\n\r\n        for (const elementId in this.timeline) {\r\n            if (Object.hasOwnProperty.call(this.timeline, elementId)) {\r\n                document.querySelector(`#element-${elementId}`).classList.remove(\"element-outline\")\r\n            }\r\n        }\r\n        this.activeElementId = ''\r\n        this.existActiveElement = false\r\n    }\r\n\r\n    reset () {\r\n        this.progress = 0\r\n        this.progressTime = 0\r\n        this.stop()\r\n\r\n        this.showTime()\r\n        this.appearAllElementInTime()\r\n        this.timelineCursor.move(0)\r\n    }\r\n\r\n    handleClickPreview() {\r\n        this.deactivateAllOutline()\r\n    }\r\n\r\n    connectedCallback() {\r\n        preview.addEventListener('click', this.handleClickPreview.bind(this));\r\n\r\n    }\r\n}\r\n\r\n\r\nclass ElementControlAsset extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n\r\n        this.timeline = document.querySelector(\"element-timeline\").timeline\r\n        this.elementControl = document.querySelector(\"element-control\")\r\n\r\n        this.elementId = this.getAttribute('element-id')\r\n        this.elementFiletype = this.getAttribute('element-filetype') || 'image'\r\n\r\n        this.isDrag = false\r\n        this.isResize = false\r\n        this.isRotate = false\r\n\r\n\r\n        this.initialPosition = {x: 0, y: 0, w: 0, h: 0}\r\n        this.resizeDirection = 'n'\r\n        this.resizeEventHandler\r\n        this.rotateEventHandler\r\n        this.dragdownEventHandler\r\n        this.dragupEventHandler\r\n\r\n    }\r\n\r\n    render(){\r\n        let template\r\n        if (this.elementFiletype == 'image') {\r\n            // NOTE: this.templateRotate() 는 사이드 잘림 문제로 추후 업데이트 필요\r\n            template = this.templateImage() + this.templateResize() //+ this.templateRotate()\r\n        } else if (this.elementFiletype == 'video') {\r\n            template = this.templateVideo() + this.templateResize()\r\n        } else if (this.elementFiletype == 'text') {\r\n            template = this.templateText() + this.templateResize('horizon')\r\n        } else if (this.elementFiletype == 'audio') {\r\n            template = this.templateAudio()\r\n        }\r\n\r\n        this.innerHTML = template;\r\n\r\n\r\n        let resizeElement = this.convertAbsoluteToRelativeSize({\r\n            x: this.timeline[this.elementId].location.x,\r\n            y: this.timeline[this.elementId].location.y,\r\n            w: !this.timeline[this.elementId].width ? 500 : this.timeline[this.elementId].width,\r\n            h: this.timeline[this.elementId].height\r\n        })\r\n\r\n\r\n\r\n        this.classList.add(\"element-drag\")\r\n        this.setAttribute(\"id\", `element-${this.elementId}`)\r\n        \r\n        if (this.elementFiletype !== 'text') {\r\n            this.setAttribute(\"style\", `width: ${resizeElement.w}px; top: ${resizeElement.y}px; left: ${resizeElement.x}px; height: ${resizeElement.h}px; transform: rotate(${this.timeline[this.elementId].rotation}deg);`)\r\n        } else if (this.elementFiletype == 'text') {\r\n            let resizeRatio = this.elementControl.previewRatio\r\n            let resizeText = this.timeline[this.elementId].fontsize / resizeRatio\r\n\r\n            this.setAttribute(\"style\", `width: ${resizeElement.w}px; left: ${resizeElement.x}px; height: ${resizeText}px; font-size: ${resizeText}px;`)\r\n            this.elementControl.changeTextFont({\r\n                elementId: this.elementId,\r\n                fontPath: this.timeline[this.elementId].fontpath,\r\n                fontType: this.timeline[this.elementId].fonttype,\r\n                fontName: this.timeline[this.elementId].fontname\r\n            })\r\n        }\r\n \r\n        \r\n\r\n    }\r\n\r\n    convertAbsoluteToRelativeSize({x,y,w,h}) { \r\n        let resizeRatio = this.elementControl.previewRatio\r\n        return {\r\n            x: x/resizeRatio,\r\n            y: y/resizeRatio,\r\n            w: w/resizeRatio,\r\n            h: h/resizeRatio,\r\n        }\r\n    }\r\n\r\n    convertRelativeToAbsoluteSize({x,y,w,h}) { \r\n        let resizeRatio = this.elementControl.previewRatio\r\n        return {\r\n            x: x*resizeRatio,\r\n            y: y*resizeRatio,\r\n            w: w*resizeRatio,\r\n            h: h*resizeRatio,\r\n        }\r\n    }\r\n\r\n    templateImage() {\r\n        return `<img src=\"${this.timeline[this.elementId].blob}\" alt=\"\" class=\"element-image\" draggable=\"false\">`\r\n    }\r\n\r\n    templateVideo() {\r\n        return `<video src=\"${this.timeline[this.elementId].blob}\" alt=\"\" class=\"element-video\" draggable=\"false\"></video>`\r\n    }\r\n\r\n    templateAudio() {\r\n        return `<audio src=\"${this.timeline[this.elementId].blob}\" class=\"d-none\" draggable=\"false\"></video>`\r\n    }\r\n\r\n    templateText() {\r\n        return `<input-text element-id=\"${this.elementId}\" init-value=\"${this.timeline[this.elementId].text}\" init-color=\"${this.timeline[this.elementId].textcolor}\"></input-text>`\r\n    }\r\n\r\n    templateResize(type = 'full') {\r\n        // full horizon vertical\r\n        let resize = {\r\n            n: `<div class=\"resize-n\" onmousedown=\"this.parentNode.resizeMousedown('n')\"></div>`,\r\n            s: `<div class=\"resize-s\" onmousedown=\"this.parentNode.resizeMousedown('s')\"></div>`,\r\n            w: `<div class=\"resize-w\" onmousedown=\"this.parentNode.resizeMousedown('w')\"></div>`,\r\n            e: `<div class=\"resize-e\" onmousedown=\"this.parentNode.resizeMousedown('e')\"></div>`,\r\n            ne: `<div class=\"resize-ne\" onmousedown=\"this.parentNode.resizeMousedown('ne')\"></div>`,\r\n            nw: `<div class=\"resize-nw\" onmousedown=\"this.parentNode.resizeMousedown('nw')\"></div>`,\r\n            se: `<div class=\"resize-se\" onmousedown=\"this.parentNode.resizeMousedown('se')\"></div>`,\r\n            sw: `<div class=\"resize-sw\" onmousedown=\"this.parentNode.resizeMousedown('sw')\"></div>`\r\n        }\r\n        if (type == 'full') {\r\n            return `\r\n            ${resize.n}\r\n            ${resize.s}\r\n            ${resize.w}\r\n            ${resize.e}\r\n            ${resize.ne}\r\n            ${resize.nw}\r\n            ${resize.se}\r\n            ${resize.sw}\r\n            `\r\n        } else if (type == 'vertical') {\r\n            return `\r\n            ${resize.n}\r\n            ${resize.s}\r\n            `\r\n        } else if (type == 'horizon') {\r\n            return `\r\n            ${resize.w}\r\n            ${resize.e}\r\n            `\r\n        }\r\n\r\n    }\r\n\r\n    templateRotate() {\r\n        return `<div class=\"handle-rotate text-center\" onmousedown=\"this.parentNode.rotateMousedown()\">\r\n        <span class=\"material-symbols-outlined handle-rotate-icon\">\r\ncached\r\n</span>\r\n        </div>`\r\n    }\r\n\r\n    pxToInteger(px = '0px') {\r\n        return Number(px.split('px')[0])\r\n    }\r\n\r\n    showDragAlignmentGuide() {\r\n        let dragAlignmentGuide = document.querySelector(\"drag-alignment-guide\")\r\n        let videoCanvas = document.querySelector(\"#video\")\r\n        let allowableRange = 6\r\n\r\n        let canvas = {\r\n            width: Number(videoCanvas.style.width.split(\"px\")[0]),\r\n            height: Number(videoCanvas.style.height.split(\"px\")[0])\r\n        }\r\n\r\n        let elementPositions = {\r\n            top: Number(this.style.top.split(\"px\")[0]),\r\n            left: Number(this.style.left.split(\"px\")[0]),\r\n            width: Number(this.style.width.split(\"px\")[0]),\r\n            height: Number(this.style.height.split(\"px\")[0]),\r\n            centerTop: (Number(this.style.height.split(\"px\")[0]) / 2) + Number(this.style.top.split(\"px\")[0]),\r\n            centerLeft: (Number(this.style.width.split(\"px\")[0]) / 2) + Number(this.style.left.split(\"px\")[0])\r\n\r\n        }\r\n\r\n        if (elementPositions.top < allowableRange && elementPositions.top > -allowableRange) {\r\n            dragAlignmentGuide.showGuide({ position: 'top' })\r\n            let y = 0\r\n            this.style.top = `${y}px`\r\n            let convertLocation = this.convertRelativeToAbsoluteSize({y: y})\r\n            this.timeline[this.elementId].location.y = convertLocation.y\r\n\r\n        } else {\r\n            dragAlignmentGuide.hideGuide({ position: 'top' })\r\n        }\r\n\r\n        if (elementPositions.top + elementPositions.height > canvas.height - allowableRange && elementPositions.top + elementPositions.height < canvas.height + allowableRange) {\r\n            dragAlignmentGuide.showGuide({ position: 'bottom' })\r\n            let y = canvas.height - elementPositions.height\r\n            this.style.top = `${y}px`\r\n            let convertLocation = this.convertRelativeToAbsoluteSize({y: y})\r\n            this.timeline[this.elementId].location.y = convertLocation.y\r\n\r\n        } else {\r\n            dragAlignmentGuide.hideGuide({ position: 'bottom' })\r\n        }\r\n\r\n        if (elementPositions.left < allowableRange && elementPositions.left > -allowableRange) {\r\n            dragAlignmentGuide.showGuide({ position: 'left' })\r\n            let x = 0\r\n            this.style.left = `${x}px`\r\n            let convertLocation = this.convertRelativeToAbsoluteSize({x: x})\r\n            this.timeline[this.elementId].location.x = convertLocation.x\r\n\r\n        } else {\r\n            dragAlignmentGuide.hideGuide({ position: 'left' })\r\n        }\r\n\r\n        if (elementPositions.left + elementPositions.width > canvas.width - allowableRange && elementPositions.left + elementPositions.width < canvas.width + allowableRange) {\r\n            dragAlignmentGuide.showGuide({ position: 'right' })\r\n            let x = canvas.width - elementPositions.width\r\n            this.style.left = `${x}px`\r\n            let convertLocation = this.convertRelativeToAbsoluteSize({x: x})\r\n            this.timeline[this.elementId].location.x = convertLocation.x\r\n        } else {\r\n            dragAlignmentGuide.hideGuide({ position: 'right' })\r\n        }\r\n\r\n        // 'horizontal', 'vertical'\r\n        \r\n\r\n        if (elementPositions.centerTop < (canvas.height / 2) + 6 && elementPositions.centerTop >  (canvas.height / 2) - 6) {\r\n            dragAlignmentGuide.showGuide({ position: 'horizontal' })\r\n\r\n            let y = (canvas.height / 2) - (elementPositions.height / 2)\r\n            this.style.top = `${y}px`\r\n            let convertLocation = this.convertRelativeToAbsoluteSize({y: y})\r\n            this.timeline[this.elementId].location.y = convertLocation.y\r\n\r\n        } else {\r\n            dragAlignmentGuide.hideGuide({ position: 'horizontal' })\r\n        }\r\n\r\n        if (elementPositions.centerLeft < (canvas.width / 2) + 6 && elementPositions.centerLeft >  (canvas.width / 2) - 6) {\r\n            dragAlignmentGuide.showGuide({ position: 'vertical' })\r\n            let x = (canvas.width / 2) - (elementPositions.width / 2)\r\n            this.style.left = `${x}px`\r\n            let convertLocation = this.convertRelativeToAbsoluteSize({x: x})\r\n            this.timeline[this.elementId].location.x = convertLocation.x\r\n        } else {\r\n            dragAlignmentGuide.hideGuide({ position: 'vertical' })\r\n        }\r\n    }\r\n\r\n    hideDragAlignmentGuide() {\r\n        let dragAlignmentGuide = document.querySelector(\"drag-alignment-guide\")\r\n        dragAlignmentGuide.hideGuide({ position: 'top' })\r\n        dragAlignmentGuide.hideGuide({ position: 'bottom' })\r\n        dragAlignmentGuide.hideGuide({ position: 'left' })\r\n        dragAlignmentGuide.hideGuide({ position: 'right' })\r\n        dragAlignmentGuide.hideGuide({ position: 'horizontal' })\r\n        dragAlignmentGuide.hideGuide({ position: 'vertical' })\r\n\r\n    }\r\n\r\n    drag(e) {\r\n        if (this.isDrag) {\r\n            let x = e.clientX - this.initialPosition.x\r\n            let y = e.clientY - this.initialPosition.y\r\n\r\n            let checkTagName = ['img', 'video', 'input']\r\n            let existTagName = ''\r\n            for (let tagname = 0; tagname < checkTagName.length; tagname++) {\r\n                if (this.querySelector(checkTagName[tagname])) {\r\n                    existTagName = checkTagName[tagname]\r\n                }\r\n            }\r\n    \r\n            if (x > window.innerWidth) {\r\n                document.removeEventListener('mousemove', this.dragdownEventHandler);\r\n            } else {\r\n                this.changeLocation({ x: x, y: y })\r\n\r\n                if (this.elementFiletype == 'image') {\r\n                    document.querySelector(\"option-image\").updateValue()\r\n\r\n                }\r\n\r\n            }\r\n\r\n            this.showDragAlignmentGuide()\r\n        }\r\n    }\r\n\r\n    changeLocation({ x, y }) {\r\n        this.style.top = `${y}px`\r\n        this.style.left = `${x}px`\r\n\r\n        let convertLocation = this.convertRelativeToAbsoluteSize({x: x, y: y})\r\n\r\n        this.timeline[this.elementId].location.x = convertLocation.x \r\n        this.timeline[this.elementId].location.y = convertLocation.y\r\n    }\r\n\r\n    dragMousedown(e) {\r\n        if (!this.isResize && !this.isRotate) {\r\n            this.isDrag = true\r\n            this.initialPosition.x = e.pageX - this.pxToInteger(this.style.left)\r\n            this.initialPosition.y = e.pageY - this.pxToInteger(this.style.top)\r\n            this.dragdownEventHandler = this.drag.bind(this)\r\n            document.addEventListener('mousemove', this.dragdownEventHandler);\r\n        }\r\n    }\r\n\r\n    dragMouseup() {\r\n        this.hideDragAlignmentGuide()\r\n\r\n        document.removeEventListener('mousemove', this.dragdownEventHandler)\r\n\r\n        //NOTE: 추후에 이미지 말고 오디오, 영상의 경우 filetype 수정\r\n        if (this.isDrag == true && this.timeline[this.elementId].filetype == 'image') {\r\n            this.addAnimationPoint({\r\n                animationType: \"position\"\r\n            })\r\n        }\r\n        this.isDrag = false\r\n\r\n    }\r\n\r\n    addAnimationPoint({ animationType }) {\r\n        if (this.timeline[this.elementId].animation[animationType].isActivate == false) {\r\n            return 0\r\n        }\r\n\r\n        const timelineRange = Number(document.querySelector(\"element-timeline-range\").value)\r\n        const timeMagnification = timelineRange / 4\r\n\r\n        let keyframeEditor = document.querySelector(`keyframe-editor[element-id=\"${this.elementId}\"]`)\r\n        let progress = (this.elementControl.progressTime - this.timeline[this.elementId].startTime) / 5\r\n\r\n        const addPoint = {\r\n            \"position\": () => {\r\n                keyframeEditor.addPoint({\r\n                    x: progress, \r\n                    y: this.timeline[this.elementId].location.x,\r\n                    line: 0\r\n                })\r\n\r\n                keyframeEditor.addPoint({\r\n                    x: progress, \r\n                    y: this.timeline[this.elementId].location.y,\r\n                    line: 1\r\n                })\r\n\r\n                keyframeEditor.drawLine(0)\r\n                keyframeEditor.drawLine(1)\r\n\r\n            }\r\n        }\r\n\r\n        addPoint[animationType]()\r\n\r\n        let animationPanel = document.querySelector(`animation-panel[element-id=\"${this.elementId}\"]`)\r\n        animationPanel.updateItem() \r\n    }\r\n\r\n    getGcd(a,b) {\r\n        if (b == 0) {\r\n            return a\r\n        }\r\n        return this.getGcd(b, a%b)\r\n    }\r\n\r\n    rotate(e) {\r\n        this.isDrag = false\r\n        console.log(\"rotate\", e.target.tagName)\r\n\r\n\r\n        if (e.target.tagName != \"CANVAS\") {\r\n            return 0\r\n        }\r\n\r\n\r\n        let referenceRotationPoint = this.convertAbsoluteToRelativeSize({\r\n            x: this.timeline[this.elementId].location.x + (this.timeline[this.elementId].width / 2), \r\n            y: this.timeline[this.elementId].location.y + (this.timeline[this.elementId].height / 2)\r\n        })\r\n\r\n        let mouseX = e.offsetX\r\n        let mouseY = e.offsetY\r\n\r\n        let degree = - Math.atan2( referenceRotationPoint.x - mouseX, referenceRotationPoint.y - mouseY ) / (Math.PI / 180)\r\n\r\n        console.log()\r\n\r\n        if (degree < 0) {\r\n            degree = 360 + degree\r\n        }\r\n\r\n        this.timeline[this.elementId].rotation = degree\r\n        this.style.transform = `rotate(${degree}deg)`;\r\n    }\r\n\r\n    resize(e) {\r\n        this.isDrag = false\r\n\r\n        const videoBox = document.querySelector(\"#video\");\r\n        const rect = videoBox.getBoundingClientRect();\r\n\r\n        let x = e.pageX - rect.left - this.initialPosition.x\r\n        let y = e.pageY - rect.top - this.initialPosition.y\r\n        let w = this.initialPosition.w\r\n        let h = this.initialPosition.h\r\n\r\n        let aspectRatio = w/h\r\n\r\n        switch (this.resizeDirection) {\r\n            case 'n':\r\n                this.resizeStyle({\r\n                    y: this.initialPosition.y+y,\r\n                    h: this.initialPosition.h-y\r\n                })\r\n                // this.style.top = `${this.initialPosition.y+y}px`\r\n                // this.style.height = `${this.initialPosition.h-y}px`\r\n                break;\r\n\r\n            case 's':\r\n                this.resizeStyle({\r\n                    y: this.initialPosition.y,\r\n                    h: y\r\n                })\r\n                // this.style.top = `${}px`\r\n                // this.style.height = `${y}px`\r\n                break;\r\n\r\n            case 'w':\r\n                this.resizeStyle({\r\n                    x: this.initialPosition.x+x,\r\n                    w: this.initialPosition.w-x\r\n                })\r\n                // this.style.left = `${}px`\r\n                // this.style.width = `${this.initialPosition.w-x}px`\r\n                break;\r\n\r\n            case 'e':\r\n                this.resizeStyle({\r\n                    x: this.initialPosition.x,\r\n                    w: x\r\n                })\r\n                // this.style.left = `${this.initialPosition.x}px`\r\n                // this.style.width = `${x}px`\r\n                break;\r\n\r\n            case 'ne':\r\n                this.resizeStyle({\r\n                    y: this.initialPosition.y+y,\r\n                    h: this.initialPosition.h-y,\r\n                    w: x\r\n                })\r\n                // this.style.top = `${this.initialPosition.y+y}px`\r\n                // //this.style.height = `${this.initialPosition.h-y}px`\r\n                // //this.style.width = `${aspectRatio*(this.initialPosition.h-y)}px`\r\n                // this.style.height = `${this.initialPosition.h-y}px`\r\n                // this.style.width = `${x}px`\r\n\r\n                break;\r\n\r\n            case 'nw':\r\n                this.resizeStyle({\r\n                    x: this.initialPosition.x+x,\r\n                    y: this.initialPosition.y+y,\r\n                    h: this.initialPosition.h-y,\r\n                    w: this.initialPosition.w-x\r\n                })\r\n                // this.style.top = `${this.initialPosition.y+y}px`\r\n                // this.style.height = `${this.initialPosition.h-y}px`\r\n                // this.style.left = `${this.initialPosition.x+x}px`\r\n                // this.style.width = `${this.initialPosition.w-x}px`\r\n                break;\r\n\r\n            case 'sw':\r\n                this.resizeStyle({\r\n                    x: this.initialPosition.x+x,\r\n                    h: y,\r\n                    w: this.initialPosition.w-x\r\n                })\r\n                // this.style.height = `${y}px`\r\n                // this.style.left = `${this.initialPosition.x+x}px`\r\n                // this.style.width = `${this.initialPosition.w-x}px`\r\n                break;\r\n\r\n            case 'se':\r\n                this.resizeStyle({\r\n                    x: this.initialPosition.x,\r\n                    y: this.initialPosition.y,\r\n                    h: y,\r\n                    w: x\r\n                })\r\n                // this.style.top = `${this.initialPosition.y}px`\r\n                // this.style.height = `${y}px`\r\n                // this.style.left = `${this.initialPosition.x}px`\r\n                // this.style.width = `${x}px`\r\n                break;\r\n        \r\n            default:\r\n                break;\r\n        }\r\n        let resizeRatio = this.elementControl.previewRatio\r\n\r\n        this.timeline[this.elementId].location.y = Math.round(Number(this.style.top.split('px')[0]) * resizeRatio)\r\n        this.timeline[this.elementId].location.x = Math.round(Number(this.style.left.split('px')[0]) * resizeRatio)\r\n        this.timeline[this.elementId].width = Math.round(Number(this.style.width.split('px')[0]) * resizeRatio)\r\n        this.timeline[this.elementId].height = Math.round(Number(this.style.height.split('px')[0]) * resizeRatio)\r\n    }\r\n\r\n    resizeStyle({x, y, w, h}) {\r\n        this.style.left = !x == false ? `${x}px` : this.style.left\r\n        this.style.top = !y == false ? `${y}px` : this.style.top\r\n        this.style.width = !w == false ? `${w}px` : this.style.width\r\n        this.style.height = !h == false ? `${h}px` : this.style.height\r\n    }\r\n\r\n    resizeFont({px}) {\r\n        if (!this.querySelector(\"input-text\")) {\r\n            return 0\r\n        }\r\n\r\n        let targetInput = this.querySelector(\"input-text\")\r\n\r\n\r\n        this.style.fontSize = `${px}px`\r\n\r\n        this.elementControl.changeTextSize({ \r\n            elementId: this.elementId,\r\n            size: this.timeline[this.elementId].fontsize\r\n        })\r\n\r\n    }\r\n\r\n    rotateMousedown() {\r\n        this.isDrag = false\r\n        this.isResize = false\r\n\r\n        if (this.isRotate == false) {\r\n            \r\n            this.rotateEventHandler = this.rotate.bind(this)\r\n            document.querySelector(\"#preview\").addEventListener('mousemove', this.rotateEventHandler);\r\n        }\r\n\r\n\r\n        this.isRotate = true\r\n\r\n    }\r\n\r\n    rotateMouseup() {\r\n        document.querySelector(\"#preview\").removeEventListener('mousemove', this.rotateEventHandler);\r\n        this.isRotate = false\r\n    }\r\n\r\n    resizeMousedown(direction) {\r\n        this.isDrag = false\r\n\r\n\r\n        this.isResize = true\r\n        this.resizeDirection = direction\r\n\r\n        this.initialPosition.w = Number(this.style.width.split('px')[0])\r\n        this.initialPosition.h = Number(this.style.height.split('px')[0])\r\n        this.initialPosition.x = Number(this.style.left.split('px')[0])\r\n        this.initialPosition.y = Number(this.style.top.split('px')[0])\r\n\r\n        this.resizeEventHandler = this.resize.bind(this)\r\n        document.addEventListener('mousemove', this.resizeEventHandler);\r\n    }\r\n\r\n    resizeMouseup() {\r\n        document.removeEventListener('mousemove', this.resizeEventHandler);\r\n        this.isResize = false\r\n    }\r\n\r\n\r\n\r\n    activateOutline() {\r\n        this.elementControl.deactivateAllOutline()\r\n        this.elementControl.activeElementId = this.elementId\r\n        this.elementControl.existActiveElement = true\r\n        this.classList.add(\"element-outline\")\r\n    }\r\n\r\n\r\n\r\n    showSideOption() {\r\n\r\n        // let optionTab = new bootstrap.Tab(document.querySelector('#sidebar button[data-bs-target=\"#nav-option\"]'))\r\n        // let offcanvasOptionListsId = ['option_text']\r\n\r\n        // for (let index = 0; index < offcanvasOptionListsId.length; index++) {\r\n        //     const element = offcanvasOptionListsId[index];\r\n        //     document.querySelector(`#${element}`).classList.add(\"d-none\")\r\n        // }\r\n\r\n        const optionGroup = document.querySelector(\"option-group\")\r\n        optionGroup.showOption({ filetype: this.elementFiletype, elementId: this.elementId })\r\n\r\n        // if (this.elementFiletype == 'text') {\r\n        //     document.querySelector(`#option_text`).classList.remove(\"d-none\")\r\n        //     document.querySelector(`#optionTargetElement`).value = this.elementId\r\n        //     //optionTab.show()\r\n        // }\r\n    }\r\n\r\n\r\n    handleMousedown(e) {\r\n        this.dragMousedown(e)\r\n        this.activateOutline(e)\r\n        this.showSideOption()\r\n\r\n    }\r\n\r\n\r\n    handleDoubleClick(e) {\r\n        //this.showSideOption()\r\n    }\r\n\r\n    connectedCallback() {\r\n        this.render();\r\n\r\n        this.addEventListener('mousedown', this.handleMousedown.bind(this));\r\n        this.addEventListener('dblclick', this.handleDoubleClick.bind(this));\r\n\r\n        // this.addEventListener('mousedown', this.dragMousedown.bind(this));\r\n        // this.addEventListener('mousedown', this.activateOutline.bind(this));\r\n\r\n        document.addEventListener('mouseup', this.resizeMouseup.bind(this));\r\n        document.addEventListener('mouseup', this.rotateMouseup.bind(this));\r\n        document.addEventListener('mouseup', this.dragMouseup.bind(this));\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nclass DragAlignmentGuide extends HTMLElement {\r\n    constructor() {\r\n        super()\r\n\r\n        this.videoCanvas = document.querySelector(\"#video\")\r\n        this.allPositions = ['top', 'bottom', 'left', 'right', 'horizontal', 'vertical']\r\n    }\r\n\r\n    addGuide() {\r\n        for (let index = 0; index < this.allPositions.length; index++) {\r\n            const position = this.allPositions[index];\r\n            this.videoCanvas.insertAdjacentHTML(\"beforeend\", `<alignment-guide position=\"${position}\" class=\"alignment-guide alignment-guide-${position}\"></alignment-guide>`)\r\n            this.hideGuide({ position: position })\r\n\r\n        }\r\n    }\r\n\r\n    hideGuide({ position }) {\r\n        let target = this.videoCanvas.querySelector(`alignment-guide[position='${position}']`)\r\n        target.classList.add(\"d-none\")\r\n    }\r\n\r\n    showGuide({ position }) {\r\n        let target = this.videoCanvas.querySelector(`alignment-guide[position='${position}']`)\r\n        target.classList.remove(\"d-none\")\r\n    }\r\n\r\n    connectedCallback() {\r\n        this.addGuide()\r\n    }\r\n}\r\n\r\n\n\n//# sourceURL=webpack://NUGGET/./src/components/element/elementControl.js?");

/***/ }),

/***/ "./src/components/element/elementTimeline.js":
/*!***************************************************!*\
  !*** ./src/components/element/elementTimeline.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ElementTimeline\": () => (/* binding */ ElementTimeline),\n/* harmony export */   \"ElementTimelineCursor\": () => (/* binding */ ElementTimelineCursor),\n/* harmony export */   \"ElementTimelineEnd\": () => (/* binding */ ElementTimelineEnd),\n/* harmony export */   \"ElementTimelineRange\": () => (/* binding */ ElementTimelineRange),\n/* harmony export */   \"ElementTimelineRuler\": () => (/* binding */ ElementTimelineRuler),\n/* harmony export */   \"ElementTimelineScroll\": () => (/* binding */ ElementTimelineScroll)\n/* harmony export */ });\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ \"./node_modules/uuid/dist/esm-browser/v4.js\");\n\r\n\r\n\r\nclass ElementTimeline extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n\r\n        //this.directory = ''\r\n        this.elementControl\r\n\r\n        window.addEventListener('DOMContentLoaded', () => {\r\n            this.elementControl = document.querySelector(\"element-control\");\r\n        });\r\n\r\n        this.timeline = {\r\n\r\n        }\r\n\r\n        this.timelineHashTable = {}\r\n        this.appendCheckpointInHashTable()\r\n        this.copyedTimelineData = {};\r\n\r\n        // NOTE: edit guide == 정렬 가이드, 모든 엘리먼트의 시작점과 끝 점을 담은 배열입니다.\r\n        this.editGuideBreakPoint = []\r\n\r\n    }\r\n\r\n    generateHash(text) {\r\n        let hash = 0, i, chr;\r\n        if (text.length === 0) return hash;\r\n        for (i = 0; i < text.length; i++) {\r\n            chr = text.charCodeAt(i);\r\n            hash = ((hash << 5) - hash) + chr;\r\n            hash |= 0;\r\n        }\r\n        return hash;\r\n    }\r\n\r\n    getTime() {\r\n        return Date.now()\r\n    }\r\n\r\n    appendCheckpointInHashTable() { // NOTE: 해시 테이블에 변경점 입력\r\n        let hashString = JSON.stringify(this.timeline)\r\n        let hash = this.generateHash(hashString)\r\n        let nowTimestamp = this.getTime()\r\n        this.timelineHashTable[nowTimestamp] = hash\r\n    }\r\n\r\n    isTimelineChange() {\r\n        let nowHashString = JSON.stringify(this.timeline)\r\n        let nowTimelineHash = this.generateHash(nowHashString)\r\n        let timelineHashLength = Object.keys(this.timelineHashTable).length\r\n        let firstKeyInTimelineHashTable = Object.keys(this.timelineHashTable)[timelineHashLength-1]\r\n        let prevTimelineHash = this.timelineHashTable[firstKeyInTimelineHashTable]\r\n        return nowTimelineHash != prevTimelineHash\r\n    }\r\n\r\n    render(){\r\n        const template = this.template();\r\n        this.classList.add(\"col-12\", \"cursor-default\", \"h-100\", \"line\", \"bg-darker\")\r\n        this.innerHTML = template;\r\n    }\r\n\r\n\r\n    template() {\r\n        return `\r\n        <element-timeline-cursor></element-timeline-cursor>\r\n        <element-timeline-end></element-timeline-end>\r\n        <element-timeline-scroll></element-timeline-scroll>\r\n\r\n        \r\n        <div ref=\"elementLayer\" style=\"margin-top: 24px;\"></div>\r\n\r\n        `\r\n    }\r\n\r\n    replaceTimelineBarHeight(height) {\r\n        let timelineBar = this.querySelector(\".timeline-bar\")\r\n        timelineBar.style.height = `${height}px`\r\n    }\r\n\r\n    getTimelineScrollHeight() {\r\n        return this.scrollHeight\r\n    }\r\n\r\n    async patchTimeline(timeline) {\r\n        this.timeline = timeline\r\n        this.elementControl.timeline = timeline\r\n\r\n        for (const elementId in timeline) {\r\n            if (Object.hasOwnProperty.call(timeline, elementId)) {\r\n                const element = timeline[elementId];\r\n                this.patchElementInTimeline({ elementId: elementId, element: element })\r\n\r\n                \r\n            }\r\n        }\r\n    }\r\n\r\n    async patchElementInTimeline({ elementId, element }) {\r\n        if (element.filetype == 'image') {\r\n            let blobUrl = await this.getBlobUrl(`file://${element.localpath}`)\r\n            this.timeline[elementId].blob = String(blobUrl)\r\n            this.elementControl.showImage(elementId)\r\n        } else if (element.filetype == 'video') {\r\n            let blobUrl = await this.getBlobUrl(`file://${element.localpath}`)\r\n            this.timeline[elementId].blob = String(blobUrl)\r\n            this.elementControl.showVideo(elementId)\r\n        } else if (element.filetype == 'text') {\r\n            document.querySelector(\"select-font\").applyFontStyle({\r\n                fontName: element.fontname,\r\n                fontPath: element.fontpath,\r\n                fontType: element.fonttype\r\n            })\r\n\r\n            this.elementControl.showText(elementId)\r\n        } else if (element.filetype == 'audio') {\r\n            let blobUrl = await this.getBlobUrl(`file://${element.localpath}`)\r\n            this.timeline[elementId].blob = String(blobUrl)\r\n            this.elementControl.showAudio(elementId)\r\n        }\r\n        this.addElementBar(elementId)\r\n    }\r\n\r\n    resetTimelineData() {\r\n        this.timeline = {}\r\n        this.removeAllTimelineBars()\r\n        this.elementControl.removeAllElementAsset()\r\n    }\r\n\r\n    removeAllTimelineBars() {\r\n        const bars = this.querySelectorAll(\"element-bar\")\r\n        bars.forEach(element => {\r\n            element.remove()\r\n        });\r\n    }\r\n\r\n\r\n    async getBlobUrl(url) {\r\n        try {\r\n            const response = await fetch(url);\r\n            const data = await response.blob()\r\n            return URL.createObjectURL(data);\r\n        } catch (error) {\r\n\r\n\r\n            let notfoundImage = `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAAAM0lEQVQ4jWNkYGD4z4AEUDgMDAyMBASYGCgEowaMGjA4DGD8/x8j+dPXBSzka/1PHRcAAFzYCBvm7NkTAAAAAElFTkSuQmCC`\r\n\r\n            console.error(error)\r\n            const response = await fetch(notfoundImage);\r\n            const data = await response.blob()\r\n            return URL.createObjectURL(data);\r\n\r\n        }\r\n\r\n    }\r\n\r\n    addElementBar(elementId) {\r\n        const templateBar = this.templateElementBar(elementId)\r\n        this.querySelector(\"div[ref='elementLayer']\").insertAdjacentHTML(\"afterbegin\", templateBar)\r\n    }\r\n\r\n    templateElementBar(elementId) {\r\n        let width = this.timeline[elementId].duration\r\n        let filetype = this.timeline[elementId].filetype\r\n\r\n        let elementSplitedFilepath = this.timeline[elementId].localpath.split('/')\r\n        let elementFilepath = elementSplitedFilepath[elementSplitedFilepath.length-1]\r\n\r\n        let elementType = this.getElementType(filetype)\r\n\r\n        if (elementType == 'static') {\r\n            return `\r\n            <element-bar element-id=\"${elementId}\" element-type=\"static\"></element-bar> \r\n\r\n            <animation-panel element-id=\"${elementId}\"> \r\n                <animation-panel-item animation-type=\"position\" element-id=\"${elementId}\"></animation-panel-item> \r\n\r\n            </animation-panel> \r\n            `\r\n\r\n        } else if (elementType == 'dynamic') {\r\n            return `<element-bar element-id=\"${elementId}\" element-type=\"dynamic\"></element-bar>`\r\n        } else {\r\n            return `none`\r\n        }\r\n    }\r\n\r\n\r\n\r\n    getElementType(filetype) {\r\n        let elementType = 'undefined'\r\n        const elementFileExtensionType = {\r\n            \"static\": ['image', 'text', 'png', 'jpg', 'jpeg'],\r\n            \"dynamic\": ['video', 'audio', 'mp4', 'mp3', 'mov']\r\n        }\r\n\r\n        for (const type in elementFileExtensionType) {\r\n            if (Object.hasOwnProperty.call(elementFileExtensionType, type)) {\r\n                const extensionList = elementFileExtensionType[type];\r\n\r\n                if(extensionList.indexOf(filetype) >= 0)  {\r\n                    elementType = type\r\n                    break\r\n                }\r\n                \r\n            }\r\n        }\r\n\r\n        return elementType\r\n    }\r\n\r\n    togglePlayer() {\r\n        if (this.elementControl.isPaused == true) {\r\n            this.elementControl.play()\r\n        } else {\r\n            this.elementControl.stop()\r\n        }\r\n    }\r\n\r\n    removeAnimationPanelById(elementId) {\r\n        let target = this.querySelector(`animation-panel[element-id=\"${elementId}\"]`)\r\n        if (!target) {\r\n            return 0\r\n        }\r\n\r\n        target.remove()\r\n    }\r\n\r\n    removeElementInTimelineData(elementId) {\r\n        delete this.timeline[elementId]\r\n    }\r\n\r\n    removeElementById(elementId) {\r\n        this.querySelector(`element-bar[element-id=\"${elementId}\"]`).remove()\r\n    }\r\n\r\n    removeSeletedElements() {\r\n        this.elementControl.selectElementsId.forEach(elementId => {\r\n            this.removeElementById(elementId)\r\n            this.removeElementInTimelineData(elementId)\r\n            this.removeAnimationPanelById(elementId)\r\n            this.elementControl.removeElementById(elementId)\r\n        });\r\n        this.elementControl.selectElementsId = []\r\n    }\r\n\r\n    copySeletedElement() {\r\n        let selected = {}\r\n        \r\n        this.elementControl.selectElementsId.forEach(elementId => {\r\n            let changedUUID = (0,uuid__WEBPACK_IMPORTED_MODULE_0__[\"default\"])()\r\n            selected[changedUUID] = this.timeline[elementId]\r\n        });\r\n\r\n        this.copyedTimelineData = selected\r\n    }\r\n\r\n    splitSeletedElement() {\r\n        let selected = {}\r\n        const timelineRange = Number(document.querySelector(\"element-timeline-range\").value)\r\n        const timelineCursor = Number(document.querySelector(\"element-timeline-cursor\").style.left.split('px')[0])\r\n        const timeMagnification = timelineRange / 4\r\n        const convertMs = timelineCursor * 5 / timeMagnification\r\n        let curserLeft = Number(convertMs.toFixed(0)) \r\n\r\n        this.elementControl.selectElementsId.forEach(elementId => {\r\n            let changedUUID = (0,uuid__WEBPACK_IMPORTED_MODULE_0__[\"default\"])()\r\n            let targetElementBar = document.querySelector(`element-bar[element-id='${elementId}']`)\r\n            selected[changedUUID] = _.cloneDeep(this.timeline[elementId]);\r\n\r\n            if (this.getElementType(this.timeline[elementId].filetype) == 'dynamic') {\r\n                let targetElementTrimStartTime = curserLeft - (selected[changedUUID].trim.startTime + selected[changedUUID].startTime)\r\n                selected[changedUUID].trim.startTime += targetElementTrimStartTime\r\n    \r\n                targetElementBar.setTrimEnd(targetElementBar.millisecondsToPx(selected[changedUUID].trim.startTime))\r\n                this.timeline[elementId].trim.endTime = selected[changedUUID].trim.startTime\r\n                \r\n            } else if (this.getElementType(this.timeline[elementId].filetype) == 'static') {\r\n                let targetElementStartTime = curserLeft - selected[changedUUID].startTime\r\n    \r\n                selected[changedUUID].startTime += targetElementStartTime\r\n                selected[changedUUID].duration = selected[changedUUID].duration - targetElementStartTime\r\n    \r\n                let originElementDuration = this.timeline[elementId].duration - selected[changedUUID].duration\r\n    \r\n                targetElementBar.setWidth(targetElementBar.millisecondsToPx(originElementDuration))\r\n                this.timeline[elementId].duration = originElementDuration\r\n            }\r\n        \r\n        });\r\n\r\n        this.copyedTimelineData = selected\r\n    }\r\n\r\n    pasteElement({ elementId, element }) {\r\n        this.timeline[elementId] = _.cloneDeep(element);\r\n    }\r\n\r\n\r\n    showAnimationPanel(elementId) {\r\n        this.querySelector(`animation-panel[element-id='${elementId}']`).show()\r\n    }\r\n\r\n    hideAnimationPanel(elementId) {\r\n        this.querySelector(`animation-panel[element-id='${elementId}']`).hide()\r\n    }\r\n\r\n    showKeyframeEditor(elementId, animationType) {\r\n        let timelineOptionOffcanvas = new bootstrap.Offcanvas(document.getElementById('option_bottom'))\r\n        let timelineOption = document.querySelector(\"#timelineOptionBody\")\r\n        let targetElementId = document.querySelector(\"#timelineOptionTargetElement\")\r\n\r\n        timelineOption.innerHTML = `<keyframe-editor element-id=\"${elementId}\" animation-type=\"${animationType}\"></keyframe-editor>`\r\n        timelineOption.classList.remove(\"d-none\")\r\n        targetElementId.value = elementId\r\n        timelineOptionOffcanvas.show()\r\n    }\r\n\r\n    deactivateSeletedBar() {\r\n        this.elementControl.selectElementsId.forEach(elementId => {\r\n            let targetElement = document.querySelector(`element-bar[element-id='${elementId}']`)\r\n            targetElement.unselectThisElement()\r\n        });\r\n    }\r\n\r\n    fixRulerOnTop() {\r\n        const scrollTop = this.scrollTop\r\n        const elementTimelineRuler = document.querySelector(\"element-timeline-ruler\")\r\n        const elementTimelineCursor = document.querySelector(\"element-timeline-cursor\")\r\n\r\n        elementTimelineRuler.setTopPosition(scrollTop)\r\n        elementTimelineCursor.style.top = `${scrollTop}px`\r\n    }\r\n\r\n    scrollKeyframeEditor() {\r\n        let isExistKeyframeEditor = !!document.querySelector(\"keyframe-editor\")\r\n        if (isExistKeyframeEditor == false) {\r\n            return 0\r\n        }\r\n\r\n        document.querySelector(\"keyframe-editor\").scrollTo(this.scrollLeft, this.scrollTop)\r\n    }\r\n\r\n    handleKeydown(event) {\r\n        console.log(\"event keycode > \", event.keyCode)\r\n        if (this.elementControl.existActiveElement == true) {\r\n            return 0\r\n        }\r\n\r\n        if(event.keyCode == 32) { // Space\r\n            event.preventDefault();\r\n            this.togglePlayer()\r\n\r\n        }\r\n\r\n        if (event.keyCode == 8) { // backspace\r\n            event.preventDefault();\r\n            this.removeSeletedElements()\r\n        \r\n        }\r\n\r\n        if(event.ctrlKey && event.keyCode == 86 ){  //CTL v\r\n            for (const elementId in this.copyedTimelineData) {\r\n                if (Object.hasOwnProperty.call(this.copyedTimelineData, elementId)) {\r\n                    this.pasteElement({\r\n                        elementId: elementId,\r\n                        element: this.copyedTimelineData[elementId]\r\n                    })\r\n\r\n                    this.patchElementInTimeline({\r\n                        elementId: elementId,\r\n                        element: this.copyedTimelineData[elementId]\r\n                    })\r\n                }\r\n            }\r\n\r\n    \r\n        }\r\n        \r\n        if(event.ctrlKey && event.keyCode == 67 ){  //CTL c\r\n            this.copySeletedElement()\r\n\r\n        }\r\n\r\n        if(event.ctrlKey && event.keyCode == 88 ){  //CTL x\r\n    \r\n            this.copySeletedElement()\r\n            this.removeSeletedElements()\r\n\r\n\r\n        }\r\n\r\n        if(event.ctrlKey && event.keyCode == 68 ){  //CTL d\r\n\r\n            this.splitSeletedElement()\r\n    \r\n            for (const elementId in this.copyedTimelineData) {\r\n                if (Object.hasOwnProperty.call(this.copyedTimelineData, elementId)) {\r\n                    this.pasteElement({\r\n                        elementId: elementId,\r\n                        element: this.copyedTimelineData[elementId]\r\n                    })\r\n\r\n                    this.patchElementInTimeline({\r\n                        elementId: elementId,\r\n                        element: this.copyedTimelineData[elementId]\r\n                    })\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    handleMousedown() {\r\n        this.elementControl.deactivateAllOutline()\r\n        this.deactivateSeletedBar()\r\n    }\r\n\r\n    handleScroll() {\r\n        this.fixRulerOnTop()\r\n        this.scrollKeyframeEditor()\r\n        this.querySelector(\"element-timeline-scroll\").setScrollThumbLeft({ px: this.scrollLeft })\r\n    }\r\n\r\n    connectedCallback() {\r\n        this.render();\r\n        this.addEventListener('mousedown', this.handleMousedown.bind(this));\r\n        this.addEventListener('scroll', this.handleScroll.bind(this));\r\n\r\n        document.addEventListener('keydown', this.handleKeydown.bind(this));\r\n    }\r\n}\r\n\r\n\r\nclass ElementTimelineCursor extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n\r\n        this.elementTimelineRuler;\r\n\r\n        window.addEventListener('DOMContentLoaded', () => {\r\n            this.elementTimelineRuler = document.querySelector(\"element-timeline-ruler\")\r\n        });\r\n        \r\n    }\r\n\r\n    render(){\r\n        this.classList.add(\"timeline-bar\")\r\n        this.setAttribute(\"id\", \"timeline_bar\")\r\n        this.style.left = `0px`\r\n        this.style.top = `0px`\r\n\r\n    }\r\n\r\n    move(px) {\r\n        this.style.left = `${px}px`\r\n    }\r\n\r\n    handleMousedown(e) {\r\n        this.elementTimelineRuler.moveTime(e)\r\n        this.elementTimelineRuler.mousemoveEventHandler = this.elementTimelineRuler.handleMousemove.bind(this.elementTimelineRuler)\r\n        document.addEventListener('mousemove', this.elementTimelineRuler.mousemoveEventHandler);\r\n    }\r\n\r\n\r\n    handleMouseup(e) {\r\n        document.removeEventListener('mousemove', this.elementTimelineRuler.mousemoveEventHandler);\r\n    }\r\n\r\n\r\n    connectedCallback() {\r\n        this.render();\r\n        this.addEventListener('mousedown', this.handleMousedown.bind(this));\r\n        document.addEventListener('mouseup', this.handleMouseup.bind(this));\r\n\r\n    }\r\n}\r\n\r\n\r\nclass ElementTimelineRuler extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n        this.mousemoveEventHandler = undefined\r\n        this.mouseTimeout = undefined\r\n        this.rulerType = 'sec'\r\n        this.timeMagnification = 1\r\n    }\r\n\r\n    render(){\r\n        this.innerHTML = ''\r\n        const template = this.template();\r\n        // this.classList.remove(\"ruler-sec\", \"ruler-min\")\r\n        // this.classList.add(\"timeline-ruler\", `ruler`)\r\n\r\n        this.classList.add(\"ps-0\", \"overflow-hidden\", \"position-absolute\")\r\n\r\n        this.style.top = '40px'\r\n\r\n        this.innerHTML = template;\r\n        this.drawRuler()\r\n        // this.addTickNumber(10)\r\n    }\r\n\r\n\r\n    template() {\r\n    //     return `<ul class=\"ruler-x\">\r\n    //     <li></li><li></li><li></li><li></li><li></li> <!-- repeat -->\r\n    //   </ul>`\r\n        const width = document.querySelector(\"element-timeline\").clientWidth\r\n        const height = 30\r\n\r\n        return `<canvas ref=\"canvas\" width=\"${width}\" height=\"${height}\"></canvas>`\r\n    }\r\n\r\n\r\n\r\n    drawRuler() {\r\n\r\n        const fullWidth = document.querySelector(\"element-timeline\").clientWidth\r\n        const fullWeight = 30\r\n\r\n        const canvas = this.querySelector(\"canvas[ref='canvas']\")\r\n        const ctx = canvas.getContext('2d')\r\n        canvas.width = fullWidth\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n        let range = 1\r\n        let unitSplit = 1\r\n        let unit = 's'\r\n\r\n        if (this.timeMagnification >= 0.5) {\r\n            range = 1\r\n            unitSplit = 1\r\n            unit = 's'\r\n        } else if (this.timeMagnification < 0.5 && this.timeMagnification >= 0.1) {\r\n            range = 5\r\n            unitSplit = 1\r\n            unit = 's'\r\n\r\n        } else if (this.timeMagnification < 0.1 && this.timeMagnification >= 0.01) {\r\n            range = 60\r\n            unitSplit = 60\r\n            unit = 'm'\r\n    \r\n        } else if (this.imeMagnification < 0.01 && this.timeMagnification >= 0.001)  {\r\n            range = 60 * 5\r\n            unitSplit = 60\r\n            unit = 'm'\r\n        } else {\r\n            range = 60 * 60\r\n            unitSplit = 60 * 60\r\n            unit = 'h'\r\n\r\n        }\r\n    \r\n        let startPoint = -document.querySelector(\"element-timeline\").scrollLeft % (180 * this.timeMagnification * range)        //18 * 10 * 3\r\n        let startNumber = Math.floor(document.querySelector(\"element-timeline\").scrollLeft / (180 * this.timeMagnification * range))\r\n\r\n        let term = 18 * this.timeMagnification\r\n        let maxCount = Number(fullWidth / term) + term\r\n\r\n        for (let count = 0; count < maxCount; count++) {\r\n            if (count % range > 0) {\r\n                continue\r\n            }\r\n\r\n            let point = (term * count) + startPoint\r\n\r\n            let startX = point\r\n            let startY = 15\r\n            let endX = point\r\n            let endY = 20\r\n\r\n            ctx.beginPath()\r\n\r\n            if (count % (10 * range) == 0) {\r\n                startY = 10\r\n                ctx.strokeStyle = '#e3e3e3'\r\n                ctx.font = \"12px serif\";\r\n                ctx.strokeText(`${(Number(count/(10)) + (startNumber*range))/unitSplit}${unit}`, startX - (term / 2), 10);\r\n            } else {\r\n                ctx.strokeStyle = '#e3e3e3'\r\n\r\n            }\r\n            ctx.moveTo(startX, startY)\r\n            ctx.lineTo(endX, endY)\r\n            ctx.lineWidth = 1\r\n            ctx.stroke()\r\n        }\r\n\r\n        // ctx.beginPath()\r\n        // ctx.moveTo(0, 20)\r\n        // ctx.lineTo(fullWidth, 20)\r\n        // ctx.strokeStyle = '#e3e3e3'\r\n        // ctx.lineWidth = 1\r\n        // ctx.stroke()\r\n\r\n\r\n    }\r\n\r\n    addTickNumber(licount) {\r\n        // let addedli = '<li></li>'.repeat(licount)\r\n        // this.querySelector(\"ul\").innerHTML = addedli\r\n\r\n    }\r\n\r\n\r\n    updateRulerSpace(timeMagnification) {\r\n        console.log(\"w\", timeMagnification)\r\n        this.timeMagnification = timeMagnification * 1.1111111111\r\n        this.drawRuler()\r\n        // this.style.removeProperty(`--ruler2-space`)\r\n        // this.style.removeProperty(`--ruler1-space`)\r\n        // // this.style.removeProperty(`--ruler2-min-space`)\r\n        // // this.style.removeProperty(`--ruler1-min-space`)\r\n\r\n        // let spaceRuler2 = 50 * timeMagnification\r\n        // let spaceRuler1 = 5 * timeMagnification\r\n        // let spaceIncrese = 1\r\n\r\n        // console.log(timeMagnification, this.rulerType[0])\r\n\r\n        // if (timeMagnification >= 0.5) {\r\n        //     this.render()\r\n        //     this.rulerType = 'sec'\r\n        //     spaceIncrese = 1\r\n        // } else if (timeMagnification < 0.5 && timeMagnification >= 0.1) {\r\n        //     this.render()\r\n        //     this.rulerType = 'sec5'\r\n        //     spaceRuler2 = 250 * timeMagnification\r\n        //     spaceRuler1 = 25 * timeMagnification\r\n        //     spaceIncrese = 5\r\n\r\n        // } else if (timeMagnification < 0.1 && timeMagnification >= 0.01) {\r\n        //     this.render()\r\n        //     this.rulerType = 'min'\r\n        //     spaceRuler2 = 3000 * timeMagnification\r\n        //     spaceRuler1 = 300 * timeMagnification\r\n        //     spaceIncrese = 1\r\n\r\n        // } else if (timeMagnification < 0.01 && timeMagnification >= 0.001)  {\r\n        //     this.render()\r\n        //     this.rulerType = 'min5'\r\n        //     spaceRuler2 = 3000 * 5 * timeMagnification\r\n        //     spaceRuler1 = 300 * 5 * timeMagnification\r\n        //     spaceIncrese = 5\r\n\r\n        // } else  {\r\n        //     this.render()\r\n        //     this.rulerType = 'hour'\r\n        //     spaceRuler2 = 3000 * 60 * timeMagnification\r\n        //     spaceRuler1 = 300 * 60 * timeMagnification\r\n        //     spaceIncrese = 1\r\n\r\n        // }\r\n        \r\n        // this.style.setProperty(`--ruler1-space`, spaceRuler1); // NOTE: 기본값 5\r\n        // this.style.setProperty(`--ruler2-space`, spaceRuler2); // NOTE: 기본값 50\r\n        // this.style.setProperty(`--ruler3-space`, spaceIncrese); // NOTE: 기본값 5\r\n        // this.style.setProperty(`--ruler3-space-minus`, -spaceIncrese); // NOTE: 기본값 5\r\n\r\n       \r\n        \r\n        // this.querySelector(\".ruler-x\").style.setProperty(`--ruler-standard-unit`, `'${this.rulerType[0]}'`); // NOTE: 기본값 5\r\n\r\n        \r\n    }\r\n\r\n\r\n    updateRulerLength(e) {\r\n        console.log(\"s\")\r\n        // let duration = Number(e.value) * 200\r\n        // this.changeWidth(duration)\r\n        // this.addTickNumber(Number(e.value))\r\n        this.updateTimelineEnd()\r\n    }\r\n\r\n    updateTimelineEnd() {\r\n        const elementTimelineEnd = document.querySelector(\"element-timeline-end\")\r\n        const projectDuration = document.querySelector(\"#projectDuration\").value\r\n\r\n        const timelineRange = Number(document.querySelector(\"element-timeline-range\").value)\r\n        const timeMagnification = timelineRange / 4\r\n\r\n        elementTimelineEnd.setEndTimeline({\r\n            px: (projectDuration * 1000) / 5 * timeMagnification\r\n        })\r\n    }\r\n\r\n\r\n    changeWidth(px) {\r\n        this.style.width = `${px}px`\r\n    }\r\n\r\n    setTopPosition(px) {\r\n        //this.style.top = `${px}px`\r\n    }\r\n\r\n    moveTime(e) {\r\n        const elementTimelineBar = document.querySelector(\"element-timeline-cursor\")\r\n        const elementTimeline = document.querySelector(\"element-timeline\")\r\n        const elementControl = document.querySelector(\"element-control\")\r\n        \r\n        \r\n        elementControl.progress = e.pageX + elementTimeline.scrollLeft\r\n        elementControl.progressTime = elementControl.getTimeFromProgress()\r\n\r\n        elementControl.stop()\r\n        elementControl.showTime() \r\n        elementControl.appearAllElementInTime()\r\n\r\n\r\n\r\n        elementTimelineBar.move(e.pageX + elementTimeline.scrollLeft)\r\n    }\r\n\r\n    handleMousemove(e) {\r\n        const elementTimelineBar = document.querySelector(\"element-timeline-cursor\")\r\n        const elementTimeline = document.querySelector(\"element-timeline\")\r\n        const elementControl = document.querySelector(\"element-control\")\r\n\r\n\r\n        elementTimelineBar.move(e.pageX + elementTimeline.scrollLeft)\r\n        elementControl.showTime() \r\n\r\n        clearTimeout(this.mouseTimeout)\r\n\r\n        this.mouseTimeout = setTimeout(() => {\r\n            clearInterval(this.resizeInterval)\r\n            this.moveTime(e)\r\n        }, 100);\r\n       \r\n    }\r\n\r\n\r\n    handleMousedown(e) {\r\n        e.stopPropagation();\r\n        this.moveTime(e)\r\n        this.mousemoveEventHandler = this.handleMousemove.bind(this)\r\n        document.addEventListener('mousemove', this.mousemoveEventHandler);\r\n\r\n    }\r\n\r\n\r\n    handleMouseup(e) {\r\n        document.removeEventListener('mousemove', this.mousemoveEventHandler);\r\n\r\n    }\r\n\r\n\r\n\r\n    connectedCallback() {\r\n        this.render();\r\n        this.addEventListener('mousedown', this.handleMousedown.bind(this));\r\n        document.addEventListener('mouseup', this.handleMouseup.bind(this));\r\n        document.querySelector(\"element-timeline\").addEventListener(\"scroll\", this.drawRuler.bind(this))\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nclass ElementTimelineRange extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n\r\n        this.value = 0.9\r\n\r\n    }\r\n\r\n    render(){\r\n        const template = this.template();\r\n        this.innerHTML = template;\r\n        this.updateValue()\r\n    }\r\n\r\n\r\n    template() {\r\n        return `<input ref=\"range\" type=\"range\" class=\"form-range\" min=\"0\" max=\"6\" step=\"0.02\" id=\"timelineRange\" value=\"6\">`\r\n    }\r\n\r\n\r\n    updateValue() {\r\n        let inputRange = this.querySelector(\"input[ref='range']\")\r\n        let newValue = (inputRange.value * inputRange.value / 10).toFixed(3)\r\n        if (newValue <= 0 ) {\r\n            return 0\r\n        }\r\n        this.value = (inputRange.value * inputRange.value / 10).toFixed(3)\r\n    }\r\n\r\n    updateRange() {\r\n        this.updateValue()\r\n        const elementControlComponent = document.querySelector(\"element-control\")\r\n        elementControlComponent.changeTimelineRange()  \r\n        \r\n        this.updateTimelineScrollToCenter()\r\n\r\n    }\r\n\r\n    updateTimelineScrollToCenter() {\r\n        const elementTimelineComponent =  document.querySelector(\"element-timeline\")\r\n        const elementTimelineCursor = document.querySelector(\"element-timeline-cursor\")\r\n        let cursorLeft = Number(elementTimelineCursor.style.left.split(\"px\")[0])\r\n        let timelineWidth = Number(elementTimelineComponent.clientWidth)\r\n\r\n        elementTimelineComponent.scrollLeft = cursorLeft - timelineWidth / 2\r\n    }\r\n\r\n\r\n    connectedCallback() {\r\n        this.render();\r\n        this.querySelector(\"input[ref='range']\").addEventListener(\"input\", this.updateRange.bind(this))\r\n        this.querySelector(\"input[ref='range']\").addEventListener(\"change\", this.updateRange.bind(this))\r\n\r\n    }\r\n}\r\n\r\n\r\nclass ElementTimelineEnd extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n\r\n\r\n    }\r\n\r\n    render(){\r\n        const template = this.template();\r\n        this.innerHTML = template;\r\n    }\r\n\r\n    /* 재생 초(max time) 설정 */\r\n    setEndTimeline({ px }) {\r\n        console.log(px)\r\n        this.style.left = `${px}px`\r\n    }\r\n\r\n\r\n    template() {\r\n        return ``\r\n    }\r\n\r\n    connectedCallback() {\r\n        this.render();\r\n\r\n    }\r\n}\r\n\r\nclass ElementTimelineScroll extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n\r\n\r\n    }\r\n\r\n    render(){\r\n        const template = this.template();\r\n        this.innerHTML = template;\r\n\r\n        this.classList.add(\"w-100\", \"fixed-bottom\")\r\n    }\r\n\r\n    scrollTimeline({ per }) {\r\n        const elementTimeline = document.querySelector(\"element-timeline\")\r\n        const timelineWidth = elementTimeline.scrollWidth\r\n        const timelineWidthPerStep = timelineWidth / 100\r\n        const nowWidth = per * timelineWidthPerStep\r\n        console.log(nowWidth)\r\n\r\n        elementTimeline.scrollLeft = nowWidth\r\n\r\n    }\r\n\r\n    updateValue() {\r\n        let inputRange = this.querySelector(\"input[ref='range']\")\r\n        console.log(inputRange.value)\r\n        this.scrollTimeline({\r\n            per: inputRange.value\r\n        })\r\n    }\r\n\r\n    updateRange() {\r\n        this.updateValue()\r\n    }\r\n\r\n    setScrollThumbLeft({ px }) {\r\n        const elementTimeline = document.querySelector(\"element-timeline\")\r\n        const timelineWidth = elementTimeline.scrollWidth\r\n        \r\n        let per = px / timelineWidth * 100\r\n        this.querySelector(\"input[ref='range']\").value = per\r\n    }\r\n\r\n\r\n    template() {\r\n        return `<input ref=\"range\" type=\"range\" class=\"form fixed-bottom w-100\" min=\"0\" max=\"100\" step=\"0.01\" value=\"0\">`\r\n    }\r\n\r\n    connectedCallback() {\r\n        this.render();\r\n        this.querySelector(\"input[ref='range']\").addEventListener(\"input\", this.updateRange.bind(this))\r\n        this.querySelector(\"input[ref='range']\").addEventListener(\"change\", this.updateRange.bind(this))\r\n\r\n    }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack://NUGGET/./src/components/element/elementTimeline.js?");

/***/ }),

/***/ "./src/components/font/selectFont.js":
/*!*******************************************!*\
  !*** ./src/components/font/selectFont.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SelectFont\": () => (/* binding */ SelectFont)\n/* harmony export */ });\n\r\nclass SelectFont extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n\r\n\r\n        this.path = ''\r\n        this.type = ''\r\n        this.fontname = ''\r\n        this.onChangeSelect = new Event('onChangeSelect');\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n        let template = this.template()\r\n        this.innerHTML = template\r\n        this.insertFontLists()\r\n\r\n    }\r\n\r\n    template() {\r\n        return `<select ref='lists' class=\"form-select form-control bg-default text-light\" aria-label=\"Default select example\">\r\n        <option selected>Select</option>\r\n\r\n      </select>\r\n      <style ref='fontStyles'>\r\n      </style>\r\n      `;\r\n    }\r\n\r\n    insertFontLists() {\r\n        window.electronAPI.req.font.getLists().then((result) => {\r\n            if (result.status == 0) {\r\n                return 0\r\n            }\r\n\r\n            for (let index = 0; index < result.fonts.length; index++) {\r\n                const font = result.fonts[index];\r\n                this.querySelector(\"select[ref='lists']\").insertAdjacentHTML(\"beforeend\", `<option value-index=\"${index + 1}\" value='${font.path}'>${font.name}</option>`)\r\n\r\n            }\r\n        })\r\n    }\r\n\r\n    handleSelect() {\r\n        this.path = this.querySelector(\"select[ref='lists']\").value\r\n        this.fontname = this.querySelector(\"select[ref='lists']\").value.split('/')[this.querySelector(\"select[ref='lists']\").value.split('/').length - 1].split(\".\")[0]\r\n        this.type = this.querySelector(\"select[ref='lists']\").value.split('/')[this.querySelector(\"select[ref='lists']\").value.split('/').length - 1].split(\".\")[1]\r\n\r\n        this.applyFontStyle({\r\n            fontName: this.fontname,\r\n            fontPath: this.path,\r\n            fontType: this.type \r\n        })\r\n\r\n        this.dispatchEvent(this.onChangeSelect);\r\n\r\n    }\r\n\r\n    applyFontStyle({ fontName, fontPath, fontType }) {\r\n        this.querySelector(\"style[ref='fontStyles']\").insertAdjacentHTML(\"beforeend\", `\r\n        @font-face {\r\n            font-family: \"${fontName}\";\r\n            src: local(\"${fontName}\"),\r\n              url(\"${fontPath}\") format(\"${fontType}\");\r\n        }\r\n        `)\r\n    }\r\n\r\n    connectedCallback() {\r\n        this.render();\r\n        this.querySelector(\"select[ref='lists']\").addEventListener(\"change\", this.handleSelect.bind(this))\r\n    }\r\n}\r\n\r\n  \r\n\r\n\n\n//# sourceURL=webpack://NUGGET/./src/components/font/selectFont.js?");

/***/ }),

/***/ "./src/components/input/inputText.js":
/*!*******************************************!*\
  !*** ./src/components/input/inputText.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InputText\": () => (/* binding */ InputText)\n/* harmony export */ });\n\r\nclass InputText extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n\r\n\r\n        this.value = ''\r\n        this.elementId = this.getAttribute('element-id')\r\n        this.initValue = this.getAttribute('init-value') || ''\r\n        this.initColor = this.getAttribute('init-color') || '#ffffff'\r\n\r\n        this.timeline = document.querySelector(\"element-timeline\").timeline;\r\n        this.parentInputBox = document.querySelector(`element-control-asset[element-id=\"${this.elementId}\"]`)\r\n\r\n    }\r\n\r\n    render() {\r\n        let template = this.template()\r\n        this.innerHTML = template\r\n\r\n        this.style.textAlign = 'center' \r\n        this.style.display = 'flex' \r\n        this.style.justifyContent = 'center'\r\n        this.style.height = '100%'\r\n        this.style.width = '100%'\r\n        this.style.position = 'absolute'\r\n        this.style.letterSpacing = '1px'\r\n        //this.style.top = '0px'\r\n        this.style.color = this.initColor\r\n\r\n        this.querySelector(\"span\").style.height = `100%`\r\n        this.querySelector(\"span\").style.outline = 'none'\r\n        this.querySelector(\"span\").style.lineHeight = 'initial'\r\n\r\n        this.querySelector(\"span\").setAttribute(\"contenteditable\", true)\r\n\r\n        this.setWidthInner()\r\n    }\r\n\r\n    template() {\r\n        return `<span>${this.initValue}</span>`;\r\n    }\r\n\r\n    setWidth() {\r\n        //let target = document.querySelector(`element-control-asset[element-id=\"${this.elementId}\"]`)\r\n        this.parentInputBox.style.width = `${this.offsetWidth}px`\r\n\r\n\r\n    }\r\n\r\n    setWidthInner() {\r\n        let resizedInput = this.parentInputBox.convertRelativeToAbsoluteSize({ w: this.querySelector(\"span\").offsetWidth })\r\n        console.log(resizedInput)\r\n        this.timeline[this.elementId].widthInner = resizedInput.w\r\n    }\r\n\r\n    updateText({ value }) {\r\n        this.value = value\r\n        this.timeline[this.elementId].text = value\r\n        this.updateTextInElementBar()\r\n    }\r\n\r\n    updateTextInElementBar() {\r\n        const targetElementBar = document.querySelector(`element-bar[element-id='${this.elementId}']`)\r\n        targetElementBar.querySelector(\"span[ref='name']\").innerHTML = this.value\r\n    }\r\n\r\n    handleInput(event) {\r\n        let value = event.currentTarget.textContent\r\n\r\n        this.updateText({ value: value })\r\n        this.setWidth()\r\n        this.setWidthInner()\r\n    }\r\n\r\n    connectedCallback() {\r\n        this.render();\r\n        this.querySelector(\"span\").addEventListener(\"input\", this.handleInput.bind(this))\r\n    }\r\n}\r\n\r\n  \r\n\r\n\n\n//# sourceURL=webpack://NUGGET/./src/components/input/inputText.js?");

/***/ }),

/***/ "./src/components/keyframe/keyframeEditor.js":
/*!***************************************************!*\
  !*** ./src/components/keyframe/keyframeEditor.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"KeyframeEditor\": () => (/* binding */ KeyframeEditor)\n/* harmony export */ });\n\r\nclass KeyframeEditor extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n        this.timeline = document.querySelector(\"element-timeline\").timeline\r\n\r\n        this.elementId = this.getAttribute('element-id')\r\n        this.animationType = this.getAttribute('animation-type')\r\n\r\n        this.tension = 1;\r\n        this.divBody = undefined\r\n        this.svgBody = {}\r\n        this.poly = {}\r\n        this.path = {}\r\n        this.hiddenPath = {}\r\n\r\n        this.padding = {\r\n            \"start\": 0,\r\n            \"end\": 0\r\n\r\n        }\r\n        \r\n        this.lineCount = 1\r\n        this.points = [\r\n            [[0,0]], [[0,0]]\r\n        ];\r\n\r\n        this.selectLine = 0\r\n    }\r\n\r\n    render(){\r\n        this.showKeyframeEditorButtonGroup()\r\n\r\n        const template = this.template();\r\n        this.innerHTML = template;\r\n\r\n        this.divBody = this.querySelector(\"div\")\r\n        this.svgBody = this.divBody.querySelector(\"svg\")\r\n        this.keyframePointBody = this.divBody.querySelector(\"keyframe-point\")\r\n\r\n        this.lineCount = this.timeline[this.elementId].animation[this.animationType].points.length\r\n\r\n        if (this.timeline[this.elementId].animation[this.animationType].isActivate == false) {\r\n            //NOTE: 나중에 opacity 추가할때는 따로 수정\r\n            this.points[0][0][1] = this.timeline[this.elementId].location.x\r\n            this.points[1][0][1] = this.timeline[this.elementId].location.y\r\n        } else {\r\n            this.points[0][0][1] = this.timeline[this.elementId].animation[this.animationType].points[0][0][1]\r\n            this.points[1][0][1] = this.timeline[this.elementId].animation[this.animationType].points[1][0][1]\r\n        }\r\n\r\n        this.timeline[this.elementId].animation[this.animationType].isActivate = true\r\n\r\n        this.clearLineEditorGroup()\r\n\r\n        for (let line = 0; line < this.lineCount; line++) {\r\n            this.addLineEditor(line)\r\n            this.drawLine(line, true)\r\n            this.loadPoint(line)\r\n        }\r\n\r\n        const timelineRange = Number(document.querySelector(\"element-timeline-range\").value)\r\n        const timeMagnification = timelineRange / 4\r\n\r\n        this.addPadding({\r\n            px: this.timeline[this.elementId].startTime / 5 * timeMagnification,\r\n            type: \"start\"\r\n        })\r\n\r\n        this.querySelector(\"div\").classList.add(\"position-relative\")\r\n        //this.querySelector(\"div\").style.height = `${this.scrollHeight}px`\r\n\r\n\r\n\r\n        \r\n\r\n        this.classList.add(\"h-100\", \"w-100\", \"position-absolute\", \"overflow-scroll\")\r\n\r\n\r\n        let animationPanel = document.querySelector(`animation-panel[element-id=\"${this.elementId}\"]`)\r\n        animationPanel.updateItem()   \r\n\r\n        this.fillBackground()\r\n\r\n\r\n    }\r\n\r\n\r\n    template() {\r\n        return `\r\n        <div>\r\n        <keyframe-padding class=\"keyframe-padding\" style=\"width: 100px;\"></keyframe-padding>\r\n        <svg class=\"keyframe-svg\" style=\"left: 100px;\">\r\n\r\n        </svg>\r\n        <keyframe-point style=\"left: 100px;\" class=\"position-absolute\"></keyframe-point>\r\n\r\n        </div>`\r\n    }\r\n\r\n    showKeyframeEditorButtonGroup() {\r\n        let targetButton = document.querySelector(\"#keyframeEditorButtonGroup\")\r\n        targetButton.classList.remove(\"d-none\")\r\n    }\r\n\r\n    hideKeyframeEditorButtonGroup() {\r\n        let targetButton = document.querySelector(\"#keyframeEditorButtonGroup\")\r\n        targetButton.classList.add(\"d-none\")\r\n        let keyframeEditor = document.getElementById('option_bottom')\r\n        keyframeEditor.classList.remove(\"show\")\r\n        keyframeEditor.classList.add(\"hide\")\r\n\r\n    }\r\n\r\n    fillBackground() {\r\n        setTimeout(() => {\r\n            this.querySelector(\"div\").style.height = `${this.scrollHeight}px`\r\n            console.log(\"scrollHeight\", this.scrollHeight)\r\n        }, 100);\r\n    }\r\n\r\n    addPadding({ px, type }) {\r\n        let keyframePadding = this.divBody.querySelector(\"keyframe-padding\")\r\n        let keyframePoint = this.keyframePointBody\r\n        let svgBody = this.svgBody\r\n\r\n        const typeFunction = {\r\n            \"start\": () => {\r\n                keyframePadding.style.width = `${px}px`\r\n                keyframePoint.style.left = `${px}px`\r\n                svgBody.style.left = `${px}px`\r\n            }\r\n        }\r\n\r\n        this.padding[\"start\"] = px\r\n        typeFunction[type]()\r\n    }\r\n\r\n    highlightLineEditorButton(line) {\r\n        for (let index = 0; index < this.lineCount; index++) {\r\n            let button = document.querySelector(\"#timelineOptionLineEditor\").querySelector(`button[line='${index}']`)\r\n            button.classList.remove(\"btn-primary\")\r\n            button.classList.add(\"btn-secondary\")\r\n        }\r\n\r\n        let targeButton = document.querySelector(\"#timelineOptionLineEditor\").querySelector(`button[line='${line}']`)\r\n        targeButton.classList.remove(\"btn-secondary\")\r\n        targeButton.classList.add(\"btn-primary\")\r\n\r\n    }\r\n\r\n    changeLineEditor(line) {\r\n        this.selectLine = Number(line)\r\n        this.highlightLineEditorButton(line)\r\n        \r\n    }\r\n\r\n    addLineEditor(line) {\r\n        document.querySelector(\"#timelineOptionLineEditor\").insertAdjacentHTML(\"beforeend\", \r\n        `<button line=\"${line}\" onclick=\"document.querySelector('keyframe-editor').changeLineEditor('${line}')\" type=\"button\" class=\"btn btn-secondary btn-sm\">Line${line}</button>`)\r\n        \r\n    }\r\n\r\n    clearLineEditorGroup() {\r\n        document.querySelector(\"#timelineOptionLineEditor\").innerHTML = ''\r\n    }\r\n\r\n\r\n\r\n    loadPoint(line) {\r\n        if (this.timeline[this.elementId].animation[this.animationType].isActivate == true) {\r\n            let points = this.timeline[this.elementId].animation[this.animationType].points[line]\r\n\r\n            for (let index = 0; index < points.length; index++) {\r\n                const element = points[index];\r\n                if (element[0] == 0) {\r\n                    continue;\r\n                }\r\n                this.addPoint({\r\n                    x: element[0], \r\n                    y: element[1],\r\n                    line: line\r\n                })\r\n            }\r\n\r\n            this.drawLine(line, true)\r\n            this.fillBackground()\r\n\r\n        }\r\n    }\r\n\r\n    addPoint({ x, y, line }) {\r\n\r\n        this.insertPointInMiddle({\r\n            x: Math.round(x), \r\n            y: Math.round(y),\r\n            line: line\r\n        })\r\n\r\n        this.drawPoint({\r\n            x: x, \r\n            y: y,\r\n            line: line\r\n        })\r\n\r\n        let loadPointLength = this.points[line][this.points[line].length-1][0] - 1\r\n        //let allPoints = this.getInterpolatedPoints(loadPointLength, line)\r\n\r\n        this.timeline[this.elementId].animation[this.animationType].isActivate = true\r\n        this.timeline[this.elementId].animation[this.animationType].points[line] = this.points[line]\r\n        //this.timeline[this.elementId].animation[this.animationType].allpoints[line] = allPoints\r\n\r\n    }\r\n\r\n    drawPoint({ x, y, line }) {\r\n        const timelineRange = Number(document.querySelector(\"element-timeline-range\").value)\r\n        const timeMagnification = timelineRange / 4\r\n\r\n        let insertY = (y-4)\r\n        let insertX = (x-4) * timeMagnification\r\n\r\n\r\n        this.keyframePointBody.insertAdjacentHTML(\"beforeend\", `<div class=\"position-absolute keyframe-point\" style=\"top: ${insertY}px; left: ${insertX}px;\"></div>`)\r\n\r\n    }\r\n\r\n    insertPointInMiddle({ x, y, line }) {\r\n\r\n        if (this.points[line].length - 1 == 0) {\r\n            this.points[line].push([x, y])\r\n            return 0\r\n        }\r\n\r\n        for (let index = 0; index < this.points[line].length; index++) {\r\n            if (this.points[line].length - 1 == index) {\r\n                this.points[line].splice(index + 1, 0, [x, y])\r\n                return 0\r\n\r\n            } else if (this.points[line][index][0] < x && this.points[line][index + 1][0] > x) {\r\n                this.points[line].splice(index + 1, 0, [x, y])\r\n                return 0\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    getRemovedDuplicatePoint({x, line}) {\r\n        let tmp = []\r\n        this.points[line].forEach((element) => {\r\n            if (element[0] != x) {\r\n                tmp.push(element)\r\n            }\r\n        })\r\n        return tmp\r\n    }\r\n      \r\n\r\n    drawLine(line, isinit = true) {\r\n\r\n        this.querySelector(\"svg\").insertAdjacentHTML(\"beforeend\", `\r\n        <polyline id=\"keyframePolyline${line}\" />\r\n        <path id=\"keyframePath${line}\" class=\"keyframe-path-${line + 1}\" />\r\n        <path id=\"keyframeHiddenPath${line}\" class=\"d-none\" />`)\r\n\r\n        const timelineRange = Number(document.querySelector(\"element-timeline-range\").value)\r\n        const timeMagnification = timelineRange / 4\r\n\r\n        let points = []\r\n\r\n        for (let index = 0; index < this.points[line].length; index++) {\r\n            points.push([this.points[line][index][0] * timeMagnification, this.points[line][index][1]])\r\n        }\r\n\r\n        this.path[line] = this.svgBody.querySelector(`path[id='keyframePath${line}']`)\r\n        this.path[line].setAttribute(\"d\", this.drawPath(points, this.tension));\r\n\r\n        this.hiddenPath[line] = this.svgBody.querySelector(`path[id='keyframeHiddenPath${line}']`)\r\n        this.hiddenPath[line].setAttribute(\"d\", this.drawPath(this.points[line], this.tension))\r\n\r\n        let loadPointLength = this.points[line][this.points[line].length-1][0] - 1\r\n        let allPoints = this.getInterpolatedPoints(loadPointLength, line, points)\r\n        this.timeline[this.elementId].animation[this.animationType].allpoints[line] = allPoints\r\n\r\n    }\r\n\r\n\r\n    drawPath(points, tension) {\r\n        if (tension == null) tension = 1;\r\n        let size = points.length * 2;\r\n        let last = size - 4;    \r\n        let path = \"M\" + [points[0][0], points[0][1]];\r\n        let now = 0\r\n    \r\n        for (let i = 0; i < size - 2; i +=2) {\r\n            let x0 = now ? points[now-1][0] : points[0][0];\r\n            let y0 = now ? points[now-1][1] : points[0][1];\r\n            let x1 = points[now][0];\r\n            let y1 = points[now][1];\r\n            let x2 = points[now+1][0];\r\n            let y2 = points[now+1][1];\r\n            let x3 = i !== last ? points[now+2][0] : x2;\r\n            let y3 = i !== last ? points[now+2][1] : y2;\r\n            let cp1x = x1 + (x2 - x0) / 6 * tension;\r\n            let cp1y = y1 + (y2 - y0) / 6 * tension;\r\n            let cp2x = x2 - (x3 - x1) / 6 * tension;\r\n            let cp2y = y2 - (y3 - y1) / 6 * tension;\r\n            now += 1\r\n            path += \"C\" + [cp1x, cp1y, cp2x, cp2y, x2, y2];\r\n        } \r\n        return path;\r\n    }\r\n\r\n\r\n    \r\n    getPointAt(x, line) {\r\n        let from = 0;\r\n        let to = this.hiddenPath[line].getTotalLength();\r\n        let current = (from + to) / 2;\r\n        let point = this.hiddenPath[line].getPointAtLength(current);\r\n        \r\n        while (Math.abs(point.x - x) > 0.5) {\r\n            if (point.x < x)\r\n                from = current;\r\n            else\r\n                to = current;\r\n            current = (from + to) / 2;\r\n            point = this.hiddenPath[line].getPointAtLength(current);\r\n        }\r\n    \r\n        return {\r\n            x: point.x,\r\n            y: point.y\r\n        };\r\n    }\r\n    \r\n    getInterpolatedPoints(loadPointLength, line) {\r\n        let points = []\r\n        let indexDivision = 4\r\n        let indexAt = 0\r\n    \r\n        for (let index = 0; index < Math.round(loadPointLength / indexDivision); index++) {\r\n            points.push(this.getPointAt(indexAt, line))\r\n            indexAt += 4\r\n        }\r\n    \r\n        return points\r\n    }\r\n\r\n    handleMousedown(e) {\r\n        const timelineRange = Number(document.querySelector(\"element-timeline-range\").value)\r\n        const timeMagnification = timelineRange / 4\r\n\r\n        let insertX = e.offsetX / timeMagnification\r\n        let insertY = e.offsetY\r\n        this.addPoint({\r\n            x: insertX,\r\n            y: insertY,\r\n            line: this.selectLine\r\n        })\r\n\r\n        this.drawLine(this.selectLine, true)\r\n\r\n        let animationPanel = document.querySelector(`animation-panel[element-id=\"${this.elementId}\"]`)\r\n        animationPanel.updateItem()   \r\n    }\r\n\r\n    handleScroll(e) {\r\n        let optionBottom = document.querySelector(\"#option_bottom\")\r\n        let isShowOptionBottom = optionBottom.classList.contains(\"show\")\r\n        if (isShowOptionBottom == false) {\r\n            return 0\r\n        }\r\n        let elementTimeline = document.querySelector(\"element-timeline\")\r\n        elementTimeline.scrollTo(this.scrollLeft, elementTimeline.scrollTop)\r\n    }\r\n\r\n    connectedCallback() {\r\n        this.render();\r\n\r\n        this.svgBody.addEventListener(\"mousedown\", this.handleMousedown.bind(this))\r\n        this.addEventListener(\"scroll\", this.handleScroll.bind(this))\r\n\r\n    }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack://NUGGET/./src/components/keyframe/keyframeEditor.js?");

/***/ }),

/***/ "./src/components/menu/menuDropdown.js":
/*!*********************************************!*\
  !*** ./src/components/menu/menuDropdown.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MenuDropdownBody\": () => (/* binding */ MenuDropdownBody),\n/* harmony export */   \"MenuDropdownItem\": () => (/* binding */ MenuDropdownItem)\n/* harmony export */ });\n\r\nclass MenuDropdownBody extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n        this.x = this.getAttribute('top')\r\n        this.y = this.getAttribute('left')\r\n\r\n\r\n    }\r\n\r\n    render(){\r\n        const innerElements = this.innerHTML\r\n        const template = this.template();\r\n\r\n        this.innerHTML = template;\r\n        this.style.display = \"inline-block\"\r\n        this.querySelector(\"ul\").innerHTML = innerElements\r\n    }\r\n\r\n\r\n    template() {\r\n        return `\r\n        <ul class=\"dropdown-menu show position-absolute \" style=\"top: ${this.x}px; left: ${this.y}px; z-index: 6000;\">\r\n\r\n        </ul>`\r\n    }\r\n\r\n    mousedown() {\r\n        setTimeout(() => {\r\n            this.remove()\r\n        }, 200);\r\n    }\r\n\r\n\r\n    connectedCallback() {\r\n        this.render();\r\n\r\n        document.addEventListener('click', this.mousedown.bind(this));\r\n\r\n    }\r\n\r\n    disconnectedCallback(){\r\n        document.removeEventListener('click', this.mousedown.bind(this));\r\n\r\n    }\r\n}\r\n\r\n\r\nclass MenuDropdownItem extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n\r\n        this.name = this.getAttribute('item-name') || \"untitle\"\r\n\r\n    }\r\n\r\n    render(){\r\n        const template = this.template();\r\n        this.innerHTML = template;\r\n\r\n    }\r\n\r\n\r\n    template() {\r\n        return `<li><a class=\"dropdown-item\">${this.name}</a></li>`\r\n    }\r\n\r\n\r\n\r\n    connectedCallback() {\r\n        this.render();\r\n\r\n    }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack://NUGGET/./src/components/menu/menuDropdown.js?");

/***/ }),

/***/ "./src/components/option/optionAudio.js":
/*!**********************************************!*\
  !*** ./src/components/option/optionAudio.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"OptionAudio\": () => (/* binding */ OptionAudio)\n/* harmony export */ });\n\r\nclass OptionAudio extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n\r\n        this.elementId = ''\r\n\r\n    }\r\n\r\n    render() {\r\n        let template = this.template()\r\n        this.innerHTML = template\r\n        this.hide()\r\n\r\n    }\r\n\r\n    template() {\r\n        return `\r\n        <label class=\"form-label text-light\">오디오</label>\r\n        <div class=\"d-flex flex-row bd-highlight mb-2\">\r\n\r\n\r\n        </div>`;\r\n    }\r\n\r\n    hide() {\r\n        this.classList.add(\"d-none\")\r\n\r\n    }\r\n\r\n\r\n    show() {\r\n        this.classList.remove(\"d-none\")\r\n\r\n    }\r\n\r\n    setElementId({ elementId }) {\r\n        this.elementId = elementId\r\n        this.updateValue()\r\n    }\r\n\r\n    updateValue() {\r\n        const timeline = document.querySelector(\"element-timeline\").timeline\r\n\r\n    }\r\n\r\n\r\n    connectedCallback() {\r\n        this.render();\r\n\r\n    }\r\n}\r\n\r\n  \r\n\r\n\n\n//# sourceURL=webpack://NUGGET/./src/components/option/optionAudio.js?");

/***/ }),

/***/ "./src/components/option/optionGroup.js":
/*!**********************************************!*\
  !*** ./src/components/option/optionGroup.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"OptionGroup\": () => (/* binding */ OptionGroup)\n/* harmony export */ });\n\r\nclass OptionGroup extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n\r\n    }\r\n\r\n    render() {\r\n        //this.hideAllOptions()\r\n\r\n    }\r\n\r\n\r\n    showOption({ filetype, elementId }) {\r\n        this.hideAllOptions()\r\n        this.querySelector(`option-${filetype}`).show()\r\n        this.querySelector(`option-${filetype}`).setElementId({ elementId: elementId })\r\n    }\r\n\r\n\r\n\r\n    hideAllOptions() {\r\n        for (const key in this.children) {\r\n            if (Object.hasOwnProperty.call(this.children, key)) {\r\n                const element = this.children[key];\r\n                console.log(element, this.children)\r\n                element.hide()\r\n\r\n                \r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    connectedCallback() {\r\n        this.render();\r\n\r\n    }\r\n}\r\n\r\n  \r\n\r\n\n\n//# sourceURL=webpack://NUGGET/./src/components/option/optionGroup.js?");

/***/ }),

/***/ "./src/components/option/optionImage.js":
/*!**********************************************!*\
  !*** ./src/components/option/optionImage.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"OptionImage\": () => (/* binding */ OptionImage)\n/* harmony export */ });\n\r\nclass OptionImage extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n\r\n        this.elementId = ''\r\n\r\n    }\r\n\r\n    render() {\r\n        let template = this.template()\r\n        this.innerHTML = template\r\n        this.hide()\r\n\r\n    }\r\n\r\n    template() {\r\n        return `\r\n        <label class=\"form-label text-light\">위치</label>\r\n        <div class=\"d-flex flex-row bd-highlight mb-2\">\r\n        <input aria-event=\"location-x\" type=\"number\" class=\"form-control bg-default text-light me-1\" value=\"0\" >\r\n        <input aria-event=\"location-y\" type=\"number\" class=\"form-control bg-default text-light\" value=\"0\" >\r\n\r\n        </div>`;\r\n    }\r\n\r\n    hide() {\r\n        this.classList.add(\"d-none\")\r\n\r\n    }\r\n\r\n\r\n    show() {\r\n        this.classList.remove(\"d-none\")\r\n\r\n    }\r\n\r\n    setElementId({ elementId }) {\r\n        this.elementId = elementId\r\n        this.updateValue()\r\n    }\r\n\r\n    updateValue() {\r\n        const timeline = document.querySelector(\"element-timeline\").timeline\r\n        this.querySelector(\"input[aria-event='location-x'\").value = timeline[this.elementId].location.x\r\n        this.querySelector(\"input[aria-event='location-y'\").value = timeline[this.elementId].location.y\r\n\r\n    }\r\n\r\n    handleLocation() {\r\n        const elementControl = document.querySelector(\"element-control\")\r\n        const targetElement = document.querySelector(`element-control-asset[element-id='${this.elementId}']`)\r\n\r\n        let x =  this.querySelector(\"input[aria-event='location-x'\").value\r\n        let y =  this.querySelector(\"input[aria-event='location-y'\").value\r\n\r\n        let convertLocation = targetElement.convertAbsoluteToRelativeSize({ x: x, y: y })\r\n\r\n        targetElement.changeLocation({ x: convertLocation.x, y: convertLocation.y })\r\n    }\r\n\r\n\r\n    connectedCallback() {\r\n        this.render();\r\n        this.querySelector(\"input[aria-event='location-x'\").addEventListener(\"change\", this.handleLocation.bind(this))\r\n        this.querySelector(\"input[aria-event='location-y'\").addEventListener(\"change\", this.handleLocation.bind(this))\r\n\r\n    }\r\n}\r\n\r\n  \r\n\r\n\n\n//# sourceURL=webpack://NUGGET/./src/components/option/optionImage.js?");

/***/ }),

/***/ "./src/components/option/optionText.js":
/*!*********************************************!*\
  !*** ./src/components/option/optionText.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"OptionText\": () => (/* binding */ OptionText)\n/* harmony export */ });\n\r\nclass OptionText extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n\r\n        this.elementId = ''\r\n\r\n    }\r\n\r\n    render() {\r\n        let template = this.template()\r\n        this.innerHTML = template\r\n        this.hide()\r\n\r\n    }\r\n\r\n    template() {\r\n        return `<div class=\"mb-2\">\r\n        <label class=\"form-label text-light\">텍스트 색상 선택</label>\r\n        <input aria-event=\"font-color\" type=\"color\" class=\"form-control bg-default form-control-color\" value=\"#ffffff\" title=\"Choose your color\">\r\n    </div>\r\n\r\n    <div class=\"mb-2\">\r\n        <label class=\"form-label text-light\">폰트 크기</label>\r\n        <input aria-event=\"font-size\" type=\"number\" class=\"form-control bg-default text-light\" value=\"52\" >\r\n    </div>\r\n\r\n    <div class=\"mb-2\">\r\n        <label class=\"form-label text-light\">폰트</label>\r\n        <select-font></select-font>\r\n    </div>\r\n\r\n    \r\n    \r\n    `;\r\n    }\r\n\r\n    hide() {\r\n        this.classList.add(\"d-none\")\r\n\r\n    }\r\n\r\n\r\n    show() {\r\n        this.classList.remove(\"d-none\")\r\n\r\n    }\r\n\r\n    setElementId({ elementId }) {\r\n        this.elementId = elementId\r\n        this.resetValue()\r\n    }\r\n\r\n    resetValue() {\r\n        const timeline = document.querySelector(\"element-timeline\").timeline\r\n        this.querySelector(\"input[aria-event='font-color'\").value = timeline[this.elementId].textcolor\r\n        this.querySelector(\"input[aria-event='font-size'\").value = timeline[this.elementId].fontsize\r\n\r\n\r\n    }\r\n\r\n    handleChangeTextColor() {\r\n        const elementControl = document.querySelector(\"element-control\")\r\n        const color = this.querySelector(\"input[aria-event='font-color'\").value\r\n        elementControl.changeTextColor({ elementId: this.elementId ,color: color })\r\n    }\r\n\r\n    handleChangeTextSize() {\r\n        const elementControl = document.querySelector(\"element-control\")\r\n        const size = this.querySelector(\"input[aria-event='font-size'\").value\r\n        elementControl.changeTextSize({ elementId: this.elementId, size: size })\r\n    }\r\n\r\n    handleChangeTextFont() {\r\n        const selectFont = this.querySelector(\"select-font\")\r\n        const elementControl = document.querySelector(\"element-control\")\r\n\r\n        elementControl.changeTextFont({\r\n            elementId: this.elementId,\r\n            fontPath: selectFont.path,\r\n            fontType: selectFont.type,\r\n            fontName: selectFont.fontname,\r\n\r\n        })\r\n\r\n\r\n    }\r\n\r\n    connectedCallback() {\r\n        this.render();\r\n        this.querySelector(\"input[aria-event='font-color'\").addEventListener(\"input\", this.handleChangeTextColor.bind(this))\r\n        this.querySelector(\"input[aria-event='font-size'\").addEventListener(\"change\", this.handleChangeTextSize.bind(this))\r\n        this.querySelector(\"select-font\").addEventListener(\"onChangeSelect\", this.handleChangeTextFont.bind(this))\r\n\r\n    }\r\n}\r\n\r\n  \r\n\r\n\n\n//# sourceURL=webpack://NUGGET/./src/components/option/optionText.js?");

/***/ }),

/***/ "./src/components/option/optionVideo.js":
/*!**********************************************!*\
  !*** ./src/components/option/optionVideo.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"OptionVideo\": () => (/* binding */ OptionVideo)\n/* harmony export */ });\n\r\nclass OptionVideo extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n\r\n        this.elementId = ''\r\n\r\n    }\r\n\r\n    render() {\r\n        let template = this.template()\r\n        this.innerHTML = template\r\n        this.hide()\r\n\r\n    }\r\n\r\n    template() {\r\n        return `\r\n        <label class=\"form-label text-light\">위치</label>\r\n        <div class=\"d-flex flex-row bd-highlight mb-2\">\r\n        <input aria-event=\"location-x\" type=\"number\" class=\"form-control bg-default text-light me-1\" value=\"0\" >\r\n        <input aria-event=\"location-y\" type=\"number\" class=\"form-control bg-default text-light\" value=\"0\" >\r\n\r\n        </div>`;\r\n    }\r\n\r\n    hide() {\r\n        this.classList.add(\"d-none\")\r\n\r\n    }\r\n\r\n\r\n    show() {\r\n        this.classList.remove(\"d-none\")\r\n\r\n    }\r\n\r\n    setElementId({ elementId }) {\r\n        this.elementId = elementId\r\n        this.updateValue()\r\n    }\r\n\r\n    updateValue() {\r\n        const timeline = document.querySelector(\"element-timeline\").timeline\r\n        this.querySelector(\"input[aria-event='location-x'\").value = timeline[this.elementId].location.x\r\n        this.querySelector(\"input[aria-event='location-y'\").value = timeline[this.elementId].location.y\r\n\r\n    }\r\n\r\n    handleLocation() {\r\n        const targetElement = document.querySelector(`element-control-asset[element-id='${this.elementId}']`)\r\n\r\n        let x =  this.querySelector(\"input[aria-event='location-x'\").value\r\n        let y =  this.querySelector(\"input[aria-event='location-y'\").value\r\n\r\n        let convertLocation = targetElement.convertAbsoluteToRelativeSize({ x: x, y: y })\r\n\r\n        targetElement.changeLocation({ x: convertLocation.x, y: convertLocation.y })\r\n    }\r\n\r\n\r\n    connectedCallback() {\r\n        this.render();\r\n        this.querySelector(\"input[aria-event='location-x'\").addEventListener(\"change\", this.handleLocation.bind(this))\r\n        this.querySelector(\"input[aria-event='location-y'\").addEventListener(\"change\", this.handleLocation.bind(this))\r\n\r\n    }\r\n}\r\n\r\n  \r\n\r\n\n\n//# sourceURL=webpack://NUGGET/./src/components/option/optionVideo.js?");

/***/ }),

/***/ "./src/components/toast/toast.js":
/*!***************************************!*\
  !*** ./src/components/toast/toast.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Toast\": () => (/* binding */ Toast)\n/* harmony export */ });\nclass Toast extends HTMLElement {\r\n    connectedCallback() {\r\n        this.message = this.getAttribute('toast-message') || ''\r\n        this.delay = this.getAttribute('toast-delay') || 1000\r\n\r\n        this.innerHTML = this.template()\r\n\r\n        const toastElement = this.querySelector(\"div[ref='toast']\")\r\n        const toast = bootstrap.Toast.getOrCreateInstance(toastElement)\r\n        toast.show()\r\n    }\r\n\r\n    template() {\r\n        return `<div ref=\"toast\" class=\"toast fade\" id=\"saveProject\" role=\"alert\" data-bs-animation=\"true\" data-bs-autohide=\"true\" data-bs-delay=\"${this.delay}\" aria-live=\"assertive\" aria-atomic=\"true\" style=\"background-color: rgba(37, 38, 43, 0.73);\">\r\n        <div class=\"toast-body\"> \r\n            <div class=\"text-center text-light\">${this.message}</div> \r\n        </div>\r\n    </div>`\r\n    }\r\n}\r\n\r\n\n\n//# sourceURL=webpack://NUGGET/./src/components/toast/toast.js?");

/***/ }),

/***/ "./src/components/toast/toastBox.js":
/*!******************************************!*\
  !*** ./src/components/toast/toastBox.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ToastBox\": () => (/* binding */ ToastBox)\n/* harmony export */ });\nclass ToastBox extends HTMLElement {\r\n    connectedCallback() {\r\n        this.body = document.querySelector(\"#toast\")\r\n        if (this.body == null) {\r\n            let createElement = document.createElement(\"div\");\r\n            createElement.setAttribute('id', 'toast');\r\n            createElement.classList.add('toast-container', 'position-fixed', 'bottom-0', 'start-50', 'translate-middle-x')\r\n\r\n            document.querySelector('body').insertAdjacentElement('beforeend', createElement)\r\n            this.body = document.querySelector(\"#toast\")\r\n        }\r\n\r\n    }\r\n\r\n    showToast({ message, delay }) {\r\n        const element = document.createElement(\"toast-item\");\r\n        element.setAttribute('toast-message', message);\r\n        element.setAttribute('toast-delay', delay);\r\n\r\n        this.body.insertAdjacentElement(\"beforeend\", element)\r\n    }\r\n\r\n\r\n}\r\n\r\n\n\n//# sourceURL=webpack://NUGGET/./src/components/toast/toastBox.js?");

/***/ }),

/***/ "./src/components/tutorial/tutorial.js":
/*!*********************************************!*\
  !*** ./src/components/tutorial/tutorial.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Tutorial\": () => (/* binding */ Tutorial)\n/* harmony export */ });\n\r\nclass Tutorial extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n\r\n    }\r\n\r\n    render() {\r\n        //this.hideAllOptions()\r\n\r\n        this.innerHTML = this.template()\r\n\r\n        this.tutorialModal = new bootstrap.Modal(document.querySelector(\"div[ref='tutorial']\"), {\r\n            keyboard: false\r\n        })\r\n\r\n        //this.tutorialModal.show()\r\n\r\n    }\r\n\r\n\r\n    template() {\r\n        return `<div class=\"modal fade show\" ref=\"tutorial\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n        <div class=\"modal-dialog modal-dialog-centered\">\r\n            <div class=\"modal-content bg-default\">\r\n                <div class=\"modal-body text-center text-light bg-default\">\r\n                    <h5 class=\"modal-title font-weight-lg\">너겟 튜토리얼</h5>\r\n                    <p class=\"font-weight-md\"></p>\r\n                    <div class=\"d-flex bd-highlight\">\r\n                    <div class=\"me-auto p-2 bd-highlight\"><button type=\"button\" class=\"d-flex align-items-center btn btn-sm btn-secondary\"><span class=\"material-symbols-outlined\">\r\n                    arrow_back\r\n                    </span></button></div>\r\n\r\n                    <div class=\"p-2 bd-highlight\"><button type=\"button\" class=\"d-flex align-items-center btn btn-sm btn-primary\"><span class=\"material-symbols-outlined\">\r\n                    navigate_next\r\n                    </span></button></div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>`\r\n    }\r\n\r\n    connectedCallback() {\r\n        this.render();\r\n\r\n    }\r\n}\r\n\r\n  \r\n\r\n\n\n//# sourceURL=webpack://NUGGET/./src/components/tutorial/tutorial.js?");

/***/ }),

/***/ "./src/components/tutorial/tutorialPopover.js":
/*!****************************************************!*\
  !*** ./src/components/tutorial/tutorialPopover.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TutorialPopover\": () => (/* binding */ TutorialPopover)\n/* harmony export */ });\n\r\nclass TutorialPopover extends HTMLElement { \r\n    constructor() {\r\n        super();\r\n\r\n        this.tutorialIdx = this.getAttribute(\"tutorial-idx\")\r\n        this.tutorialTitle = this.getAttribute(\"tutorial-title\")\r\n        this.tutorialMessage = this.getAttribute(\"tutorial-message\")\r\n        this.tutorialElementId = this.getAttribute(\"target-element-id\")\r\n\r\n    }\r\n\r\n    // tutorial-idx=\"1\" tutorial-title=\"test\" tutorial-message=\"fsdf\" target-element-id=\"\r\n\r\n    render() {\r\n        //this.hideAllOptions()\r\n        const targetElement = document.querySelector(`#${this.tutorialElementId}`)\r\n        \r\n        console.log(this.tutorialElementId, targetElement)\r\n\r\n        this.classList.add(\"tutorial-popover\", \"d-none\")\r\n\r\n        this.style.position = 'absolute'\r\n        this.style.top = `${targetElement.clientHeight / 2}px` \r\n        this.style.left = `${targetElement.clientWidth}px` \r\n        this.style.zIndex = 7000\r\n\r\n\r\n        this.innerHTML = this.template()\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    template() {\r\n        return `\r\n        <div class=\"\">\r\n        ${this.tutorialTitle}: ${this.tutorialMessage}\r\n\r\n        </div>`;\r\n    }\r\n\r\n    connectedCallback() {\r\n        this.render();\r\n\r\n    }\r\n}\r\n\r\n  \r\n\r\n\n\n//# sourceURL=webpack://NUGGET/./src/components/tutorial/tutorialPopover.js?");

/***/ }),

/***/ "./src/functions/asset.js":
/*!********************************!*\
  !*** ./src/functions/asset.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst asset = {\r\n    nowDirectory: '',\r\n    // loadFile: function (filename, dir) {\r\n    //     let splitedFilename = filename.split('.')\r\n    //     let splitedFilenameLength = splitedFilename.length\r\n    //     let fileType = splitedFilenameLength <= 2 ? '' : splitedFilename[splitedFilenameLength-1]\r\n\r\n    //     document.querySelector(\"#assetBrowser\").\r\n    //         insertAdjacentHTML(\"beforeend\", `\r\n    //         <div class=\"col-4 d-flex flex-column bd-highlight overflow-hidden asset mt-1\" onclick=\"nugget.asset.add('${dir}/${filename}', '${dir}')\">\r\n    //             <span class=\"material-symbols-outlined icon-lg align-self-center\"> draft </span>\r\n    //             <b class=\"align-self-center text-ellipsis-scroll text-light text-center\">${filename}</b> \r\n    //         </div>`)\r\n    // },\r\n    // loadFolder: function (filename, dir) {\r\n        \r\n    //     document.querySelector(\"#assetBrowser\").\r\n    //         insertAdjacentHTML(\"beforeend\", `\r\n    //         <div class=\"col-4 d-flex flex-column bd-highlight overflow-hidden asset mt-1\" onclick=\"ipc.requestAllDir('${dir}/${filename}')\">\r\n    //         <span class=\"material-symbols-outlined icon-lg align-self-center\"> folder </span>\r\n    //             <b class=\"align-self-center text-ellipsis text-light text-center\">${filename}</b>\r\n    //         </div>`)\r\n    // },\r\n\r\n    loadPrevDirectory: function () {\r\n        let splitNowDirectory = asset.nowDirectory.split('/')\r\n        let splitPrevDirectory = splitNowDirectory.slice(-splitNowDirectory.length, -1)\r\n\r\n        ipc.requestAllDir(splitPrevDirectory.join('/'))\r\n\r\n    },\r\n    add: function (path) {\r\n        fetch(`file://${path}`)\r\n        .then(res => {\r\n            return res.blob()\r\n        })\r\n        .then(blob => {\r\n            let blobUrl = URL.createObjectURL(blob);\r\n            let blobType = blob.type.split('/')[0] // image, video, audio ...\r\n            let control = document.querySelector(\"element-control\")\r\n\r\n            if (blobType == 'image') {\r\n                control.addImage(blobUrl, path)\r\n            } else if (blobType == 'video') {\r\n                control.addVideo(blobUrl, path)\r\n            } else if (blobType == 'audio') {\r\n                control.addAudio(blobUrl, path)\r\n            }\r\n        })\r\n\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (asset);\n\n//# sourceURL=webpack://NUGGET/./src/functions/asset.js?");

/***/ }),

/***/ "./src/functions/directory.js":
/*!************************************!*\
  !*** ./src/functions/directory.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n\r\n\r\n\r\nconst directory = {\r\n    select: function() {\r\n        const projectFolder = document.querySelector(\"#projectFolder\")\r\n        window.electronAPI.req.dialog.openDirectory().then((result) => {\r\n            projectFolder.value = result || '/'\r\n            const dir = String(projectFolder.value)\r\n\r\n            window.electronAPI.req.filesystem.getDirectory(dir).then((result) => {\r\n                let fileLists = {}\r\n                const assetList = document.querySelector(\"asset-list\")\r\n                const assetBrowser = document.querySelector(\"asset-browser\")\r\n            \r\n                assetList.nowDirectory = dir\r\n                assetList.clearList()\r\n                assetBrowser.updateDirectoryInput(dir)\r\n                    \r\n                for (const key in result) {\r\n                    if (Object.hasOwnProperty.call(result, key)) {\r\n                        const element = result[key];\r\n                        if (!element.isDirectory) { \r\n                            fileLists[key] = element\r\n                        } else {\r\n                            assetList.getFolder(element.title)\r\n                        }\r\n                    }\r\n                }\r\n            \r\n                for (const file in fileLists) {\r\n                    if (Object.hasOwnProperty.call(fileLists, file)) {\r\n                        const element = fileLists[file];\r\n                        assetList.getFile(element.title)\r\n                    }\r\n                }\r\n            })\r\n\r\n            //window.electronAPI.req.filesystem.getAllDirectory(String(projectFolder.value))\r\n            //ipc.requestAllDir(result || '/')\r\n        })\r\n\r\n        \r\n\r\n        // const upload = document.createElement(\"input\")\r\n        // const projectFolder = document.querySelector(\"#projectFolder\")\r\n        // upload.setAttribute(\"type\", 'file')\r\n        // upload.setAttribute(\"webkitdirectory\", '')\r\n        // upload.click()\r\n\r\n        // upload.addEventListener(\"change\", handleFiles, false);\r\n\r\n        // function handleFiles() {\r\n        //     const dirWithFilename = this.files[0].path.split(\"/\");\r\n        //     dirWithFilename.pop()\r\n        //     const originDir = dirWithFilename.join(\"/\")\r\n        //     projectFolder.value = originDir\r\n        // }\r\n\r\n\r\n    }\r\n\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (directory);\n\n//# sourceURL=webpack://NUGGET/./src/functions/directory.js?");

/***/ }),

/***/ "./src/functions/fonts.js":
/*!********************************!*\
  !*** ./src/functions/fonts.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n\r\n\r\n\r\nconst fonts = {\r\n    get: async function() {\r\n        window.electronAPI.req.font.getLists().then((result) => {\r\n            if (result.status == 0) {\r\n                return 0\r\n            }\r\n\r\n            console.log(result)\r\n\r\n        })\r\n    }\r\n\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (fonts);\n\n//# sourceURL=webpack://NUGGET/./src/functions/fonts.js?");

/***/ }),

/***/ "./src/functions/mime.js":
/*!*******************************!*\
  !*** ./src/functions/mime.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst mime = {\r\n    mimeArray: {\r\n        \"png\": {\r\n            type: \"image\"\r\n        },\r\n        \"jpg\": {\r\n            type: \"image\"\r\n        },\r\n        \"jpeg\": {\r\n            type: \"image\"\r\n        },\r\n        \"gif\": {\r\n            type: \"image\"\r\n        },\r\n        \"mp4\": {\r\n            type: \"video\"\r\n        },\r\n        \"mov\": {\r\n            type: \"video\"\r\n        },\r\n        \"avi\": {\r\n            type: \"video\"\r\n        },\r\n        \"wmv\": {\r\n            type: \"video\"\r\n        },\r\n        \"mpg\": {\r\n            type: \"video\"\r\n        },\r\n        \"mkv\": {\r\n            type: \"video\"\r\n        },\r\n        \"webm\": {\r\n            type: \"video\"\r\n        },\r\n        \"mp3\": {\r\n            type: \"audio\"\r\n        },\r\n        \"wav\": {\r\n            type: \"audio\"\r\n        },\r\n    },\r\n    lookup: function(filename) {\r\n        const splitFilename = filename.split('.')\r\n        if (splitFilename.length <= 1) {\r\n            return { type: \"unknown\" }\r\n        } else {\r\n            if (!this.mimeArray[splitFilename[splitFilename.length-1]]) {\r\n                return { type: \"unknown\" }\r\n            } else {\r\n                return { type: this.mimeArray[splitFilename[splitFilename.length-1]].type }\r\n            }\r\n            \r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mime);\n\n//# sourceURL=webpack://NUGGET/./src/functions/mime.js?");

/***/ }),

/***/ "./src/functions/project.js":
/*!**********************************!*\
  !*** ./src/functions/project.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n\r\nconst arrayBufferToBase64 = ( buffer ) => {\r\n    var binary = '';\r\n    var bytes = new Uint8Array( buffer );\r\n    var len = bytes.byteLength;\r\n    for (var i = 0; i < len; i++) {\r\n        binary += String.fromCharCode( bytes[ i ] );\r\n    }\r\n    return window.btoa( binary );\r\n}\r\n\r\nconst project = {\r\n    save: function() {\r\n        const projectFile = document.querySelector(\"#projectFile\").value\r\n\r\n\r\n\r\n        console.log(projectFile)\r\n\r\n        if (projectFile != '') {\r\n            project.saveProjectFile({ projectDestination: projectFile })\r\n            return 0\r\n        } else {\r\n            window.electronAPI.req.project.save().then((result) => {\r\n                let projectDestination = result || `nonefile`\r\n                if (projectDestination == `nonefile`) {\r\n                    return 0\r\n                }\r\n    \r\n                project.saveProjectFile({ projectDestination: projectDestination })\r\n    \r\n    \r\n            })\r\n        }\r\n\r\n\r\n\r\n        // if (fs.existsSync(`${projectFolder}/project.ngt`)) {\r\n        //     fs.unlinkSync(`${projectFolder}/project.ngt`)\r\n        // }\r\n\r\n\r\n    },\r\n\r\n    load: function() {\r\n        const zip = new JSZip();\r\n        const elementTimeline = document.querySelector('element-timeline')\r\n        const isTimelineChange = elementTimeline.isTimelineChange() \r\n        if (isTimelineChange == true) {\r\n            rendererModal.whenTimelineChanged.show()\r\n            document.querySelector(\"#whenTimelineChangedMsg\").innerHTML = `새 프로젝트 파일을 볼러오려면 에디터를 닫고 재실행해 주세요.`\r\n            return 0\r\n        }\r\n\r\n\r\n        const upload = document.createElement(\"input\")\r\n        upload.setAttribute(\"type\", 'file')\r\n        upload.setAttribute(\"accept\", '.ngt')\r\n\r\n        upload.click()\r\n\r\n        upload.addEventListener(\"change\", handleFiles, false);\r\n\r\n        function handleFiles() {\r\n            elementTimeline.resetTimelineData()\r\n\r\n            let filepath = this.files[0].path\r\n            \r\n\r\n            //fs.readFile(filepath, function(err, data) {\r\n            window.electronAPI.req.filesystem.readFile(filepath).then((data) => {\r\n\r\n                JSZip.loadAsync(data).then(function (zip) {\r\n                    let aa = zip.file(\"timeline.json\").async(\"string\").then(async (result) => {\r\n                        let timeline = JSON.parse(result)\r\n                        await elementTimeline.patchTimeline(timeline)\r\n                        project.changeProjectFileValue({ projectDestination: filepath })\r\n\r\n                    })\r\n                });\r\n            });\r\n\r\n        }\r\n    },\r\n\r\n    saveProjectFile: function ({ projectDestination }) {\r\n        const elementTimeline = document.querySelector('element-timeline')\r\n        const timeline = document.querySelector('element-timeline').timeline\r\n        const projectDuration = Number(document.querySelector(\"#projectDuration\").value)\r\n        const projectRatio = document.querySelector('element-control').previewRatio\r\n\r\n        const zip = new JSZip();\r\n\r\n        const options = {\r\n            videoDuration: projectDuration,\r\n            previewRatio: projectRatio,\r\n            videoDestination: projectDestination\r\n        }\r\n\r\n        zip.file(\"timeline.json\", JSON.stringify(timeline));\r\n        zip.file(\"renderOptions.json\", JSON.stringify(options));\r\n\r\n        zip.generateAsync({type:\"blob\"}).then(async function(content) {\r\n            const buffer = arrayBufferToBase64(await content.arrayBuffer())\r\n\r\n            window.electronAPI.req.filesystem.writeFile(projectDestination, buffer, 'base64').then((isCompleted) => {\r\n\r\n                console.log('saved!')\r\n                document.querySelector(\"toast-box\").showToast({message:\"프로젝트 저장 완료\", delay:\"2000\"})\r\n\r\n\r\n                elementTimeline.appendCheckpointInHashTable()\r\n                project.changeProjectFileValue({ projectDestination: projectDestination })\r\n            //fs.writeFile( projectDestination , buffer, () => {\r\n\r\n            });\r\n            //saveAs(content, `${projectFolder}/aaa.zip`);\r\n        });\r\n    },\r\n\r\n    changeProjectFileValue: function ({ projectDestination }) {\r\n        document.querySelector(\"#projectFile\").value = projectDestination\r\n        document.querySelector(\"title\").innerHTML = `Nugget - ${projectDestination}`\r\n\r\n    }\r\n\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (project);\n\n//# sourceURL=webpack://NUGGET/./src/functions/project.js?");

/***/ }),

/***/ "./src/functions/renderAnimation.js":
/*!******************************************!*\
  !*** ./src/functions/renderAnimation.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n\r\n//NOTE: 성능 최적화 개판입니다.\r\n\r\nconst renderProgress = {\r\n    show: function (prog) {\r\n        rendererUtil.showProgressModal()\r\n        document.querySelector(\"#progress\").style.width = `${prog}%`\r\n        document.querySelector(\"#progress\").innerHTML = `${Math.round(prog)}%`\r\n    }\r\n}\r\n\r\nconst renderAnimation = {\r\n    state: {\r\n        animateElements: {},\r\n        elements: undefined,\r\n        options: undefined,\r\n        numberOfRenderingRequired: 0,\r\n        renderingCount: 0,\r\n        renderingProgress: 0\r\n\r\n    },\r\n\r\n    initAnimateElementState: function (elementId) {\r\n        let canvas = document.createElement(\"canvas\")\r\n        canvas.classList.add(\"d-none\")\r\n        canvas.setAttribute('width', \"1920\")\r\n        canvas.setAttribute('height', \"1080\")\r\n\r\n        let context = canvas.getContext(\"2d\");\r\n\r\n        renderAnimation.state.animateElements[elementId] = {\r\n            renderFrameLength: 0,\r\n            savedFrameCount: 0,\r\n            isCombineFrames: false,\r\n            canvas: canvas,\r\n            context: context\r\n        }\r\n    },\r\n\r\n    render: function (elements, options) {\r\n        console.log(elements)\r\n        renderAnimation.state.elements = elements\r\n        renderAnimation.state.options = options\r\n        renderAnimation.state.numberOfRenderingRequired = 0\r\n\r\n        let path = `${options.videoDestinationFolder}/renderAnimation`\r\n\r\n        // let canvas = document.createElement(\"canvas\")\r\n        // canvas.classList.add(\"d-none\")\r\n        // canvas.setAttribute('width', \"1920\")\r\n        // canvas.setAttribute('height', \"1080\")\r\n\r\n        // let context = canvas.getContext(\"2d\");\r\n\r\n\r\n        window.electronAPI.req.filesystem.mkdir(path, { recursive: true }).then((isCompleted) => {\r\n            renderProgress.show(0)\r\n\r\n\r\n            window.electronAPI.req.filesystem.emptyDirSync(path)\r\n\r\n\r\n            for (const elementId in elements) {\r\n                if (Object.hasOwnProperty.call(elements, elementId)) {\r\n                    const element = elements[elementId];  \r\n                    \r\n                    if (element.hasOwnProperty(\"animation\") == false) {\r\n                        continue;\r\n                    }\r\n\r\n                    if (element.filetype !== 'image') {\r\n                        continue;\r\n                    }\r\n    \r\n                    if (element.animation[\"position\"].isActivate == true) {\r\n                        renderAnimation.initAnimateElementState(elementId)\r\n                        renderAnimation.state.numberOfRenderingRequired += 1\r\n\r\n                        let frames = renderAnimation.renderFrame({\r\n                            elementId: elementId,\r\n                            elements: element\r\n                        })\r\n    \r\n                        for (let index = 0; index < frames.length; index++) {\r\n    \r\n                            renderAnimation.saveFrame({\r\n                                elementId: elementId,\r\n                                data: frames[index],\r\n                                outputDir: path,\r\n                                frame: index\r\n                            })\r\n                        }                        \r\n                    }\r\n                }\r\n            }\r\n\r\n            if (renderAnimation.state.numberOfRenderingRequired == 0) {\r\n                renderAnimation.renderOutput()\r\n            }\r\n        })\r\n\r\n\r\n\r\n\r\n    },\r\n\r\n    renderFrame: function ({ elementId, elements }) {\r\n        let canvas = renderAnimation.state.animateElements[elementId].canvas\r\n        let context = renderAnimation.state.animateElements[elementId].context\r\n\r\n        let allPoints = elements.animation[\"position\"].allpoints\r\n        let canvasImage = []\r\n        renderAnimation.state.animateElements[elementId].renderFrameLength = allPoints[0].length\r\n    \r\n        for (let index = 0; index < allPoints[0].length; index++) {\r\n            context.clearRect(0, 0, canvas.width, canvas.height);\r\n            let point = {\r\n                x: allPoints[0][index].y,\r\n                y: index < allPoints[1].length ? allPoints[1][index].y : allPoints[1][allPoints[1].length - 1].y\r\n            }\r\n            renderAnimation.drawImage(elementId, context, point)\r\n            context.stroke();\r\n            canvasImage.push(canvas.toDataURL(\"image/png\"))        \r\n        }   \r\n        \r\n        return canvasImage\r\n    },\r\n\r\n    drawImage: function (elementId, context, point) {\r\n        let elementBody = document.querySelector(`element-control-asset[element-id='${elementId}']`).querySelector(\"img\")\r\n\r\n        let x = 0 + point.x\r\n        let y = point.y\r\n        let w = renderAnimation.state.elements[elementId].width\r\n        let h = renderAnimation.state.elements[elementId].height\r\n\r\n        context.drawImage(elementBody, x, y, w, h);\r\n    },\r\n    \r\n\r\n    saveFrame: function ({ data, outputDir, frame, elementId }) {\r\n        const frameLength = 4\r\n        const base64Data = data.substring(\"data:image/png;base64,\".length);\r\n        const fileName = `${outputDir}/` + `frame-${elementId}-${String(frame + 1).padStart(frameLength, \"0\")}.png`\r\n\r\n\r\n        \r\n        window.electronAPI.req.filesystem.writeFile(fileName, base64Data, \"base64\").then((isCompleted) => {\r\n            renderAnimation.state.animateElements[elementId].savedFrameCount += 1\r\n\r\n            if (renderAnimation.state.animateElements[elementId].savedFrameCount >= renderAnimation.state.animateElements[elementId].renderFrameLength && \r\n                renderAnimation.state.animateElements[elementId].isCombineFrames == false) {\r\n\r\n                renderAnimation.state.animateElements[elementId].isCombineFrames == true\r\n                renderAnimation.combineFrame({\r\n                    elementId: elementId,\r\n                    outputDir: outputDir\r\n                })\r\n            }\r\n        })\r\n\r\n    },\r\n\r\n\r\n    combineFrame: function ({ elementId, outputDir }) {\r\n        let outputVideoPath = `${outputDir}/${elementId}.webm`\r\n\r\n        window.electronAPI.req.ffmpeg.combineFrame(outputDir, elementId)\r\n\r\n        window.electronAPI.res.render.finishCombineFrame( (evt, combinedElementId) => {\r\n            if (combinedElementId != elementId) {\r\n                return 0\r\n            }\r\n\r\n            renderAnimation.state.elements[elementId].filetype = 'video'\r\n            renderAnimation.state.elements[elementId].isExistAudio = false\r\n            renderAnimation.state.elements[elementId].localpath = outputVideoPath\r\n            renderAnimation.state.elements[elementId].trim = { startTime: 0, endTime: renderAnimation.state.elements[elementId].duration }\r\n            renderAnimation.state.elements[elementId].height = 1080\r\n            renderAnimation.state.elements[elementId].width = 1920\r\n            renderAnimation.state.elements[elementId].location = {x: 0, y: 50}\r\n            renderAnimation.state.elements[elementId].codec = { video: \"libvpx-vp9\", audio: \"default\" }\r\n\r\n            \r\n            renderAnimation.state.renderingCount += 1\r\n            renderAnimation.state.renderingProgress = renderAnimation.state.renderingCount/renderAnimation.state.numberOfRenderingRequired*100\r\n\r\n            renderProgress.show(renderAnimation.state.renderingProgress)\r\n            \r\n\r\n            if (renderAnimation.state.renderingCount >= renderAnimation.state.numberOfRenderingRequired) {\r\n                renderAnimation.renderOutput()\r\n            }\r\n        })\r\n\r\n        \r\n        // let command = ffmpeg()\r\n        // let outputVideoPath = `${outputDir}/${elementId}.webm`\r\n        // console.log('Animation processing', renderAnimation.state.renderingCount, renderAnimation.state.numberOfRenderingRequired);\r\n\r\n        \r\n\r\n\r\n        //NOTE: 다중 애니메이션 랜더링까진 ok, 근데 투명도가 적용이 안됨\r\n\r\n        // command.input(`${outputDir}/frame-${elementId}-%04d.png`)\r\n        // command.inputFPS(50);\r\n        // command.videoCodec('libvpx-vp9')\r\n        // command.inputOptions('-pix_fmt yuva420p');\r\n        // command.format('webm')\r\n        // command.output(outputVideoPath)\r\n        // command.on('end', function() {\r\n        //     console.log('Finish processing');\r\n\r\n        //     renderAnimation.state.elements[elementId].filetype = 'video'\r\n        //     renderAnimation.state.elements[elementId].isExistAudio = false\r\n        //     renderAnimation.state.elements[elementId].localpath = outputVideoPath\r\n        //     renderAnimation.state.elements[elementId].trim = { startTime: 0, endTime: renderAnimation.state.elements[elementId].duration }\r\n        //     renderAnimation.state.elements[elementId].height = 1080\r\n        //     renderAnimation.state.elements[elementId].width = 1920\r\n        //     renderAnimation.state.elements[elementId].location = {x: 0, y: 50}\r\n        //     renderAnimation.state.elements[elementId].codec = { video: \"libvpx-vp9\", audio: \"default\" }\r\n\r\n            \r\n        //     renderAnimation.state.renderingCount += 1\r\n        //     renderAnimation.state.renderingProgress = renderAnimation.state.renderingCount/renderAnimation.state.numberOfRenderingRequired*100\r\n\r\n        //     renderProgress.show(renderAnimation.state.renderingProgress)\r\n            \r\n\r\n        //     if (renderAnimation.state.renderingCount >= renderAnimation.state.numberOfRenderingRequired) {\r\n        //         renderAnimation.renderOutput()\r\n        //     }\r\n\r\n        //     console.log('Finished processing');\r\n        // })\r\n\r\n        // command.on('error', function(err, stdout, stderr) {\r\n        //     console.log('Render Error', err.message);\r\n        // });\r\n        // command.run();\r\n\r\n    },\r\n\r\n    renderOutput: function () {\r\n        console.log('REND processing');\r\n\r\n        //ipcRenderer.send('RENDER', renderAnimation.state.elements, renderAnimation.state.options)\r\n\r\n        window.electronAPI.req.render.outputVideo(renderAnimation.state.elements, renderAnimation.state.options)\r\n        \r\n    },\r\n\r\n    \r\n\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (renderAnimation);\n\n//# sourceURL=webpack://NUGGET/./src/functions/renderAnimation.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"asset\": () => (/* reexport safe */ _functions_asset_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   \"directory\": () => (/* reexport safe */ _functions_directory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   \"fonts\": () => (/* reexport safe */ _functions_fonts_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]),\n/* harmony export */   \"mime\": () => (/* reexport safe */ _functions_mime_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   \"project\": () => (/* reexport safe */ _functions_project_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   \"renderAnimation\": () => (/* reexport safe */ _functions_renderAnimation_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _functions_asset_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./functions/asset.js */ \"./src/functions/asset.js\");\n/* harmony import */ var _functions_directory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./functions/directory.js */ \"./src/functions/directory.js\");\n/* harmony import */ var _functions_mime_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./functions/mime.js */ \"./src/functions/mime.js\");\n/* harmony import */ var _functions_project_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./functions/project.js */ \"./src/functions/project.js\");\n/* harmony import */ var _functions_renderAnimation_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./functions/renderAnimation.js */ \"./src/functions/renderAnimation.js\");\n/* harmony import */ var _functions_fonts_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./functions/fonts.js */ \"./src/functions/fonts.js\");\n/* harmony import */ var _components_asset_assetList_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/asset/assetList.js */ \"./src/components/asset/assetList.js\");\n/* harmony import */ var _components_asset_assetBrowser_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/asset/assetBrowser.js */ \"./src/components/asset/assetBrowser.js\");\n/* harmony import */ var _components_asset_assetUploader_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/asset/assetUploader.js */ \"./src/components/asset/assetUploader.js\");\n/* harmony import */ var _components_element_elementTimeline_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/element/elementTimeline.js */ \"./src/components/element/elementTimeline.js\");\n/* harmony import */ var _components_element_elementBar_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/element/elementBar.js */ \"./src/components/element/elementBar.js\");\n/* harmony import */ var _components_element_elementControl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/element/elementControl.js */ \"./src/components/element/elementControl.js\");\n/* harmony import */ var _components_keyframe_keyframeEditor_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/keyframe/keyframeEditor.js */ \"./src/components/keyframe/keyframeEditor.js\");\n/* harmony import */ var _components_menu_menuDropdown_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/menu/menuDropdown.js */ \"./src/components/menu/menuDropdown.js\");\n/* harmony import */ var _components_animation_animationPanel_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/animation/animationPanel.js */ \"./src/components/animation/animationPanel.js\");\n/* harmony import */ var _components_option_optionGroup_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./components/option/optionGroup.js */ \"./src/components/option/optionGroup.js\");\n/* harmony import */ var _components_option_optionText_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./components/option/optionText.js */ \"./src/components/option/optionText.js\");\n/* harmony import */ var _components_option_optionImage_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./components/option/optionImage.js */ \"./src/components/option/optionImage.js\");\n/* harmony import */ var _components_option_optionVideo_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./components/option/optionVideo.js */ \"./src/components/option/optionVideo.js\");\n/* harmony import */ var _components_option_optionAudio_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./components/option/optionAudio.js */ \"./src/components/option/optionAudio.js\");\n/* harmony import */ var _components_input_inputText_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./components/input/inputText.js */ \"./src/components/input/inputText.js\");\n/* harmony import */ var _components_font_selectFont_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./components/font/selectFont.js */ \"./src/components/font/selectFont.js\");\n/* harmony import */ var _components_tutorial_tutorial_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./components/tutorial/tutorial.js */ \"./src/components/tutorial/tutorial.js\");\n/* harmony import */ var _components_tutorial_tutorialPopover_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./components/tutorial/tutorialPopover.js */ \"./src/components/tutorial/tutorialPopover.js\");\n/* harmony import */ var _components_toast_toast_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./components/toast/toast.js */ \"./src/components/toast/toast.js\");\n/* harmony import */ var _components_toast_toastBox_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./components/toast/toastBox.js */ \"./src/components/toast/toastBox.js\");\n/* harmony import */ var _sass_style_scss__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./sass/style.scss */ \"./src/sass/style.scss\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\ncustomElements.define('asset-list', _components_asset_assetList_js__WEBPACK_IMPORTED_MODULE_6__.AssetList);\r\ncustomElements.define('asset-file', _components_asset_assetList_js__WEBPACK_IMPORTED_MODULE_6__.AssetFile);\r\ncustomElements.define('asset-folder', _components_asset_assetList_js__WEBPACK_IMPORTED_MODULE_6__.AssetFolder);\r\ncustomElements.define('asset-browser', _components_asset_assetBrowser_js__WEBPACK_IMPORTED_MODULE_7__.AssetBrowser);\r\ncustomElements.define('asset-upload-drop', _components_asset_assetUploader_js__WEBPACK_IMPORTED_MODULE_8__.AssetDropUploader);\r\n\r\n\r\n\r\n\r\ncustomElements.define('element-timeline', _components_element_elementTimeline_js__WEBPACK_IMPORTED_MODULE_9__.ElementTimeline);\r\ncustomElements.define('element-timeline-cursor', _components_element_elementTimeline_js__WEBPACK_IMPORTED_MODULE_9__.ElementTimelineCursor);\r\ncustomElements.define('element-timeline-ruler', _components_element_elementTimeline_js__WEBPACK_IMPORTED_MODULE_9__.ElementTimelineRuler);\r\ncustomElements.define('element-timeline-range', _components_element_elementTimeline_js__WEBPACK_IMPORTED_MODULE_9__.ElementTimelineRange);\r\ncustomElements.define('element-timeline-end', _components_element_elementTimeline_js__WEBPACK_IMPORTED_MODULE_9__.ElementTimelineEnd);\r\ncustomElements.define('element-timeline-scroll', _components_element_elementTimeline_js__WEBPACK_IMPORTED_MODULE_9__.ElementTimelineScroll);\r\n\r\n\r\n\r\n\r\n\r\ncustomElements.define('element-bar', _components_element_elementBar_js__WEBPACK_IMPORTED_MODULE_10__.ElementBar);\r\ncustomElements.define('element-control', _components_element_elementControl_js__WEBPACK_IMPORTED_MODULE_11__.ElementControl);\r\ncustomElements.define('element-control-asset', _components_element_elementControl_js__WEBPACK_IMPORTED_MODULE_11__.ElementControlAsset);\r\ncustomElements.define('drag-alignment-guide', _components_element_elementControl_js__WEBPACK_IMPORTED_MODULE_11__.DragAlignmentGuide);\r\n\r\n\r\n\r\ncustomElements.define('keyframe-editor', _components_keyframe_keyframeEditor_js__WEBPACK_IMPORTED_MODULE_12__.KeyframeEditor);\r\n\r\ncustomElements.define('menu-dropdown-body', _components_menu_menuDropdown_js__WEBPACK_IMPORTED_MODULE_13__.MenuDropdownBody);\r\ncustomElements.define('menu-dropdown-item', _components_menu_menuDropdown_js__WEBPACK_IMPORTED_MODULE_13__.MenuDropdownItem);\r\n\r\ncustomElements.define('animation-panel', _components_animation_animationPanel_js__WEBPACK_IMPORTED_MODULE_14__.AnimationPanel);\r\ncustomElements.define('animation-panel-item', _components_animation_animationPanel_js__WEBPACK_IMPORTED_MODULE_14__.AnimationPanelItem);\r\n\r\ncustomElements.define('option-group', _components_option_optionGroup_js__WEBPACK_IMPORTED_MODULE_15__.OptionGroup);\r\ncustomElements.define('option-text', _components_option_optionText_js__WEBPACK_IMPORTED_MODULE_16__.OptionText);\r\ncustomElements.define('option-image', _components_option_optionImage_js__WEBPACK_IMPORTED_MODULE_17__.OptionImage);\r\ncustomElements.define('option-video', _components_option_optionVideo_js__WEBPACK_IMPORTED_MODULE_18__.OptionVideo);\r\ncustomElements.define('option-audio', _components_option_optionAudio_js__WEBPACK_IMPORTED_MODULE_19__.OptionAudio);\r\n\r\n\r\n\r\n\r\ncustomElements.define('input-text', _components_input_inputText_js__WEBPACK_IMPORTED_MODULE_20__.InputText);\r\ncustomElements.define('select-font', _components_font_selectFont_js__WEBPACK_IMPORTED_MODULE_21__.SelectFont);\r\n\r\ncustomElements.define('tutorial-group', _components_tutorial_tutorial_js__WEBPACK_IMPORTED_MODULE_22__.Tutorial);\r\ncustomElements.define('tutorial-popover', _components_tutorial_tutorialPopover_js__WEBPACK_IMPORTED_MODULE_23__.TutorialPopover);\r\n\r\ncustomElements.define('toast-item', _components_toast_toast_js__WEBPACK_IMPORTED_MODULE_24__.Toast);\r\ncustomElements.define('toast-box', _components_toast_toastBox_js__WEBPACK_IMPORTED_MODULE_25__.ToastBox);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://NUGGET/./src/index.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	NUGGET = __webpack_exports__;
/******/ 	
/******/ })()
;